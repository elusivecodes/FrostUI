"use strict";function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:e(void 0)}(0,(function(t){var e,n;return"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=null),e=this||t,n=function(t){var e={diff:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r=r.map(e.unique),t.filter((function(t){return!r.some((function(e){return e.includes(t)}))}))},intersect:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.unique(n.reduce((function(t,r,i){return r=e.unique(r),e.merge(t,r.filter((function(t){return n.every((function(e,n){return i==n||e.includes(t)}))})))}),[]))},merge:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(e,n){return Array.prototype.push.apply(e,n),t}),t)},randomValue:function(t){return t.length?t[e.randomInt(t.length)]:null},range:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=Math.sign(n-t);return new Array(Math.abs(n-t)/r+1|0).fill().map((function(n,o){return t+e.toStep(o*r*i,r)}))},unique:function(t){return Array.from(new Set(t))},wrap:function(t){return e.isUndefined(t)?[]:e.isArray(t)?t:e.isArrayLike(t)?e.merge([],t):[t]},animation:function(n,r){var i,o,s,a=function(){for(var t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];o=a,s||(r&&n.apply(void 0,_toConsumableArray(o)),s=!0,i=e._requestAnimationFrame((function(t){r||n.apply(void 0,_toConsumableArray(o)),s=!1,i=null})))};return a.cancel=function(e){i&&("requestAnimationFrame"in t?t.cancelAnimationFrame(i):clearTimeout(i),s=!1,i=null)},a},compose:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduceRight((function(t,e){return e(t)}),t)}},curry:function(t){return function e(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.length>=t.length?t.apply(void 0,r):function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(void 0,_toConsumableArray(r.concat(n)))}}},debounce:function(t,e,n){var r,i,o,s,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=function(){for(var u=Date.now(),c=i?i-u:null,h=arguments.length,l=new Array(h),d=0;d<h;d++)l[d]=arguments[d];if(n&&(null===c||c>=e))return i=u,void t.apply(void 0,l);o=l,!s&&a&&(s=!0,r=setTimeout((function(e){i=Date.now(),t.apply(void 0,_toConsumableArray(o)),s=!1,r=null}),c))};return u.cancel=function(t){r&&(clearTimeout(r),s=!1,r=null)},u},evaluate:function(t){return e.isFunction(t)?t():t},once:function(t){var e,n;return function(){return e?n:(e=!0,n=t.apply(void 0,arguments))}},partial:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.apply(void 0,_toConsumableArray(r.slice().map((function(t){return e.isUndefined(t)?i.shift():t})).concat(i)))}},pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},throttle:function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e.debounce(t,n,r,i)},times:function(t,e){for(;e--&&!1!==t(););}};return e._requestAnimationFrame="requestAnimationFrame"in t?function(){return t.requestAnimationFrame.apply(t,arguments)}:function(t){return setTimeout(t,1e3/60)},e._splitString=function(t){return"".concat(t).split(/[^a-zA-Z0-9']|(?=[A-Z])/).reduce((function(t,e){return(e=e.replace(/[^\w]/,"").toLowerCase())&&t.push(e),t}),[])},e.clamp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(e,Math.min(n,t))},e.clampPercent=function(t){return e.clamp(t,0,100)},e.dist=function(t,n,r,i){return e.len(t-r,n-i)},e.inverseLerp=function(t,e,n){return(n-t)/(e-t)},e.len=Math.hypot,e.lerp=function(t,e,n){return t*(1-n)+e*n},e.map=function(t,e,n,r,i){return(t-e)*(i-r)/(n-e)+r},e.random=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.isNull(n)?Math.random()*t:e.map(Math.random(),0,1,t,n)},e.randomInt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return 0|e.random(t,n)},e.toStep=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return parseFloat((Math.round(t/e)*e).toFixed("".concat(e).replace("d*.?/","").length))},e.extend=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((function(t,n){for(var r in n)e.isArray(n[r])?t[r]=e.extend(e.isArray(t[r])?t[r]:[],n[r]):e.isPlainObject(n[r])?t[r]=e.extend(e.isPlainObject(t[r])?t[r]:{},n[r]):t[r]=n[r];return t}),t)},e.forgetDot=function(t,n){for(var r=n.split(".");(n=r.shift())&&e.isObject(t)&&n in t;)r.length?t=t[n]:delete t[n]},e.getDot=function(t,n,r){for(var i=n.split(".");n=i.shift();){if(!e.isObject(t)||!(n in t))return r;t=t[n]}return t},e.hasDot=function(t,n){for(var r=n.split(".");n=r.shift();){if(!e.isObject(t)||!(n in t))return!1;t=t[n]}return!0},e.pluckDot=function(t,n,r){return t.map((function(t){return e.getDot(t,n,r)}))},e.setDot=function(t,n,r){for(var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=n.split(".");n=o.shift();){if("*"===n){for(var s in t)e.setDot(t,[s].concat(o).join("."),r,i);return}o.length?(e.isObject(t[n])&&n in t||(t[n]={}),t=t[n]):!i&&n in t||(t[n]=r)}},e.camelCase=function(t){return e._splitString(t).map((function(t,n){return n?e.capitalize(t):t})).join("")},e.capitalize=function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()},e.escape=function(t){return t.replace(e._escapeRegExp,(function(t){return e._escapeChars[t]}))},e.escapeRegExp=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},e.humanize=function(t){return e.capitalize(e._splitString(t).join(" "))},e.kebabCase=function(t){return e._splitString(t).join("-").toLowerCase()},e.pascalCase=function(t){return e._splitString(t).map((function(t){return t.charAt(0).toUpperCase()+t.substring(1)})).join("")},e.randomString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWYXZ0123456789";return new Array(t).fill().map((function(t){return n[0|e.random(n.length)]})).join("")},e.snakeCase=function(t){return e._splitString(t).join("_").toLowerCase()},e.unescape=function(t){return t.replace(e._unescapeRegExp,(function(t,n){return e._unescapeChars[n]}))},e.isArray=Array.isArray,e.isArrayLike=function(t){return e.isArray(t)||e.isObject(t)&&!e.isFunction(t)&&!e.isWindow(t)&&!e.isElement(t)&&(Symbol.iterator in t&&e.isFunction(t[Symbol.iterator])||"length"in t&&e.isNumeric(t.length)&&(!t.length||t.length-1 in t))},e.isBoolean=function(t){return t===!!t},e.isDocument=function(t){return!!t&&t.nodeType===e.DOCUMENT_NODE},e.isElement=function(t){return!!t&&t.nodeType===e.ELEMENT_NODE},e.isFragment=function(t){return!!t&&t.nodeType===e.DOCUMENT_FRAGMENT_NODE&&!t.host},e.isFunction=function(t){return"function"==typeof t},e.isNaN=Number.isNaN,e.isNode=function(t){return!!t&&(t.nodeType===e.ELEMENT_NODE||t.nodeType===e.TEXT_NODE||t.nodeType===e.COMMENT_NODE)},e.isNull=function(t){return null===t},e.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},e.isPlainObject=function(t){return!!t&&t.constructor===Object},e.isObject=function(t){return!!t&&t===Object(t)},e.isShadow=function(t){return!!t&&t.nodeType===e.DOCUMENT_FRAGMENT_NODE&&!!t.host},e.isString=function(t){return t==="".concat(t)},e.isUndefined=function(t){return void 0===t},e.isWindow=function(t){return!!t&&!!t.document&&t.document.defaultView===t},e.ELEMENT_NODE=1,e.TEXT_NODE=3,e.COMMENT_NODE=8,e.DOCUMENT_NODE=9,e.DOCUMENT_FRAGMENT_NODE=11,e._escapeRegExp=/[&<>"']/g,e._unescapeRegExp=/\&(amp|lt|gt|quot|apos);/g,e._escapeChars={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},e._unescapeChars={amp:"&",lt:"<",gt:">",quot:'"',apos:"'"},e},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=n(e):e.Core=n(e),function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:Object.assign(t,e(t))}(this||t,(function(t){if(!t)throw new Error("FrostDOM requires a Window.");if(!("Core"in t))throw new Error("FrostDOM requires FrostCore.");var e,n=t.Core,r=t.document,i=function(){function e(r){var i=this;_classCallCheck(this,e),this._options=n.extend({},this.constructor.defaults,r),this._options.url||(this._options.url=t.location.href),this._options.cache||(this._options.url=this.constructor.appendQueryString(this._options.url,"_",Date.now())),!("Content-Type"in this._options.headers)&&this._options.contentType&&(this._options.headers["Content-Type"]=this._options.contentType),null===this._options.isLocal&&(this._options.isLocal=this.constructor._localRegExp.test(location.protocol)),this._options.isLocal||"X-Requested-With"in this._options.headers||(this._options.headers["X-Requested-With"]="XMLHttpRequest"),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this.promise=new Promise((function(t,e){i._resolve=function(e){i._isResolved=!0,t(e)},i._reject=function(t){i._isRejected=!0,e(t)}})),this._build(),this._events(),this._send()}return _createClass(e,[{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request was cancelled";this._isResolved||this._isRejected||this._isCancelled||(this._xhr.abort(),this._isCancelled=!0,this._options.rejectOnCancel&&this._reject({status:this._xhr.status,xhr:this._xhr,reason:t}))}},{key:"catch",value:function(t){return this.promise.catch(t)}},{key:"finally",value:function(t){return this.promise.finally(t)}},{key:"then",value:function(t,e){return this.promise.then(t,e)}}]),e}(),o=function(){function t(){_classCallCheck(this,t),this.data={headers:{}},this.status=200,this.timeout=0,this.upload={},this._response="Test"}return _createClass(t,[{key:"abort",value:function(){clearTimeout(this._uploadTimer),clearTimeout(this._progressTimer),clearTimeout(this._completeTimer)}},{key:"open",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;this.data.method=t,this.data.url=e,this.data.async=n,this.data.username=r,this.data.password=i}},{key:"overrideMimeType",value:function(t){this.data.mimeType=t}},{key:"send",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.data.body=e,this.responseType&&(this.data.responseType=this.responseType),this.timeout&&(this.data.timeout=this.timeout),this.upload&&this.upload.onprogress&&(this._uploadTimer=setTimeout((function(e){t._uploadTimer=null;var n=new Event("progress");n.loaded=5e3,n.total=1e4,t.upload.onprogress(n)}),10)),this.onprogress&&(this._progressTimer=setTimeout((function(e){t._progressTimer=null;var n=new Event("progress");n.loaded=500,n.total=1e3,t.onprogress(n)}),10)),this._completeTimer=setTimeout((function(e){if(t._completeTimer=null,t.forceError){if(t.onerror){var n=new Event("error");t.onerror(n)}}else if(t.data.status=t.status,t.response=t._response,t.onload){var r=new Event("load");t.onload(r)}}),20)}},{key:"setRequestHeader",value:function(t,e){this.data.headers[t]=e}}]),t}();Object.assign(i.prototype,{_build:function(){for(var t in this._xhr=this.constructor.useMock?new o:new XMLHttpRequest,this._xhr.open(this._options.method,this._options.url,!0,this._options.username,this._options.password),this._options.headers)this._xhr.setRequestHeader(t,this._options.headers[t]);this._options.responseType&&(this._xhr.responseType=this._options.responseType),this._options.mimeType&&this._xhr.overrideMimeType(this._options.mimeType),this._options.timeout&&(this._xhr.timeout=this._options.timeout)},_events:function(){var t=this;this._xhr.onload=function(e){t._xhr.status>400?t._reject({status:t._xhr.status,xhr:t._xhr,event:e}):t._resolve({response:t._xhr.response,xhr:t._xhr,event:e})},this._isLocal||(this._xhr.onerror=function(e){return t._reject({status:t._xhr.status,xhr:t._xhr,event:e})}),this._options.onProgress&&(this._xhr.onprogress=function(e){return t._options.onProgress(e.loaded/e.total,t._xhr,e)}),this._options.onUploadProgress&&(this._xhr.upload.onprogress=function(e){return t._options.onUploadProgress(e.loaded/e.total,t._xhr,e)})},_send:function(){this._options.beforeSend&&this._options.beforeSend(this._xhr),this._options.data&&this._options.processData&&n.isObject(this._options.data)&&("application/json"===this._options.contentType?this._options.data=JSON.stringify(this._options.data):"application/x-www-form-urlencoded"===this._options.contentType?this._options.data=this.constructor._parseParams(this._options.data):this._options.data=this.constructor._parseFormData(this._options.data)),this._xhr.send(this._options.data),this._options.afterSend&&this._options.afterSend(this._xhr)}}),Object.assign(i,{appendQueryString:function(e,n,r){var i=(t.location.origin+t.location.pathname).replace(/\/$/,""),o=new URL(e,i);o.searchParams.append(n,r);var s=o.toString();if(s.substring(0,e.length)===e)return s;var a=s.indexOf(e);return s.substring(a)},_parseFormData:function(t){var e,n=this._parseValues(t),r=new FormData,i=_createForOfIteratorHelper(n);try{for(i.s();!(e=i.n()).done;){var o=_slicedToArray(e.value,2),s=o[0],a=o[1];"[]"===s.substring(s.length-2)?r.append(s,a):r.set(s,a)}}catch(t){i.e(t)}finally{i.f()}return r},_parseParams:function(t){var e=this._parseValues(t).map((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return"".concat(n,"=").concat(r)})).join("&");return encodeURI(e)},_parseValue:function(t,e){if(n.isArray(e)){"[]"!==t.substring(t.length-2)&&(t+="[]");var r,i=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;i.push.apply(i,_toConsumableArray(this._parseValue(t,s)))}}catch(t){o.e(t)}finally{o.f()}return i}if(n.isObject(e)){var a=[];for(var u in e)a.push.apply(a,_toConsumableArray(this._parseValue("".concat(t,"[").concat(u,"]"),e[u])));return a}return[[t,e]]},_parseValues:function(t){if(n.isArray(t)){var e,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;r.push.apply(r,_toConsumableArray(this._parseValue(o.name,o.value)))}}catch(t){i.e(t)}finally{i.f()}return r}if(n.isObject(t)){var s=[];for(var a in t)s.push.apply(s,_toConsumableArray(this._parseValue(a,t[a])));return s}return t}}),Object.assign(i,{defaults:{afterSend:null,beforeSend:null,cache:!0,contentType:"application/x-www-form-urlencoded",data:null,headers:{},isLocal:null,method:"GET",onProgress:null,onUploadProgress:null,processData:!0,rejectOnCancel:!0,responseType:null,url:null},useMock:!1,_localRegExp:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/}),Object.setPrototypeOf(i.prototype,Promise.prototype);var s=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this._node=e,this._callback=n,this._options=_objectSpread(_objectSpread({},this.constructor.defaults),r),"start"in this._options||(this._options.start=performance.now()),this._options.debug&&(this._node.dataset.animationStart=this._options.start),this.promise=new Promise((function(t,e){i._resolve=t,i._reject=e})),this.constructor._animations.has(e)?this.constructor._animations.get(e).push(this):this.constructor._animations.set(e,[this])}return _createClass(t,[{key:"catch",value:function(t){return this.promise.catch(t)}},{key:"finally",value:function(t){return this.promise.finally(t)}},{key:"stop",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.constructor._animations.get(this._node).filter((function(e){return e!==t}));n.length?this.constructor._animations.set(this._node,n):this.constructor._animations.delete(this._node),this.update(!0,e)}},{key:"then",value:function(t,e){return this.promise.then(t,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&!e)return this._reject(this._node),!0;var r,i=performance.now();return e?r=1:(r=(i-this._options.start)/this._options.duration,this._options.infinite?r%=1:r=n.clamp(r),"ease-in"===this._options.type?r=Math.pow(r,2):"ease-out"===this._options.type?r=Math.sqrt(r):"ease-in-out"===this._options.type&&(r=r<=.5?2*Math.pow(r,2):1-2*Math.pow(1-r,2))),this._options.debug&&(this._node.dataset.animationNow=i,this._node.dataset.animationProgress=r),this._callback(this._node,r,this._options),r<1?void 0:(this._options.debug&&(delete this._node.dataset.animationStart,delete this._node.dataset.animationNow,delete this._node.dataset.animationProgress),this._resolve(this._node),!0)}}]),t}(),a=function(){function t(e){_classCallCheck(this,t),this._animations=e,this.promise=Promise.all(e)}return _createClass(t,[{key:"catch",value:function(t){return this.promise.catch(t)}},{key:"finally",value:function(t){return this.promise.finally(t)}},{key:"stop",value:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=_createForOfIteratorHelper(this._animations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.stop(e)}}catch(t){n.e(t)}finally{n.f()}}},{key:"then",value:function(t,e){return this.promise.then(t,e)}}]),t}();Object.assign(s,{clone:function(t,e){if(this._animations.has(t)){var n=this._animations.get(t).map((function(t){return new s(e,t._callback,t._options)}));this._animations.set(e,n)}},start:function(){this._animating||(this._animating=!0,this.update())},stop:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._animations.has(t)){var n,r=this._animations.get(t),i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.update(!0,e)}}catch(t){i.e(t)}finally{i.f()}this._animations.delete(t)}},update:function(){var e,n=this,r=_createForOfIteratorHelper(this._animations);try{for(r.s();!(e=r.n()).done;){var i=_slicedToArray(e.value,2),o=i[0],s=i[1];(s=s.filter((function(t){return!t.update()}))).length?this._animations.set(o,s):this._animations.delete(o)}}catch(t){r.e(t)}finally{r.f()}this._animations.size?this.useTimeout?setTimeout((function(t){return n.update()}),1e3/60):t.requestAnimationFrame((function(t){return n.update()})):this._animating=!1}}),Object.assign(s,{defaults:{duration:1e3,type:"ease-in-out",infinite:!1,debug:!1},useTimeout:!1,_animating:!1,_animations:new Map}),Object.setPrototypeOf(s.prototype,Promise.prototype),Object.setPrototypeOf(a.prototype,Promise.prototype);var u=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(_classCallCheck(this,t),!n.isDocument(e))throw new Error("Invalid document");this._context=e};Object.assign(u.prototype,{animate:function(t,e,n){var r=(t=this.parseNodes(t)).map((function(t){return new s(t,e,n)}));return s.start(),new a(r)},stop:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(r.s();!(e=r.n()).done;){var i=e.value;s.stop(i,n)}}catch(t){r.e(t)}finally{r.f()}}}),Object.assign(u.prototype,{dropIn:function(t,e){return this.slideIn(t,_objectSpread({direction:"top"},e))},dropOut:function(t,e){return this.slideOut(t,_objectSpread({direction:"top"},e))},fadeIn:function(t,e){return this.animate(t,(function(t,e){return t.style.setProperty("opacity",e<1?e.toFixed(2):"")}),e)},fadeOut:function(t,e){return this.animate(t,(function(t,e){return t.style.setProperty("opacity",e<1?(1-e).toFixed(2):"")}),e)},rotateIn:function(t,e){return this.animate(t,(function(t,e,n){var r=((90-90*e)*(n.inverse?-1:1)).toFixed(2);t.style.setProperty("transform",e<1?"rotate3d(".concat(n.x,", ").concat(n.y,", ").concat(n.z,", ").concat(r,"deg)"):"")}),_objectSpread({x:0,y:1,z:0},e))},rotateOut:function(t,e){return this.animate(t,(function(t,e,n){var r=(90*e*(n.inverse?-1:1)).toFixed(2);t.style.setProperty("transform",e<1?"rotate3d(".concat(n.x,", ").concat(n.y,", ").concat(n.z,", ").concat(r,"deg)"):"")}),_objectSpread({x:0,y:1,z:0},e))},slideIn:function(t,e){var r=this;return this.animate(t,(function(t,e,i){if(1===e)return t.style.setProperty("overflow",""),void(i.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));var o,s,a,u=n.evaluate(i.direction);["top","bottom"].includes(u)?(o=i.useGpu?"Y":"margin-top",s=r.constructor._height(t),a="top"===u):(o=i.useGpu?"X":"margin-left",s=r.constructor._width(t),a="left"===u);var c=((s-s*e)*(a?-1:1)).toFixed(2);i.useGpu?t.style.setProperty("transform","translate".concat(o,"(").concat(c,"px)")):t.style.setProperty(o,"".concat(c,"px"))}),_objectSpread({direction:"bottom",useGpu:!0},e))},slideOut:function(t,e){var r=this;return this.animate(t,(function(t,e,i){if(1===e)return t.style.setProperty("overflow",""),void(i.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));var o,s,a,u=n.evaluate(i.direction);["top","bottom"].includes(u)?(o=i.useGpu?"Y":"margin-top",s=r.constructor._height(t),a="top"===u):(o=i.useGpu?"X":"margin-left",s=r.constructor._width(t),a="left"===u);var c=(s*e*(a?-1:1)).toFixed(2);i.useGpu?t.style.setProperty("transform","translate".concat(o,"(").concat(c,"px)")):t.style.setProperty(o,"".concat(c,"px"))}),_objectSpread({direction:"bottom",useGpu:!0},e))},squeezeIn:function(t,e){t=this.parseNodes(t),e=_objectSpread({direction:"bottom",useGpu:!0},e);var r=t.map((function(t){var r=t.style.height,i=t.style.width;return t.style.setProperty("overflow","hidden"),new s(t,(function(t,e,o){if(t.style.setProperty("height",r),t.style.setProperty("width",i),1===e)return t.style.setProperty("overflow",""),void(o.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));var s,a,c=n.evaluate(o.direction);["top","bottom"].includes(c)?(s="height","top"===c&&(a=o.useGpu?"Y":"margin-top")):(s="width","left"===c&&(a=o.useGpu?"X":"margin-left"));var h=u["_".concat(s)](t),l=(h*e).toFixed(2);if(t.style.setProperty(s,"".concat(l,"px")),a){var d=(h-l).toFixed(2);o.useGpu?t.style.setProperty("transform","translate".concat(a,"(").concat(d,"px)")):t.style.setProperty(a,"".concat(d,"px"))}}),e)}));return s.start(),new a(r)},squeezeOut:function(t,e){t=this.parseNodes(t),e=_objectSpread({direction:"bottom",useGpu:!0},e);var r=t.map((function(t){var r=t.style.height,i=t.style.width;return t.style.setProperty("overflow","hidden"),new s(t,(function(t,e,o){if(t.style.setProperty("height",r),t.style.setProperty("width",i),1===e)return t.style.setProperty("overflow",""),void(o.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));var s,a,c=n.evaluate(o.direction);["top","bottom"].includes(c)?(s="height","top"===c&&(a=o.useGpu?"Y":"margin-top")):(s="width","left"===c&&(a=o.useGpu?"X":"margin-left"));var h=u["_".concat(s)](t),l=(h-h*e).toFixed(2);if(t.style.setProperty(s,"".concat(l,"px")),a){var d=(h-l).toFixed(2);o.useGpu?t.style.setProperty("transform","translate".concat(a,"(").concat(d,"px)")):t.style.setProperty(a,"".concat(d,"px"))}}),e)}));return s.start(),new a(r)}}),Object.assign(u.prototype,{clearQueue:function(t){var e,n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;this.constructor._clearQueue(r)}}catch(t){n.e(t)}finally{n.f()}},queue:function(t,e){var n,r=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;this.constructor._queue(i,e)}}catch(t){r.e(t)}finally{r.f()}}}),Object.assign(u.prototype,{getAttribute:function(t,e){var n=this.parseNode(t);if(n)return e?n.getAttribute(e):this.constructor._getAttributes(n,e)},getDataset:function(t,e){var r=this.parseNode(t);if(r){if(e)return e=n.camelCase(e),this.constructor._parseDataset(r.dataset[e]);var i={};for(var o in r.dataset)i[o]=this.constructor._parseDataset(r.dataset[o]);return i}},getHTML:function(t){return this.getProperty(t,"innerHTML")},getProperty:function(t,e){var n=this.parseNode(t);if(n)return n[e]},getText:function(t){return this.getProperty(t,"innerText")},getValue:function(t){return this.getProperty(t,"value")},removeAttribute:function(t,e){var n,r=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(r.s();!(n=r.n()).done;){n.value.removeAttribute(e)}}catch(t){r.e(t)}finally{r.f()}},removeDataset:function(t,e){var r,i=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e=n.camelCase(e),delete o.dataset[e]}}catch(t){i.e(t)}finally{i.f()}},removeProperty:function(t,e){var n,r=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(r.s();!(n=r.n()).done;){delete n.value[e]}}catch(t){r.e(t)}finally{r.f()}},setAttribute:function(t,e,n){t=this.parseNodes(t);var r,i=this.constructor._parseData(e,n),o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.constructor._setAttributes(s,i)}}catch(t){o.e(t)}finally{o.f()}},setDataset:function(t,e,n){t=this.parseNodes(t);var r,i=this.constructor._parseData(e,n,!0),o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.constructor._setDataset(s,i)}}catch(t){o.e(t)}finally{o.f()}},setHTML:function(t,e){this.empty(t),this.setProperty(t,"innerHTML",e)},setProperty:function(t,e,n){t=this.parseNodes(t);var r,i=this.constructor._parseData(e,n),o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;for(var a in i)s[a]=i[a]}}catch(t){o.e(t)}finally{o.f()}},setText:function(t,e){this.empty(t),this.setProperty(t,"innerText",e)},setValue:function(t,e){this.setProperty(t,"value",e)}}),Object.assign(u.prototype,{cloneData:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0,window:!0});var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,s=_createForOfIteratorHelper(e);try{for(s.s();!(i=s.n()).done;){var a=i.value;this.constructor._cloneData(o,a)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){r.e(t)}finally{r.f()}},getData:function(t,e){var n=this.parseNode(t,{fragment:!0,shadow:!0,document:!0,window:!0});if(n)return this.constructor._getData(n,e)},removeData:function(t,e){var n,r=_createForOfIteratorHelper(t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}));try{for(r.s();!(n=r.n()).done;){var i=n.value;this.constructor._removeData(i,e)}}catch(t){r.e(t)}finally{r.f()}},setData:function(t,e,n){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0});var r,i=this.constructor._parseData(e,n),o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.constructor._setData(s,i)}}catch(t){o.e(t)}finally{o.f()}}}),Object.assign(u.prototype,{center:function(t,e){var n=this.rect(t,e);if(n)return{x:n.left+n.width/2,y:n.top+n.height/2}},constrain:function(t,e){var n=this.rect(e);if(n){var r,i=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=this.constructor._rect(o),a={};s.height>n.height&&(a.height=n.height),s.width>n.width&&(a.width=n.width);var u=void 0;if(s.left-n.left<0?u=s.left-n.left:s.right-n.right>0&&(u=s.right-n.right),u){var c=this.constructor._css(o,"left"),h=c&&"auto"!==c?parseFloat(c):0;a.left="".concat(h-u,"px")}var l=void 0;if(s.top-n.top<0?l=s.top-n.top:s.bottom-n.bottom>0&&(l=s.bottom-n.bottom),l){var d=this.constructor._css(o,"top"),f=d&&"auto"!==d?parseFloat(d):0;a.top="".concat(f-l,"px")}"static"===this.constructor._css(o,"position")&&(a.position="relative"),this.constructor._setStyles(o,a)}}catch(t){i.e(t)}finally{i.f()}}},distTo:function(t,e,r,i){var o=this.center(t,i);if(o)return n.dist(o.x,o.y,e,r)},distToNode:function(t,e){var n=this.center(e);if(n)return this.distTo(t,n.x,n.y)},nearestTo:function(t,e,n,r){var i,o,s=Number.MAX_VALUE,a=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(a.s();!(o=a.n()).done;){var u=o.value,c=this.distTo(u,e,n,r);c&&c<s&&(s=c,i=u)}}catch(t){a.e(t)}finally{a.f()}return i},nearestToNode:function(t,e){var n=this.center(e);if(n)return this.nearestTo(t,n.x,n.y)},percentX:function(t,e,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.rect(t,r);if(o){var s=(e-o.left)/o.width*100;return i?n.clampPercent(s):s}},percentY:function(t,e,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.rect(t,r);if(o){var s=(e-o.top)/o.height*100;return i?n.clampPercent(s):s}},position:function(t,e){var n=this.parseNode(t);if(n)return this.constructor._forceShow(n,(function(t){var n={x:t.offsetLeft,y:t.offsetTop};if(e)for(var r=t;r=r.offsetParent;)n.x+=r.offsetLeft,n.y+=r.offsetTop;return n}))},rect:function(t,e){var n=this.parseNode(t);if(n)return this.constructor._rect(n,e)}}),Object.assign(u.prototype,{getScrollX:function(t){var e=this.parseNode(t,{document:!0,window:!0});if(e)return n.isWindow(e)?e.scrollX:n.isDocument(e)?e.scrollingElement.scrollLeft:e.scrollLeft},getScrollY:function(t){var e=this.parseNode(t,{document:!0,window:!0});if(e)return n.isWindow(e)?e.scrollY:n.isDocument(e)?e.scrollingElement.scrollTop:e.scrollTop},setScroll:function(t,e,r){var i,o=_createForOfIteratorHelper(t=this.parseNodes(t,{document:!0,window:!0}));try{for(o.s();!(i=o.n()).done;){var s=i.value;n.isWindow(s)?s.scroll(e,r):n.isDocument(s)?(s.scrollingElement.scrollLeft=e,s.scrollingElement.scrollTop=r):(s.scrollLeft=e,s.scrollTop=r)}}catch(t){o.e(t)}finally{o.f()}},setScrollX:function(t,e){var r,i=_createForOfIteratorHelper(t=this.parseNodes(t,{document:!0,window:!0}));try{for(i.s();!(r=i.n()).done;){var o=r.value;n.isWindow(o)?o.scroll(e,o.scrollY):n.isDocument(o)?o.scrollingElement.scrollLeft=e:o.scrollLeft=e}}catch(t){i.e(t)}finally{i.f()}},setScrollY:function(t,e){var r,i=_createForOfIteratorHelper(t=this.parseNodes(t,{document:!0,window:!0}));try{for(i.s();!(r=i.n()).done;){var o=r.value;n.isWindow(o)?o.scroll(o.scrollX,e):n.isDocument(o)?o.scrollingElement.scrollTop=e:o.scrollTop=e}}catch(t){i.e(t)}finally{i.f()}}}),Object.assign(u.prototype,{height:function(t,e){var r=this.parseNode(t,{document:!0,window:!0});if(r)return n.isWindow(r)?e?r.outerHeight:r.innerHeight:(n.isUndefined(e)&&(e=1),this.constructor._height(r,e))},scrollHeight:function(t){var e=this.parseNode(t,{document:!0});if(e)return this.constructor._forceShow(e,(function(t){return n.isDocument(t)&&(t=t.documentElement),t.scrollHeight}))},scrollWidth:function(t){var e=this.parseNode(t,{document:!0});if(e)return this.constructor._forceShow(e,(function(t){return n.isDocument(t)&&(t=t.documentElement),t.scrollWidth}))},width:function(t,e){var r=this.parseNode(t,{document:!0,window:!0});if(r)return n.isWindow(r)?e?r.outerWidth:r.innerWidth:(n.isUndefined(e)&&(e=1),this.constructor._width(r,e))}}),Object.assign(u.prototype,{addClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(t=this.parseNodes(t),(n=this.constructor._parseClasses(n)).length){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s,a=i.value;(s=a.classList).add.apply(s,_toConsumableArray(n))}}catch(t){o.e(t)}finally{o.f()}}},css:function(t,e){var n=this.parseNode(t);if(n)return this.constructor._css(n,e)},getStyle:function(t,e){var r=this.parseNode(t);if(r){if(e)return e=n.kebabCase(e),r.style[e];var i,o={},s=_createForOfIteratorHelper(r.style);try{for(s.s();!(i=s.n()).done;){var a=i.value;o[a]=r.style[a]}}catch(t){s.e(t)}finally{s.f()}return o}},hide:function(t){this.setStyle(t,"display","none")},removeClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(t=this.parseNodes(t),(n=this.constructor._parseClasses(n)).length){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s,a=i.value;(s=a.classList).remove.apply(s,_toConsumableArray(n))}}catch(t){o.e(t)}finally{o.f()}}},setStyle:function(t,e,n,r){t=this.parseNodes(t);var i,o=this.constructor._parseData(e,n),s=_createForOfIteratorHelper(t);try{for(s.s();!(i=s.n()).done;){var a=i.value;this.constructor._setStyles(a,o,r)}}catch(t){s.e(t)}finally{s.f()}},show:function(t){this.setStyle(t,"display","")},toggle:function(t){var e,n=_createForOfIteratorHelper(t=this.parseNodes(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;r.style.setProperty("display","none"===r.style.display?"":"none")}}catch(t){n.e(t)}finally{n.f()}},toggleClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(t=this.parseNodes(t),(n=this.constructor._parseClasses(n)).length){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s,a=i.value,u=_createForOfIteratorHelper(n);try{for(u.s();!(s=u.n()).done;){var c=s.value;a.classList.toggle(c)}}catch(t){u.e(t)}finally{u.f()}}}catch(t){o.e(t)}finally{o.f()}}}}),Object.assign(u.prototype,{getCookie:function(t){var e=this._context.cookie.split(";").find((function(e){return e.trimStart().substring(0,t.length)===t})).trimStart();return e?decodeURIComponent(e.substring(t.length+1)):null},removeCookie:function(t,e){if(t){var n="".concat(t,"=;expires=Thu, 01 Jan 1970 00:00:00 UTC");e&&(e.path&&(n+=";path=".concat(e.path)),e.secure&&(n+=";secure")),this._context.cookie=n}},setCookie:function(t,e,n){if(t){var r="".concat(t,"=").concat(e);if(n){if(n.expires){var i=new Date;i.setTime(i.getTime()+1e3*n.expires),r+=";expires=".concat(i.toUTCString())}n.path&&(r+=";path=".concat(n.path)),n.secure&&(r+=";secure")}this._context.cookie=r}}}),Object.assign(u.prototype,{mouseDragFactory:function(e,r,i){var o=this,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r&&s&&(r=n.animation(r),i&&(i=n.animation(i))),function(n){if(e&&!1===e(n))return!1;r&&o.addEvent(t,"mousemove",r),(r||i)&&o.addEventOnce(t,"mouseup",(function(e){r&&o.removeEvent(t,"mousemove",r),i&&i(e)}))}}}),Object.assign(u.prototype,{blur:function(t){var e=this.parseNode(t);e&&e.blur()},click:function(t){var e=this.parseNode(t);e&&e.click()},focus:function(t){var e=this.parseNode(t);e&&e.focus()},ready:function(e){"complete"!==this._context.readyState?t.addEventListener("DOMContentLoaded",e,{once:!0}):e()}}),Object.assign(u.prototype,{addEvent:function(t,e,n,r,i){var o,s=_createForOfIteratorHelper(t=this.parseNodes(t,{shadow:!0,document:!0,window:!r}));try{for(s.s();!(o=s.n()).done;){var a,u=o.value,c=_createForOfIteratorHelper(this.constructor._parseEvents(e));try{for(c.s();!(a=c.n()).done;){var h=a.value;this.constructor._addEvent(u,h,n,r,i)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){s.e(t)}finally{s.f()}},addEventDelegate:function(t,e,n,r){this.addEvent(t,e,r,n)},addEventDelegateOnce:function(t,e,n,r){this.addEvent(t,e,r,n,!0)},addEventOnce:function(t,e,n){this.addEvent(t,e,n,null,!0)},cloneEvents:function(t,e){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{shadow:!0,document:!0,window:!0});var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,s=_createForOfIteratorHelper(e);try{for(s.s();!(i=s.n()).done;){var a=i.value;this.constructor._cloneEvents(o,a)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){r.e(t)}finally{r.f()}},removeEvent:function(t,e,n,r){t=this.parseNodes(t,{shadow:!0,document:!0,window:!r}),e=!!e&&this.constructor._parseEvents(e);var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(this.constructor._events.has(s))if(e){var a,u=_createForOfIteratorHelper(e);try{for(u.s();!(a=u.n()).done;){var c=a.value;this.constructor._removeEvent(s,c,n,r)}}catch(t){u.e(t)}finally{u.f()}}else this.constructor._removeEvent(s,e,n,r)}}catch(t){o.e(t)}finally{o.f()}},removeEventDelegate:function(t,e,n,r){this.removeEvent(t,e,r,n)},triggerEvent:function(t,e,n){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.constructor._parseEvents(e);var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o,s=r.value,a=_createForOfIteratorHelper(e);try{for(a.s();!(o=a.n()).done;){var u=o.value;this.constructor._triggerEvent(s,u,n)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){i.e(t)}finally{i.f()}},triggerOne:function(t,e,n){var r=this.parseNode(t,{shadow:!0,document:!0,window:!0});return this.constructor._triggerEvent(r,e,n)}}),Object.assign(u.prototype,{attachShadow:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.parseNode(t);if(n)return n.attachShadow({mode:e?"open":"closed"})},create:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",r=arguments.length>1?arguments[1]:void 0,i=this._context.createElement(e);if(!r)return i;("html"in r?i.innerHTML=r.html:"text"in r&&(i.innerText=r.text),"class"in r)&&(t=i.classList).add.apply(t,_toConsumableArray(this.constructor._parseClasses(n.wrap(r.class))));if("style"in r&&this.constructor._setStyles(i,r.style),"value"in r&&(i.value=r.value),"attributes"in r&&this.constructor._setAttributes(i,r.attributes),"properties"in r)for(var o in r.properties)i[o]=r.properties[o];if("dataset"in r){var s=this.constructor._parseData(r.dataset,null,!0);this.constructor._setDataset(i,s)}return i},createComment:function(t){return this._context.createComment(t)},createFragment:function(){return this._context.createDocumentFragment()},createRange:function(){return this._context.createRange()},createText:function(t){return this._context.createTextNode(t)},parseHTML:function(t){return n.wrap(this.createRange().createContextualFragment(t).children)}}),Object.assign(u.prototype,{clone:function(t,e){var n=this;return e=_objectSpread({deep:!0},e),(t=this.parseNodes(t,{node:!0,fragment:!0})).map((function(t){return n.constructor._clone(t,e)}))},detach:function(t){var e,n=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.parentNode;i&&i.removeChild(r)}}catch(t){n.e(t)}finally{n.f()}return t},empty:function(t){var e,n=_createForOfIteratorHelper(t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}));try{for(n.s();!(e=n.n()).done;){var r=e.value;this.constructor._empty(r)}}catch(t){n.e(t)}finally{n.f()}},remove:function(t){var e,n=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.parentNode;i&&(this.constructor._remove(r),i.removeChild(r))}}catch(t){n.e(t)}finally{n.f()}},replaceAll:function(t,e){this.replaceWith(e,t)},replaceWith:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var r,i=this.createFragment(),o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;i.insertBefore(s,null)}}catch(t){o.e(t)}finally{o.f()}e=n.wrap(i.childNodes);var a,u=(t=t.filter((function(n){return!e.includes(n)&&!t.some((function(t){return!t.isSameNode(n)&&t.contains(n)}))})))[t.length-1],c=_createForOfIteratorHelper(t);try{for(c.s();!(a=c.n()).done;){var h=a.value,l=h.parentNode;if(l){var d,f=_createForOfIteratorHelper(e);try{for(f.s();!(d=f.n()).done;){var p=d.value;l.insertBefore(h.isSameNode(u)?p:this.constructor._clone(p,{deep:!0,events:!0,data:!0,animations:!0}),h)}}catch(t){f.e(t)}finally{f.f()}}}}catch(t){c.e(t)}finally{c.f()}var _,v=_createForOfIteratorHelper(t);try{for(v.s();!(_=v.n()).done;){var g=_.value,m=g.parentNode;m&&(this.constructor._remove(g),m.removeChild(g))}}catch(t){v.e(t)}finally{v.f()}}}),Object.assign(u.prototype,{after:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();var n,r=t[t.length-1],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o.parentNode;if(s){var a,u=_createForOfIteratorHelper(e);try{for(u.s();!(a=u.n()).done;){var c=a.value;s.insertBefore(o.isSameNode(r)?c:this.constructor._clone(c,{deep:!0,events:!0,data:!0,animations:!0}),o.nextSibling)}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){i.e(t)}finally{i.f()}},append:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var n,r=t[t.length-1],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o,s=n.value,a=_createForOfIteratorHelper(e);try{for(a.s();!(o=a.n()).done;){var u=o.value;s.insertBefore(s.isSameNode(r)?u:this.constructor._clone(u,{deep:!0,events:!0,data:!0,animations:!0}),null)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){i.e(t)}finally{i.f()}},appendTo:function(t,e){this.append(e,t)},before:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var n,r=t[t.length-1],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o.parentNode;if(s){var a,u=_createForOfIteratorHelper(e);try{for(u.s();!(a=u.n()).done;){var c=a.value;s.insertBefore(o.isSameNode(r)?c:this.constructor._clone(c,{deep:!0,events:!0,data:!0,animations:!0}),o)}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){i.e(t)}finally{i.f()}},insertAfter:function(t,e){this.after(e,t)},insertBefore:function(t,e){this.before(e,t)},prepend:function(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});var n,r=t[t.length-1],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o,s=n.value,a=s.firstChild,u=_createForOfIteratorHelper(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;s.insertBefore(s.isSameNode(r)?c:this.constructor._clone(c,{deep:!0,events:!0,data:!0,animations:!0}),a)}}catch(t){u.e(t)}finally{u.f()}}}catch(t){i.e(t)}finally{i.f()}},prependTo:function(t,e){this.prepend(e,t)}}),Object.assign(u.prototype,{unwrap:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseFilter(e);var r,i=[],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s=r.value.parentNode;s&&(i.includes(s)||e&&!e(s)||i.push(s))}}catch(t){o.e(t)}finally{o.f()}for(var a=0,u=i;a<u.length;a++){var c=u[a],h=c.parentNode;if(h){var l,d=_createForOfIteratorHelper(n.wrap(c.childNodes));try{for(d.s();!(l=d.n()).done;){var f=l.value;h.insertBefore(f,c)}}catch(t){d.e(t)}finally{d.f()}this.constructor._remove(c),h.removeChild(c)}}},wrap:function(t,e){var r=this;t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{fragment:!0,html:!0});var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s.parentNode;if(a){var u,c=e.map((function(t){return r.constructor._clone(t,{deep:!0,events:!0,data:!0,animations:!0})})),h=c.slice().shift(),l=this.constructor._deepest(n.isFragment(h)?h.firstChild:h),d=_createForOfIteratorHelper(c);try{for(d.s();!(u=d.n()).done;){var f=u.value;a.insertBefore(f,s)}}catch(t){d.e(t)}finally{d.f()}l.insertBefore(s,null)}}}catch(t){o.e(t)}finally{o.f()}},wrapAll:function(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{fragment:!0,html:!0});var r=this.clone(e,{events:!0,data:!0,animations:!0}),i=t[0];if(i){var o=i.parentNode;if(o){var s,a=r[0],u=this.constructor._deepest(n.isFragment(a)?a.firstChild:a),c=_createForOfIteratorHelper(r);try{for(c.s();!(s=c.n()).done;){var h=s.value;o.insertBefore(h,i)}}catch(t){c.e(t)}finally{c.f()}var l,d=_createForOfIteratorHelper(t);try{for(d.s();!(l=d.n()).done;){var f=l.value;u.insertBefore(f,null)}}catch(t){d.e(t)}finally{d.f()}}}},wrapInner:function(t,e){var r=this;t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}),e=this.parseNodes(e,{fragment:!0,html:!0});var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s,a=i.value,u=n.wrap(a.childNodes),c=e.map((function(t){return r.constructor._clone(t,{deep:!0,events:!0,data:!0,animatinos:!0})})),h=c.slice().shift(),l=this.constructor._deepest(n.isFragment(h)?h.firstChild:h),d=_createForOfIteratorHelper(c);try{for(d.s();!(s=d.n()).done;){var f=s.value;a.insertBefore(f,null)}}catch(t){d.e(t)}finally{d.f()}var p,_=_createForOfIteratorHelper(u);try{for(_.s();!(p=_.n()).done;){var v=p.value;l.insertBefore(v,null)}}catch(t){_.e(t)}finally{_.f()}}}catch(t){o.e(t)}finally{o.f()}}}),Object.assign(u.prototype,{query:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n.isFunction(t))return this.ready(t);var i=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0,html:!0,context:e||this._context});return r?new c(i,this):new h(i,this)},queryMutable:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.query(t,e,!0)},queryOne:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.parseNode(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0,html:!0,context:e||this._context}),i=[r].filter((function(t){return t}));return n?new c(i,this):new h(i,this)},queryOneMutable:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.queryOne(t,e,!0)}}),Object.assign(u.prototype,{loadScript:function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e=_objectSpread({src:t,type:"text/javascript"},e),r||(e.src=i.appendQueryString(e.src,"_",Date.now())),new Promise((function(t,r){var i=n.create("script",{attributes:e});i.onload=function(e){return t()},i.onerror=function(t){return r()},n._context.head.appendChild(i)}))},loadScripts:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(t.map((function(t){return n.isString(t)?e.loadScript(t,null,r):e.loadScript(null,t,r)})))}}),Object.assign(u.prototype,{loadStyle:function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e=_objectSpread({href:t,rel:"stylesheet"},e),r||(e.href=i.appendQueryString(e.href,"_",Date.now())),new Promise((function(t,r){var i=n.create("link",{attributes:e});i.onload=function(e){return t()},i.onerror=function(t){return r()},n._context.head.appendChild(i)}))},loadStyles:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(t.map((function(t){return n.isString(t)?e.loadStyle(t,null,r):e.loadStyle(null,t,r)})))}}),Object.assign(u.prototype,{connected:function(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t){return t.isConnected}))},equal:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t){return e.some((function(e){return t.isEqualNode(e)}))}))},filter:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t,n){return!e||e(t,n)}))},filterOne:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find((function(t,n){return!e||e(t,n)}))||null},fixed:function(t){var e=this;return this.parseNodes(t,{node:!0}).filter((function(t){return n.isElement(t)&&"fixed"===e.constructor._css(t,"position")||e.constructor._parents(t,(function(t){return n.isElement(t)&&"fixed"===e.constructor._css(t,"position")}),!1,!0).length}))},hidden:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter((function(t){return!e.constructor._isVisible(t)}))},not:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t,n){return e&&!e(t,n)}))},notOne:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find((function(t,n){return e&&!e(t,n)}))||null},same:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((function(t){return e.some((function(e){return t.isSameNode(e)}))}))},visible:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter((function(t){return e.constructor._isVisible(t)}))},withAnimation:function(t){return this.parseNodes(t).filter((function(t){return s._animations.has(t)}))},withAttribute:function(t,e){return this.parseNodes(t).filter((function(t){return t.hasAttribute(e)}))},withChildren:function(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter((function(t){return!!t.childElementCount}))},withClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n=this.constructor._parseClasses(n),this.parseNodes(t).filter((function(t){return n.some((function(e){return t.classList.contains(e)}))}))},withCSSAnimation:function(t){var e=this;return this.parseNodes(t).filter((function(t){return e.constructor._hasCSSAnimation(t)}))},withCSSTransition:function(t){var e=this;return this.parseNodes(t).filter((function(t){return e.constructor._hasCSSTransition(t)}))},withData:function(t,e){var n=this;return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0}).filter((function(t){return n.constructor._hasData(t,e)}))},withDescendent:function(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter((function(t,n){return!e||e(t,n)}))},withProperty:function(t,e){return this.parseNodes(t).filter((function(t){return t.hasOwnProperty(e)}))}}),Object.assign(u.prototype,{find:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,r=t.match(this.constructor._fastRegExp);return r?"#"===r[1]?this.findById(r[2],e):"."===r[1]?this.findByClass(r[2],e):this.findByTag(r[2],e):(t.match(this.constructor._complexRegExp)&&(t=this.constructor._prefixSelectors(t,":scope ")),n.isDocument(e)||n.isElement(e)||n.isFragment(e)||n.isShadow(e)?n.wrap(e.querySelectorAll(t)):(e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector(t,e)))},findByClass:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(n.isDocument(e)||n.isElement(e))return n.wrap(e.getElementsByClassName(t));if(n.isFragment(e)||n.isShadow(e))return n.wrap(e.querySelectorAll(".".concat(t)));var r,i=[],o=_createForOfIteratorHelper(e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}));try{for(o.s();!(r=o.n()).done;){var s=r.value;n.merge(i,n.isFragment(s)||n.isShadow(s)?s.querySelectorAll(".".concat(t)):s.getElementsByClassName(t))}}catch(t){o.e(t)}finally{o.f()}return e.length>1&&i.length>1?n.unique(i):i},findById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;return n.isDocument(e)||n.isElement(e)||n.isFragment(e)||n.isShadow(e)?n.wrap(e.querySelectorAll("#".concat(t))):(e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector("#".concat(t),e))},findByTag:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(n.isDocument(e)||n.isElement(e))return n.wrap(e.getElementsByTagName(t));if(n.isFragment(e)||n.isShadow(e))return n.wrap(e.querySelectorAll(t));var r,i=[],o=_createForOfIteratorHelper(e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0}));try{for(o.s();!(r=o.n()).done;){var s=r.value;n.merge(i,n.isFragment(s)||n.isShadow(s)?s.querySelectorAll(t):s.getElementsByTagName(t))}}catch(t){o.e(t)}finally{o.f()}return e.length>1&&i.length>1?n.unique(i):i},findOne:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,r=t.match(this.constructor._fastRegExp);return r?"#"===r[1]?this.findOneById(r[2],e):"."===r[1]?this.findOneByClass(r[2],e):this.findOneByTag(r[2],e):(t.match(this.constructor._complexRegExp)&&(t=this.constructor._prefixSelectors(t,":scope ")),n.isDocument(e)||n.isElement(e)||n.isFragment(e)||n.isShadow(e)?e.querySelector(t):(e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector(t,e):void 0)},findOneByClass:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(n.isDocument(e)||n.isElement(e))return e.getElementsByClassName(t).item(0);if(n.isFragment(e)||n.isShadow(e))return e.querySelector(".".concat(t));if((e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0})).length){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=n.isFragment(o)||n.isShadow(o)?o.querySelector(".".concat(t)):o.getElementsByClassName(t).item(0);if(s)return s}}catch(t){i.e(t)}finally{i.f()}return null}},findOneById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;return n.isDocument(e)?e.getElementById(t):n.isElement(e)||n.isFragment(e)||n.isShadow(e)?e.querySelector("#".concat(t)):(e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector("#".concat(t),e):void 0},findOneByTag:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;if(n.isDocument(e)||n.isElement(e))return e.getElementsByTagName(t).item(0);if(n.isFragment(e)||n.isShadow(e))return e.querySelector(t);if((e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0})).length){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=n.isFragment(o)||n.isShadow(o)?o.querySelector(t):o.getElementsByTagName(t).item(0);if(s)return s}}catch(t){i.e(t)}finally{i.f()}return null}}}),Object.assign(u.prototype,{child:function(t,e){return this.children(t,e,!0)},children:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e=this.parseFilter(e),n.isElement(t)||n.isDocument(t)||n.isFragment(t)||n.isShadow(t))return this.constructor._children(t,e,r,i);var o,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}));try{for(a.s();!(o=a.n()).done;){var u=o.value;n.merge(s,this.constructor._children(u,e,r,i))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?n.unique(s):s},closest:function(t,e,n){return this.parents(t,e,n,!0)},commonAncestor:function(t){if((t=this.sort(t)).length&&!t.some((function(t){return!t.parentNode}))){var e=this.createRange();return 1===t.length?e.selectNode(t.shift()):(e.setStartBefore(t.shift()),e.setEndAfter(t.pop())),e.commonAncestorContainer}},contents:function(t){return this.children(t,!1,!1,!1)},fragment:function(t){var e=this.parseNode(t);if(e)return e.content},next:function(t,e){if(e=this.parseFilter(e),n.isNode(t))return this.constructor._next(t,e);var r,i=[],o=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(o.s();!(r=o.n()).done;){var s=r.value;n.merge(i,this.constructor._nextAll(s,e,null,!0))}}catch(t){o.e(t)}finally{o.f()}return t.length>1&&i.length>1?n.unique(i):i},nextAll:function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e=this.parseFilter(e),r=this.parseFilter(r),n.isNode(t))return this.constructor._nextAll(t,e,r,i);var o,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(a.s();!(o=a.n()).done;){var u=o.value;n.merge(s,this.constructor._nextAll(u,e,r,i))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?n.unique(s):s},offsetParent:function(t){return this.forceShow(t,(function(t){return t.offsetParent}))},parent:function(t,e){if(e=this.parseFilter(e),n.isNode(t))return this.constructor._parent(t,e);var r,i=[],o=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(o.s();!(r=o.n()).done;){var s=r.value;n.merge(i,this.constructor._parent(s,e))}}catch(t){o.e(t)}finally{o.f()}return t.length>1&&i.length>1?n.unique(i):i},parents:function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e=this.parseFilter(e),r=this.parseFilter(r),n.isNode(t))return this.constructor._parents(t,e,r,i);var o,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(a.s();!(o=a.n()).done;){var u=o.value;n.merge(s,this.constructor._parents(u,e,r,i))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?n.unique(s):s},prev:function(t,e){if(e=this.parseFilter(e),n.isNode(t))return this.constructor._prev(t,e);var r,i=[],o=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(o.s();!(r=o.n()).done;){var s=r.value;n.merge(i,this.constructor._prev(s,e))}}catch(t){o.e(t)}finally{o.f()}return t.length>1&&i.length>1?n.unique(i):i},prevAll:function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e=this.parseFilter(e),r=this.parseFilter(r),n.isNode(t))return this.constructor._prevAll(t,e,r,i);var o,s=[],a=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(a.s();!(o=a.n()).done;){var u=o.value;n.merge(s,this.constructor._prevAll(u,e,r,i))}}catch(t){a.e(t)}finally{a.f()}return t.length>1&&s.length>1?n.unique(s):s},shadow:function(t){var e=this.parseNode(t);if(e)return e.shadowRoot},siblings:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e=this.parseFilter(e),n.isNode(t))return this.constructor._siblings(t,e,r);var i,o=[],s=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0}));try{for(s.s();!(i=s.n()).done;){var a=i.value;n.merge(o,this.constructor._siblings(a,e,r))}}catch(t){s.e(t)}finally{s.f()}return t.length>1&&o.length>1?n.unique(o):o}}),Object.assign(u.prototype,{parseFilter:function(t){return!!t&&(n.isFunction(t)?t:n.isString(t)?function(e){return n.isElement(e)&&e.matches(t)}:n.isNode(t)||n.isFragment(t)||n.isShadow(t)?function(e){return e.isSameNode(t)}:!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&function(e){return t.includes(e)})},parseFilterContains:function(t){var e=this;return!!t&&(n.isFunction(t)?function(e){return n.wrap(e.querySelectorAll("*")).some(t)}:n.isString(t)?function(n){return!!e.findOne(t,n)}:n.isNode(t)||n.isFragment(t)||n.isShadow(t)?function(e){return e.contains(t)}:!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&function(e){return t.some((function(t){return e.contains(t)}))})},parseNode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.parseNodesFactory(e);return this._parseNodesDeep(t,e.context||this._context,n,e.html,!0)},parseNodes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.parseNodesFactory(e);return this._parseNodesDeep(t,e.context||this._context,n,e.html)},_parseNodesDeep:function(t,e,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!t)return s?null:[];if(n.isString(t)){if(o&&"<"===t.trim().charAt(0))return this.parseHTML(t);if(!s)return this.find(t,e);var a=this.findOne(t,e);return a||null}if(r(t))return s?t:[t];if(t instanceof c){if(!s)return t.get().filter(r);var u=t.get(0);return u&&r(u)?u:null}if(t instanceof HTMLCollection)return s?t.length?t.item(0):null:n.wrap(t);if(n.isArray(t)){var h=this.constructor.parseNodesFactory({node:!0,fragment:!0,shadow:!0,document:!0,window:!0});t=t.flatMap((function(t){return i._parseNodesDeep(t,e,h,o)}))}else t=n.wrap(t);if(t.length&&(t=n.unique(t)),!s)return t.filter(r);var l=t.shift();return l&&r(l)?l:null}}),Object.assign(u.prototype,{afterSelection:function(e){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();var n=t.getSelection();if(n.rangeCount){var r=n.getRangeAt(0);n.removeAllRanges(),r.collapse();var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;r.insertNode(s)}}catch(t){o.e(t)}finally{o.f()}}},beforeSelection:function(e){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();var n=t.getSelection();if(n.rangeCount){var r=n.getRangeAt(0);n.removeAllRanges();var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;r.insertNode(s)}}catch(t){o.e(t)}finally{o.f()}}},extractSelection:function(){var e=t.getSelection();if(!e.rangeCount)return[];var r=e.getRangeAt(0);e.removeAllRanges();var i=r.extractContents();return n.wrap(i.childNodes)},getSelection:function(){var e=t.getSelection();if(!e.rangeCount)return[];var r=e.getRangeAt(0),i=n.wrap(r.commonAncestorContainer.querySelectorAll("*"));if(!i.length)return[r.commonAncestorContainer];if(1===i.length)return i;var o,s,a=r.startContainer,u=r.endContainer,c=n.isElement(a)?a:a.parentNode,h=n.isElement(u)?u:u.parentNode,l=[],d=_createForOfIteratorHelper(i.slice(i.indexOf(c),i.indexOf(h)+1));try{for(d.s();!(s=d.n()).done;){var f=s.value;o&&o.contains(f)||(o=f,l.push(f))}}catch(t){d.e(t)}finally{d.f()}return l},select:function(e){var n=this.parseNode(e,{node:!0});if(n&&"select"in n)return n.select();var r=t.getSelection();if(r.rangeCount>0&&r.removeAllRanges(),n){var i=this.createRange();i.selectNode(n),r.addRange(i)}},selectAll:function(e){e=this.sort(e);var n=t.getSelection();if(n.rangeCount&&n.removeAllRanges(),e.length){var r=this.createRange();1==e.length?r.selectNode(e.shift()):(r.setStartBefore(e.shift()),r.setEndAfter(e.pop())),n.addRange(r)}},wrapSelection:function(e){e=this.parseNodes(e,{fragment:!0,html:!0});var r=t.getSelection();if(r.rangeCount){var i=r.getRangeAt(0);r.removeAllRanges();var o,s=i.extractContents(),a=this.constructor._deepest(e.slice().shift()),u=_createForOfIteratorHelper(n.wrap(s.childNodes));try{for(u.s();!(o=u.n()).done;){var c=o.value;a.insertBefore(c,null)}}catch(t){u.e(t)}finally{u.f()}var h,l=_createForOfIteratorHelper(e);try{for(l.s();!(h=l.n()).done;){var d=h.value;i.insertNode(d)}}catch(t){l.e(t)}finally{l.f()}}}}),Object.assign(u.prototype,{hasAnimation:function(t){return this.parseNodes(t).some((function(t){return s._animations.has(t)}))},hasAttribute:function(t,e){return this.parseNodes(t).some((function(t){return t.hasAttribute(e)}))},hasChildren:function(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some((function(t){return!!t.childElementCount}))},hasClass:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n=this.constructor._parseClasses(n),this.parseNodes(t).some((function(t){return n.some((function(e){return t.classList.contains(e)}))}))},hasCSSAnimation:function(t){var e=this;return this.parseNodes(t).some((function(t){return e.constructor._hasCSSAnimation(t)}))},hasCSSTransition:function(t){var e=this;return this.parseNodes(t).some((function(t){return e.constructor._hasCSSTransition(t)}))},hasData:function(t,e){var n=this;return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}).some((function(t){return n.constructor._hasData(t,e)}))},hasDescendent:function(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some((function(t){return!e||e(t)}))},hasFragment:function(t){return this.parseNodes(t).some((function(t){return!!t.content}))},hasProperty:function(t,e){return this.parseNodes(t).some((function(t){return t.hasOwnProperty(e)}))},hasShadow:function(t){return this.parseNodes(t).some((function(t){return!!t.shadowRoot}))},is:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return!e||e(t)}))},isConnected:function(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return t.isConnected}))},isEqual:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return e.some((function(e){return t.isEqualNode(e)}))}))},isFixed:function(t){var e=this;return this.parseNodes(t,{node:!0}).some((function(t){return n.isElement(t)&&"fixed"===e.constructor._css(t,"position")||e.constructor._parents(t,(function(t){return n.isElement(t)&&"fixed"===e.constructor._css(t,"position")}),!1,!0).length}))},isHidden:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).some((function(t){return!e.constructor._isVisible(t)}))},isSame:function(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some((function(t){return e.some((function(e){return t.isSameNode(e)}))}))},isVisible:function(t){var e=this;return this.parseNodes(t,{node:!0,document:!0,window:!0}).some((function(t){return e.constructor._isVisible(t)}))}}),Object.assign(u.prototype,{exec:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._context.execCommand(t,!1,e)},forceShow:function(t,e){var n=this.parseNode(t,{node:!0});if(n)return this.constructor._forceShow(n,e)},index:function(t){var e=this.parseNode(t,{node:!0});if(e)return n.wrap(e.parentNode.children).indexOf(e)},indexOf:function(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).findIndex((function(t){return!e||e(t)}))},normalize:function(t){var e,n=_createForOfIteratorHelper(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0}));try{for(n.s();!(e=n.n()).done;){e.value.normalize()}}catch(t){n.e(t)}finally{n.f()}},sanitize:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.allowedTags,r=this.create("template",{html:t}),i=r.content,o=this.constructor._children(i,null,!1,!0),s=_createForOfIteratorHelper(o);try{for(s.s();!(e=s.n()).done;){var a=e.value;this.constructor._sanitize(a,i,n)}}catch(t){s.e(t)}finally{s.f()}return this.getHTML(r)},serialize:function(t){return i._parseParams(this.serializeArray(t))},serializeArray:function(t){var e=this;return this.parseNodes(t,{fragment:!0,shadow:!0}).reduce((function(t,r){if(n.isElement(r)&&r.matches("form")||n.isFragment(r)||n.isShadow(r))return t.concat(e.serializeArray(r.querySelectorAll("input, select, textarea")));if(n.isElement(r)&&r.matches("[disabled], input[type=submit], input[type=reset], input[type=file], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return t;var i=r.getAttribute("name");if(!i)return t;if(n.isElement(r)&&r.matches("select[multiple]")){var o,s=_createForOfIteratorHelper(r.selectedOptions);try{for(s.s();!(o=s.n()).done;){var a=o.value;t.push({name:i,value:a.value||""})}}catch(t){s.e(t)}finally{s.f()}}else t.push({name:i,value:r.value||""});return t}),[])},sort:function(t){return(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0})).sort((function(t,e){if(n.isWindow(t))return 1;if(n.isWindow(e))return-1;if(n.isDocument(t))return 1;if(n.isDocument(e))return-1;if(n.isFragment(e))return 1;if(n.isFragment(t))return-1;if(n.isShadow(t)&&(t=t.host),n.isShadow(e)&&(e=e.host),t.isSameNode(e))return 0;var r=t.compareDocumentPosition(e);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}))},tagName:function(t){var e=this.parseNode(t);if(e)return e.tagName.toLowerCase()}}),Object.assign(u,{ajax:function(t){return new i(t)},delete:function(t,e){return new i(_objectSpread({url:t,method:"DELETE"},e))},get:function(t,e,n){return new i(_objectSpread({url:t,data:e},n))},patch:function(t,e,n){return new i(_objectSpread({url:t,data:e,method:"PATCH"},n))},post:function(t,e,n){return new i(_objectSpread({url:t,data:e,method:"POST"},n))},put:function(t,e,n){return new i(_objectSpread({url:t,data:e,method:"PUT"},n))}}),Object.assign(u,{_clearQueue:function(t){this._queues.has(t)&&this._queues.delete(t)},_dequeueNode:function(t){var e=this;if(this._queues.has(t)){var n=this._queues.get(t).shift();n?Promise.resolve(n(t)).then((function(n){return e._dequeueNode(t)})).catch((function(n){return e._clearQueue(t)})):this._queues.delete(t)}},_queue:function(t,e){var n=!this._queues.has(t);n&&this._queues.set(t,[function(t){return new Promise((function(t){return setTimeout(t,0)}))}]),this._queues.get(t).push(e),n&&this._dequeueNode(t)}}),Object.assign(u,{_getAttributes:function(t){var e,n={},r=_createForOfIteratorHelper(t.attributes);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.nodeName]=i.nodeValue}}catch(t){r.e(t)}finally{r.f()}return n},_setAttributes:function(t,e){for(var n in e)t.setAttribute(n,e[n])},_setDataset:function(t,e){for(var r in e){var i=n.camelCase(r);t.dataset[i]=e[r]}}}),Object.assign(u,{_cloneData:function(t,e){this._data.has(t)&&this._setData(e,_objectSpread({},this._data.get(t)))},_getData:function(t,e){if(this._data.has(t))return e?this._data.get(t)[e]:this._data.get(t)},_removeData:function(t,e){if(this._data.has(t)){if(e){var n=this._data.get(t);if(delete n[e],Object.keys(n).length)return}this._data.delete(t)}},_setData:function(t,e){this._data.has(t)||this._data.set(t,{}),Object.assign(this._data.get(t),e)}}),Object.assign(u,{_rect:function(e,n){return this._forceShow(e,(function(e){var r=e.getBoundingClientRect();return n&&(r.x+=t.scrollX,r.y+=t.scrollY),r}))}}),Object.assign(u,{_height:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._forceShow(t,(function(t){n.isDocument(t)&&(t=t.documentElement);var i=t.clientHeight;return r===e.INNER&&(i-=parseInt(e._css(t,"padding-top"))+parseInt(e._css(t,"padding-bottom"))),r>=e.OUTER&&(i+=parseInt(e._css(t,"border-top-width"))+parseInt(e._css(t,"border-bottom-width"))),r===e.OUTER_MARGIN&&(i+=parseInt(e._css(t,"margin-top"))+parseInt(e._css(t,"margin-bottom"))),i}))},_width:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._forceShow(t,(function(t){n.isDocument(t)&&(t=t.documentElement);var i=t.clientWidth;return r===e.INNER&&(i-=parseInt(e._css(t,"padding-left"))+parseInt(e._css(t,"padding-right"))),r>=e.OUTER&&(i+=parseInt(e._css(t,"border-left-width"))+parseInt(e._css(t,"border-right-width"))),r===e.OUTER_MARGIN&&(i+=parseInt(e._css(t,"margin-left"))+parseInt(e._css(t,"margin-right"))),i}))}}),Object.assign(u,{_css:function(e,r){return this._styles.has(e)||this._styles.set(e,t.getComputedStyle(e)),r?(r=n.kebabCase(r),this._styles.get(e).getPropertyValue(r)):_objectSpread({},this._styles.get(e))},_setStyles:function(t,e,r){for(var i in e){var o=e[i];i=n.kebabCase(i),o&&n.isNumeric(o)&&!this.cssNumberProperties.includes(i)&&(o+="px"),t.style.setProperty(i,o,r?"important":"")}}}),Object.assign(u,{_delegateFactory:function(t,e,r){var i=e.match(this._complexRegExp)?this._getDelegateContainsFactory(t,e):this._getDelegateMatchFactory(t,e);return function(e){if(!t.isSameNode(e.target)){var o=i(e.target);if(o){var s={},a=function(t){s[t]=n.isFunction(e[t])?function(){return e[t].apply(e,arguments)}:e[t]};for(var u in e)a(u);return s.currentTarget=o,s.delegateTarget=t,s.originalEvent=e,Object.freeze(s),r(s)}}}},_getDelegateContainsFactory:function(t,e){var r=this;return e=this._prefixSelectors(e,":scope "),function(i){var o=n.wrap(t.querySelectorAll(e));return!!o.length&&(o.includes(i)?i:r._parents(i,(function(t){return o.includes(t)}),(function(e){return e.isSameNode(t)}),!0).shift())}},_getDelegateMatchFactory:function(t,e){var n=this;return function(r){return r.matches(e)?r:n._parents(r,(function(t){return t.matches(e)}),(function(e){return e.isSameNode(t)}),!0).shift()}},_namespaceFactory:function(t,e){return function(n){if(!("namespaceRegExp"in n)||n.namespaceRegExp.test(t))return e(n)}},_preventFactory:function(t){return function(e){!1===t(e)&&e.preventDefault()}},_selfDestructFactory:function(t,e,n,r){var i=this;return function(o){return i._removeEvent(t,e,r,n),r(o)}}}),Object.assign(u,{_addEvent:function(t,e,n,r,i){this._events.has(t)||this._events.set(t,{});var o=this._events.get(t),s={delegate:r,callback:n,selfDestruct:i},a=this._parseEvent(e),u=n;i&&(u=this._selfDestructFactory(t,e,r,u)),u=this._preventFactory(u),r&&(u=this._delegateFactory(t,r,u)),u=this._namespaceFactory(e,u),s.realCallback=u,s.event=e,s.realEvent=a,o[a]||(o[a]=[]),o[a].push(s),t.addEventListener(a,u)},_cloneEvents:function(t,e){if(this._events.has(t)){var n=this._events.get(t);for(var r in n){var i,o=_createForOfIteratorHelper(n[r]);try{for(o.s();!(i=o.n()).done;){var s=i.value;this._addEvent(e,s.event,s.callback,s.delegate,s.selfDestruct)}}catch(t){o.e(t)}finally{o.f()}}}},_removeEvent:function(t,e,n,r){var i=this;if(this._events.has(t)){var o=this._events.get(t);if(e){var s=this._parseEvent(e);o[s]&&(o[s]=o[s].filter((function(o){if(r&&r!==o.delegate||n&&n!==o.callback)return!0;if(s!==e){var a=i._eventNamespacedRegExp(e);if(!o.event.match(a))return!0}return t.removeEventListener(o.realEvent,o.realCallback),!1})),o[s].length||delete o[s],Object.keys(o).length||this._events.delete(t))}else for(var a=0,u=Object.keys(o);a<u.length;a++){var c=u[a];this._removeEvent(t,c,n,r)}}},_triggerEvent:function(t,e,n){var r=this._parseEvent(e),i=new CustomEvent(r,_objectSpread({bubbles:!0,cancelable:!0},n));return r!==e&&(i.namespace=e.substring(r.length+1),i.namespaceRegExp=this._eventNamespacedRegExp(e)),t.dispatchEvent(i)}}),Object.assign(u,{_eventNamespacedRegExp:function(t){return new RegExp("^".concat(n.escapeRegExp(t),"(?:\\.|$)"),"i")},_parseClasses:function(t){return t.flat().flatMap((function(t){return t.split(" ")}))},_parseData:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.isObject(t)?t:_defineProperty({},t,e),o={};for(var s in i){var a=i[s];o[s]=r&&(n.isObject(a)||n.isArray(a))?JSON.stringify(a):a}return o},_parseDataset:function(t){if(n.isUndefined(t))return t;var e=t.toLowerCase().trim();if(["true","on"].includes(e))return!0;if(["false","off"].includes(e))return!1;if("null"===e)return null;if(n.isNumeric(e))return parseFloat(e);if(["{","["].includes(e.charAt(0)))try{return JSON.parse(t)}catch(t){}return t},_parseEvent:function(t){return t.split(".").shift()},_parseEvents:function(t){return t.split(" ")},_prefixSelectors:function(t,e){var n=this;return t.split(this._splitRegExp).filter((function(t){return!!t})).map((function(t){return n._customSelectors.includes(t.trim().charAt(0))?"".concat(e," ").concat(t):t})).join(", ")}}),Object.assign(u,{_clone:function(t,e){var n=t.cloneNode(e.deep);return e.events&&this._cloneEvents(t,n),e.data&&this._cloneData(t,n),e.animations&&s.clone(t,n),e.deep&&this._deepClone(t,n,e),n},_deepClone:function(t,e,n){for(var r=0;r<t.childNodes.length;r++){var i=t.childNodes.item(r),o=e.childNodes.item(r);n.events&&this._cloneEvents(i,o),n.data&&this._cloneData(i,o),n.animations&&s.clone(i,o),this._deepClone(i,o,n)}},_empty:function(t){var e,r=_createForOfIteratorHelper(n.wrap(t.childNodes));try{for(r.s();!(e=r.n()).done;){var i=e.value;this._remove(i),t.removeChild(i)}}catch(t){r.e(t)}finally{r.f()}t.shadowRoot&&this._remove(t.shadowRoot),t.content&&this._remove(t.content)},_remove:function(t){var e=new Event("remove");t.dispatchEvent(e),this._empty(t),n.isElement(t)&&(this._clearQueue(t),s.stop(t),this._styles.has(t)&&this._styles.delete(t)),this._removeEvent(t),this._removeData(t)}}),Object.assign(u,{parseHTML:function(t){return(new DOMParser).parseFromString(t,"text/html")},parseXML:function(t){return(new DOMParser).parseFromString(t,"application/xml")}}),Object.assign(u,{_findBySelector:function(t,e){var r,i=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;n.merge(i,s.querySelectorAll(t))}}catch(t){o.e(t)}finally{o.f()}return e.length>1&&i.length>1?n.unique(i):i},_findOneBySelector:function(t,e){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value.querySelector(t);if(i)return i}}catch(t){r.e(t)}finally{r.f()}return null}}),Object.assign(u,{_children:function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=o?t.children:t.childNodes,a=[],u=_createForOfIteratorHelper(s);try{for(u.s();!(r=u.n()).done&&(n=r.value,e&&!e(n)||(a.push(n),!i)););}catch(t){u.e(t)}finally{u.f()}return a},_deepest:function(t){return n.wrap(t.querySelectorAll("*")).find((function(t){return!t.childElementCount}))||t},_next:function(t,e){for(var r=[];t=t.nextSibling;)if(n.isElement(t)){e&&!e(t)||r.push(t);break}return r},_nextAll:function(t,e,r){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];t=t.nextSibling;)if(n.isElement(t)){if(r&&r(t))break;if((!e||e(t))&&(o.push(t),i))break}return o},_parent:function(t,e){var n=[],r=t.parentNode;return r?(e&&!e(r)||n.push(r),n):n},_parents:function(t,e,r){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];(t=t.parentNode)&&!n.isDocument(t)&&(!r||!r(t))&&(e&&!e(t)||(o.unshift(t),!i)););return o},_prev:function(t,e){for(var r=[];t=t.previousSibling;)if(n.isElement(t)){e&&!e(t)||r.push(t);break}return r},_prevAll:function(t,e,r){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];t=t.previousSibling;)if(n.isElement(t)){if(r&&r(t))break;if((!e||e(t))&&(o.unshift(t),i))break}return o},_siblings:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[],i=t.parentNode;if(!i)return r;var o,s,a=n?i.children:i.childNodes,u=_createForOfIteratorHelper(a);try{for(u.s();!(s=u.n()).done;)o=s.value,t.isSameNode(o)||e&&!e(o)||r.push(o)}catch(t){u.e(t)}finally{u.f()}return r}}),Object.assign(u,{parseNodesFactory:function(t){return t?function(e){return(t.node?n.isNode(e):n.isElement(e))||t.fragment&&n.isFragment(e)||t.shadow&&n.isShadow(e)||t.document&&n.isDocument(e)||t.window&&n.isWindow(e)}:n.isElement}}),Object.assign(u,{_hasCSSAnimation:function(t){return!!parseFloat(this._css(t,"animation-duration"))},_hasCSSTransition:function(t){return!!parseFloat(this._css(t,"transition-duration"))},_hasData:function(t,e){return this._data.has(t)&&(!e||this._data.get(t).hasOwnProperty(e))},_isVisible:function(t){return n.isWindow(t)?"visible"===t.document.visibilityState:n.isDocument(t)?"visible"===t.visibilityState:!!t.offsetParent}}),Object.assign(u,{_forceShow:function(t,e){var r=this;if(this._isVisible(t))return e(t);var i=[];n.isElement(t)&&"none"===this._css(t,"display")&&i.push(t),n.merge(i,this._parents(t,(function(t){return n.isElement(t)&&"none"===r._css(t,"display")})));for(var o=new Map,s=0,a=i;s<a.length;s++){var u=a[s];o.set(u,u.getAttribute("style")),u.style.setProperty("display","initial","important")}var c,h=e(t),l=_createForOfIteratorHelper(o);try{for(l.s();!(c=l.n()).done;){var d=_slicedToArray(c.value,2),f=d[0],p=d[1];p?f.setAttribute("style",p):(f.getAttribute("style"),f.removeAttribute("style"))}}catch(t){l.e(t)}finally{l.f()}return h},_sanitize:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.allowedTags,r=t.tagName.toLowerCase();if(r in n){var i=[];"*"in n&&n["*"].length&&i.push.apply(i,_toConsumableArray(n["*"])),n[r].length&&i.push.apply(i,_toConsumableArray(n[r]));var o=this._getAttributes(t),s=function(e){!!i.find((function(t){return e.match(t)}))||t.removeAttribute(e)};for(var a in o)s(a);var u,c=this._children(t,null,!1,!0),h=_createForOfIteratorHelper(c);try{for(h.s();!(u=h.n()).done;){var l=u.value;this._sanitize(l,t,n)}}catch(t){h.e(t)}finally{h.f()}}else e.removeChild(t)}}),Object.assign(u,{_queues:new WeakMap,_data:new WeakMap,_events:new WeakMap,_styles:new WeakMap,allowedTags:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},cssNumberProperties:["font-weight","line-height","opacity","orphans","scale","widows","z-index"],INNER:0,OUTER:2,OUTER_MARGIN:3,_complexRegExp:/(?:^\s*[\>\+\~]|\,(?=(?:(?:[^"']*["']){2})*[^"']*$)\s*[\>\+\~])/,_customSelectors:[">","+","~"],_fastRegExp:/^([\#\.]?)([\w\-]+)$/,_splitRegExp:/\,(?=(?:(?:[^"]*"){2})*[^"]*$)\s*/});var c=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;_classCallCheck(this,t),this._dom=r,this._nodes=n}return _createClass(t,[{key:"pushNode",value:function(t){return this.pushStack([t].filter((function(t){return t})))}},{key:"pushStack",value:function(t){return this._nodes=t,this}},{key:"length",get:function(){return this._nodes.length}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"pushStack",value:function(t){return new n(t)}}]),n}(c);return Object.assign(c.prototype,{animate:function(t,e){var n=this;return this.queue((function(r){return n._dom.animate(r,t,e)}))},stop:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clearQueue(),this._dom.stop(this,t),this}}),Object.assign(c.prototype,{dropIn:function(t){var e=this;return this.queue((function(n){return e._dom.dropIn(n,t)}))},dropOut:function(t){var e=this;return this.queue((function(n){return e._dom.dropOut(n,t)}))},fadeIn:function(t){var e=this;return this.queue((function(n){return e._dom.fadeIn(n,t)}))},fadeOut:function(t){var e=this;return this.queue((function(n){return e._dom.fadeOut(n,t)}))},rotateIn:function(t){var e=this;return this.queue((function(n){return e._dom.rotateIn(n,t)}))},rotateOut:function(t){var e=this;return this.queue((function(n){return e._dom.rotateOut(n,t)}))},slideIn:function(t){var e=this;return this.queue((function(n){return e._dom.slideIn(n,t)}))},slideOut:function(t){var e=this;return this.queue((function(n){return e._dom.slideOut(n,t)}))},squeezeIn:function(t){var e=this;return this.queue((function(n){return e._dom.squeezeIn(n,t)}))},squeezeOut:function(t){var e=this;return this.queue((function(n){return e._dom.squeezeOut(n,t)}))}}),Object.assign(c.prototype,{clearQueue:function(){return this._dom.clearQueue(this),this},delay:function(t){return this.queue((function(e){return new Promise((function(e){return setTimeout(e,t)}))}))},queue:function(t){return this._dom.queue(this,t),this}}),Object.assign(c.prototype,{getAttribute:function(t){return this._dom.getAttribute(this,t)},getDataset:function(t){return this._dom.getDataset(this,t)},getHTML:function(){return this._dom.getHTML(this)},getProperty:function(t){return this._dom.getProperty(this,t)},getText:function(){return this._dom.getText(this)},getValue:function(){return this._dom.getValue(this)},removeAttribute:function(t){return this._dom.removeAttribute(this,t),this},removeDataset:function(t){return this._dom.removeDataset(this,t),this},removeProperty:function(t){return this._dom.removeProperty(this,t),this},setAttribute:function(t,e){return this._dom.setAttribute(this,t,e),this},setDataset:function(t,e){return this._dom.setDataset(this,t,e),this},setHTML:function(t){return this._dom.setHTML(this,t),this},setProperty:function(t,e){return this._dom.setProperty(this,t,e),this},setText:function(t){return this._dom.setText(this,t),this},setValue:function(t){return this._dom.setValue(this,t),this}}),Object.assign(c.prototype,{cloneData:function(t){return this._dom.cloneData(this,t),this},getData:function(t){return this._dom.getData(this,t)},removeData:function(t){return this._dom.removeData(this,t),this},setData:function(t,e){return this._dom.setData(this,t,e),this}}),Object.assign(c.prototype,{center:function(t){return this._dom.center(this,t)},constrain:function(t){return this._dom.constrain(this,t),this},distTo:function(t,e,n){return this._dom.distTo(this,t,e,n)},distToNode:function(t){return this._dom.distToNode(this,t)},nearestTo:function(t,e,n){var r=this._dom.nearestTo(this,t,e,n);return new this.constructor([r].filter((function(t){return t})))},nearestToNode:function(t){var e=this._dom.nearestToNode(this,t);return new this.constructor([e].filter((function(t){return t})))},percentX:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._dom.percentX(this,t,e,n)},percentY:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._dom.percentY(this,t,e,n)},position:function(t){return this._dom.position(this,t)},rect:function(t){return this._dom.rect(this,t)}}),Object.assign(c.prototype,{getScrollX:function(){return this._dom.getScrollX(this)},getScrollY:function(){return this._dom.getScrollY(this)},setScroll:function(t,e){return this._dom.setScroll(this,t,e),this},setScrollX:function(t){return this._dom.setScrollX(this,t),this},setScrollY:function(t){return this._dom.setScrollY(this,t),this}}),Object.assign(c.prototype,{height:function(t){return this._dom.height(this,t)},scrollHeight:function(){return this._dom.scrollHeight(this)},scrollWidth:function(){return this._dom.scrollWidth(this)},width:function(t){return this._dom.width(this,t)}}),Object.assign(c.prototype,{addClass:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this._dom).addClass.apply(t,[this].concat(n)),this},css:function(t){return this._dom.css(this,t)},getStyle:function(t){return this._dom.getStyle(this,t)},hide:function(){return this._dom.hide(this),this},removeClass:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this._dom).removeClass.apply(t,[this].concat(n)),this},setStyle:function(t,e,n){return this._dom.setStyle(this,t,e,n),this},show:function(){return this._dom.show(this),this},toggle:function(){return this._dom.toggle(this),this},toggleClass:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this._dom).toggleClass.apply(t,[this].concat(n)),this}}),Object.assign(c.prototype,{blur:function(){return this._dom.blur(this),this},click:function(){return this._dom.click(this),this},focus:function(){return this._dom.focus(this),this}}),Object.assign(c.prototype,{addEvent:function(t,e){return this._dom.addEvent(this,t,e),this},addEventDelegate:function(t,e,n){return this._dom.addEventDelegate(this,t,e,n),this},addEventDelegateOnce:function(t,e,n){return this._dom.addEventDelegateOnce(this,t,e,n),this},addEventOnce:function(t,e){return this._dom.addEventOnce(this,t,e),this},cloneEvents:function(t){return this._dom.cloneEvents(this,t),this},removeEvent:function(t,e){return this._dom.removeEvent(this,t,e),this},removeEventDelegate:function(t,e,n){return this._dom.removeEventDelegate(this,t,e,n),this},triggerEvent:function(t,e){return this._dom.triggerEvent(this,t,e),this},triggerOne:function(t,e){return this._dom.triggerOne(this,t,e)}}),Object.assign(c.prototype,{attachShadow:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=[],n=this._dom.attachShadow(this,t);return n&&e.push(n),new this.constructor(e,this._dom)}}),Object.assign(c.prototype,{clone:function(t){return new this.constructor(this._dom.clone(this,t))},detach:function(){return this._dom.detach(this),this},empty:function(){return this._dom.empty(this),this},remove:function(){return this._dom.remove(this),this.pushStack([])},replaceAll:function(t){return this._dom.replaceAll(this,t),this},replaceWith:function(t){return this._dom.replaceWith(this,t),this}}),Object.assign(c.prototype,{after:function(t){return this._dom.after(this,t),this},append:function(t){return this._dom.append(this,t),this},appendTo:function(t){return this._dom.appendTo(this,t),this},before:function(t){return this._dom.before(this,t),this},insertAfter:function(t){return this._dom.insertAfter(this,t),this},insertBefore:function(t){return this._dom.insertBefore(this,t),this},prepend:function(t){return this._dom.prepend(this,t),this},prependTo:function(t){return this._dom.prependTo(this,t),this}}),Object.assign(c.prototype,{unwrap:function(t){return this._dom.unwrap(this,t),this},wrap:function(t){return this._dom.wrap(this,t),this},wrapAll:function(t){return this._dom.wrapAll(this,t),this},wrapInner:function(t){return this._dom.wrapInner(this,t),this}}),Object.assign(c.prototype,{connected:function(){return this.pushStack(this._dom.connected(this))},equal:function(t){return this.pushStack(this._dom.equal(this,t))},filter:function(t){return this.pushStack(this._dom.filter(this,t))},filterOne:function(t){return this.pushNode(this._dom.filterOne(this,t))},fixed:function(){return this.pushStack(this._dom.fixed(this))},hidden:function(){return this.pushStack(this._dom.hidden(this))},not:function(t){return this.pushStack(this._dom.not(this,t))},notOne:function(t){return this.pushNode(this._dom.notOne(this,t))},same:function(t){return this.pushStack(this._dom.same(this,t))},visible:function(){return this.pushStack(this._dom.visible(this))},withAnimation:function(){return this.pushStack(this._dom.withAnimation(this))},withAttribute:function(t){return this.pushStack(this._dom.withAttribute(this,t))},withChildren:function(){return this.pushStack(this._dom.withChildren(this))},withClass:function(t){return this.pushStack(this._dom.withClass(this,t))},withCSSAnimation:function(){return this.pushStack(this._dom.withCSSAnimation(this))},withCSSTransition:function(){return this.pushStack(this._dom.withCSSTransition(this))},withData:function(t){return this.pushStack(this._dom.withData(this,t))},withDescendent:function(t){return this.pushStack(this._dom.withDescendent(this,t))},withProperty:function(t){return this.pushStack(this._dom.withProperty(this,t))}}),Object.assign(c.prototype,{find:function(t){return this.pushStack(this._dom.find(t,this))},findByClass:function(t){return this.pushStack(this._dom.findByClass(t,this))},findById:function(t){return this.pushStack(this._dom.findById(t,this))},findByTag:function(t){return this.pushStack(this._dom.findByTag(t,this))},findOne:function(t){return this.pushNode(this._dom.findOne(t,this))},findOneByClass:function(t){return this.pushNode(this._dom.findOneByClass(t,this))},findOneById:function(t){return this.pushNode(this._dom.findOneById(t,this))},findOneByTag:function(t){return this.pushNode(this._dom.findOneByTag(t,this))}}),Object.assign(c.prototype,{child:function(t){return this.pushStack(this._dom.child(this,t))},children:function(t){return this.pushStack(this._dom.children(this,t))},closest:function(t,e){return this.pushStack(this._dom.closest(this,t,e))},commonAncestor:function(){return this.pushNode(this._dom.commonAncestor(this))},contents:function(){return this.pushStack(this._dom.contents(this))},fragment:function(){return this.pushNode(this._dom.fragment(this))},next:function(t){return this.pushStack(this._dom.next(this,t))},nextAll:function(t,e){return this.pushStack(this._dom.nextAll(this,t,e))},offsetParent:function(){return this.pushNode(this._dom.offsetParent(this))},parent:function(t){return this.pushStack(this._dom.parent(this,t))},parents:function(t,e){return this.pushStack(this._dom.parents(this,t,e))},prev:function(t){return this.pushStack(this._dom.prev(this,t))},prevAll:function(t,e){return this.pushStack(this._dom.prevAll(this,t,e))},shadow:function(){return this.pushNode(this._dom.shadow(this))},siblings:function(t){return this.pushStack(this._dom.siblings(this,t))}}),Object.assign(c.prototype,{afterSelection:function(){return this._dom.afterSelection(this),this},beforeSelection:function(){return this._dom.beforeSelection(this),this},select:function(){return this._dom.select(this),this},selectAll:function(){return this._dom.selectAll(this),this},wrapSelection:function(){return this._dom.wrapSelection(this),this}}),Object.assign(c.prototype,{hasAnimation:function(){return this._dom.hasAnimation(this)},hasAttribute:function(t){return this._dom.hasAttribute(this,t)},hasChildren:function(){return this._dom.hasChildren(this)},hasClass:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this._dom).hasClass.apply(t,[this].concat(n))},hasCSSAnimation:function(){return this._dom.hasCSSAnimation(this)},hasCSSTransition:function(){return this._dom.hasCSSTransition(this)},hasData:function(t){return this._dom.hasData(this,t)},hasDescendent:function(t){return this._dom.hasDescendent(this,t)},hasFragment:function(){return this._dom.hasFragment(this)},hasProperty:function(t){return this._dom.hasProperty(this,t)},hasShadow:function(){return this._dom.hasShadow(this)},is:function(t){return this._dom.is(this,t)},isConnected:function(){return this._dom.isConnected(this)},isEqual:function(t){return this._dom.isEqual(this,t)},isFixed:function(){return this._dom.isFixed(this)},isHidden:function(){return this._dom.isHidden(this)},isSame:function(t){return this._dom.isSame(this,t)},isVisible:function(){return this._dom.isVisible(this)}}),Object.assign(c.prototype,_defineProperty({add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.pushStack(n.unique(n.merge([],this._nodes,this._dom.query(t,e).get()))).sort()},each:function(t){return this._nodes.forEach((function(e,n){return t(e,n)})),this},eq:function(t){return this.pushNode(this.get(t))},first:function(){return this.eq(0)},forceShow:function(t){return this._dom.forceShow(this,t)},get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this._nodes:t<0?this._nodes[t+this._nodes.length]:this._nodes[t]},index:function(){return this._dom.index(this)},indexOf:function(t){return this._dom.indexOf(this,t)},last:function(){return this.eq(-1)},map:function(t){return new this.constructor(this._nodes.map((function(e,n){return t(e,n)})))},normalize:function(){return this._dom.normalize(this),this},serialize:function(){return this._dom.serialize(this)},serializeArray:function(){return this._dom.serializeArray(this)},slice:function(t,e){return new this.constructor(this._nodes.slice(t,e))},sort:function(){return this.pushStack(this._dom.sort(this))},tagName:function(){return this._dom.tagName(this)}},Symbol.iterator,(function(){return this._nodes.values()}))),e=new u,{AjaxRequest:i,Animation:s,AnimationSet:a,DOM:u,dom:e,QuerySet:c,QuerySetImmutable:h}})),function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e:Object.assign(t,e(t))}(t,(function(t){if(!t)throw new Error("FrostUI requires a Window.");if(!("DOM"in t))throw new Error("FrostUI requires FrostDOM.");var e=t.Core,n=(t.DOM,t.dom),r=t.QuerySet,i=t.document,o={},s=function(){function t(r,i){_classCallCheck(this,t),this._node=r,this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),i),n.setData(this._node,"alert",this)}return _createClass(t,[{key:"destroy",value:function(){n.removeData(this._node,"alert")}},{key:"close",value:function(){var t=this;!this._animating&&n.triggerOne(this._node,"close.frost.alert")&&(this._animating=!0,n.fadeOut(this._node,{duration:this._settings.duration}).then((function(e){n.triggerEvent(t._node,"closed.frost.alert"),n.remove(t._node)})).catch((function(t){})).finally((function(e){t._animating=!1})))}}],[{key:"init",value:function(t,e){return n.hasData(t,"alert")?n.getData(t,"alert"):new this(t,e)}}]),t}();n.addEventDelegate(i,"click.frost.alert",'[data-dismiss="alert"]',(function(t){t.preventDefault();var e=o.getTarget(t.currentTarget,".alert");s.init(e).close()})),s.defaults={duration:250},r&&(r.prototype.alert=function(t){var n,r;e.isObject(t)?n=t:e.isString(t)&&(r=t);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var u,c=_createForOfIteratorHelper(this);try{for(c.s();!(u=c.n()).done;){var h=u.value;if(e.isElement(h)){var l=s.init(h,n);r&&l[r].apply(l,o)}}}catch(t){c.e(t)}finally{c.f()}return this}),o.Alert=s;var a=function(){function t(r,i){_classCallCheck(this,t),this._node=r,this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),i),this._input=n.findOne("input",this._node),this._isRadio=this._input&&n.is(this._input,'[type="radio"]'),this._isRadio&&(this._siblings=n.siblings(this._node)),n.setData(this._node,"button",this)}return _createClass(t,[{key:"destroy",value:function(){n.removeData(this._node,"button")}},{key:"toggle",value:function(){this._isRadio?this._toggleRadio():this._toggleCheckbox()}},{key:"_toggleCheckbox",value:function(){if(n.toggleClass(this._node,"active"),this._input){var t=n.getProperty(this._input,"checked");n.setProperty(this._input,"checked",!t),n.triggerEvent(this._input,"change")}}},{key:"_toggleRadio",value:function(){n.addClass(this._node,"active"),n.removeClass(this._siblings,"active"),n.setProperty(this._input,"checked",!0),n.triggerEvent(this._input,"change")}}],[{key:"init",value:function(t,e){return n.hasData(t,"button")?n.getData(t,"button"):new this(t,e)}}]),t}();n.addEventDelegate(i,"click.frost.button",'[data-toggle="buttons"] > *, [data-toggle="button"]',(function(t){t.preventDefault(),a.init(t.currentTarget).toggle()})),a.defaults={},r&&(r.prototype.button=function(t){var n,r;e.isObject(t)?n=t:e.isString(t)&&(r=t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var u,c=_createForOfIteratorHelper(this);try{for(c.s();!(u=c.n()).done;){var h=u.value;if(e.isElement(h)){var l=a.init(h,n);r&&l[r].apply(l,o)}}}catch(t){c.e(t)}finally{c.f()}return this}),o.Button=a;var u=function(){function t(r,i){_classCallCheck(this,t),this._node=r,this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),i),this._items=n.find(".carousel-item",this._node),this._index=this._items.findIndex((function(t){return n.hasClass(t,"active")})),this._queue=[],this._events(),n.setData(this._node,"carousel",this),"carousel"===this._settings.ride&&this._setTimer()}return _createClass(t,[{key:"cycle",value:function(){n.isHidden(i)?this._setTimer():this.slide(1)}},{key:"destroy",value:function(){this._queue=[],this._timer&&clearTimeout(this._timer),this._settings.keyboard&&n.removeEvent(this._node,"keydown.frost.carousel"),this._settings.pause&&(n.removeEvent(this._node,"mouseenter.frost.carousel"),n.removeEvent(this._node,"mouseleave.frost.carousel")),n.removeEvent(this._node,"remove.frost.carousel"),n.removeData(this._node,"carousel")}},{key:"next",value:function(){this.slide()}},{key:"pause",value:function(){this._timer&&clearTimeout(this._timer)}},{key:"prev",value:function(){this.slide(-1)}},{key:"show",value:function(t){this._show(t)}},{key:"slide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this._queue.length?this._queue[this._queue.length-1]:this._index;this.show(e+t)}}],[{key:"init",value:function(t,e){return n.hasData(t,"carousel")?n.getData(t,"carousel"):new this(t,e)}}]),t}();n.addEventDelegate(i,"click.frost.carousel",".carousel-next, .carousel-prev, [data-slide], [data-slide-to]",(function(t){t.preventDefault();var r=o.getTarget(t.currentTarget,".carousel"),i=u.init(r),s=n.getDataset(t.currentTarget,"slideTo");e.isUndefined(s)?n.hasClass(t.currentTarget,"carousel-prev")?i.prev():i.next():i.show(s)})),Object.assign(u.prototype,{_events:function(){var t=this;this._settings.keyboard&&n.addEvent(this._node,"keydown.frost.carousel",(function(e){switch(e.key){case"ArrowLeft":e.preventDefault(),t.prev().catch((function(t){}));break;case"ArrowRight":e.preventDefault(),t.next().catch((function(t){}))}})),this._settings.pause&&(n.addEvent(this._node,"mouseenter.frost.carousel",(function(e){t.pause()})),n.addEvent(this._node,"mouseleave.frost.carousel",(function(e){t._setTimer()}))),n.addEvent(this._node,"remove.frost.carousel",(function(e){t.destroy()}))},_setTimer:function(){var t=this,e=n.getDataset(this._items[this._index],"interval");this._timer=setTimeout((function(e){return t.cycle()}),e||this._settings.interval)},_show:function(t){var e=this;if(this._sliding)this._queue.push(t);else if(t=parseInt(t),this._settings.wrap||!(t<0||t>this._items.length-1)){var r=0;if(t<0?r=-1:t>this._items.length-1&&(r=1),(t%=this._items.length)<0&&(t=this._items.length+t),t!==this._index){var i=-1==r||0==r&&t<this._index?"left":"right",o={direction:i,relatedTarget:this._items[t],from:this._index,to:t};if(n.triggerOne(this._node,"slide.frost.carousel",o)){var s=this._index;this._index=t,this._sliding=!0,this.pause(),n.addClass(this._items[this._index],"active"),n.removeClass(this._items[s],"active"),n.animate(this._items[this._index],(function(t,n,r){return e._update(t,e._items[s],n,r.direction)}),{direction:i,duration:this._settings.transition}).then((function(t){var r=n.find(".active[data-slide-to]",e._node),i=n.find('[data-slide-to="'+e._index+'"]',e._node);if(n.removeClass(r,"active"),n.addClass(i,"active"),n.triggerEvent(e._node,"slid.frost.carousel",o),e._sliding=!1,e._queue.length){var s=e._queue.shift();e._show(s)}else e._setTimer()})).catch((function(t){e._sliding=!1}))}}}},_update:function(t,e,n,r){if(n>=1)return e.style.setProperty("display",""),e.style.setProperty("transform",""),void t.style.setProperty("transform","");var i="right"===r;e.style.setProperty("display","block"),e.style.setProperty("transform","translateX(".concat(Math.round(100*n)*(i?-1:1),"%)")),t.style.setProperty("transform","translateX(".concat(Math.round(100*(1-n))*(i?1:-1),"%)"))}}),u.defaults={interval:5e3,transition:500,keyboard:!0,ride:!1,pause:!0,wrap:!0},n.addEventOnce(t,"load",(function(t){var e,r=_createForOfIteratorHelper(n.find('[data-ride="carousel"]'));try{for(r.s();!(e=r.n()).done;){var i=e.value;u.init(i)}}catch(t){r.e(t)}finally{r.f()}})),r&&(r.prototype.carousel=function(t){var n,r;e.isObject(t)?n=t:e.isString(t)&&(r=t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a,c=_createForOfIteratorHelper(this);try{for(c.s();!(a=c.n()).done;){var h=a.value;if(e.isElement(h)){var l=u.init(h,n);r&&l[r].apply(l,o)}}}catch(t){c.e(t)}finally{c.f()}return this}),o.Carousel=u;var c=function(){function t(r,i){_classCallCheck(this,t),this._node=r;var o=this._node.getAttribute("id");this._triggers=n.find('[data-toggle="collapse"][data-target="#'.concat(o,'"]')),console.log(this._triggers),this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),i),this._settings.parent&&(this._parent=n.findOne(this._settings.parent)),n.setData(this._node,"collapse",this)}return _createClass(t,[{key:"destroy",value:function(){n.removeData(this._node,"collapse")}},{key:"hide",value:function(){var t=this;!this._animating&&n.hasClass(this._node,"show")&&n.triggerOne(this._node,"hide.frost.collapse")&&(this._animating=!0,n.squeezeOut(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then((function(e){n.removeClass(t._node,"show"),n.setAttribute(t._triggers,"aria-expanded",!1),n.triggerEvent(t._node,"hidden.frost.collapse")})).catch((function(t){})).finally((function(e){t._animating=!1})))}},{key:"show",value:function(){var t=this;if(!this._animating&&!n.hasClass(this._node,"show")){var e=[];if(this._parent){var r,i=_createForOfIteratorHelper(n.find(".collapse.show",this._parent));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=this.constructor.init(o);if(this._parent===s._parent){if(s._animating)return;e.push(s)}}}catch(t){i.e(t)}finally{i.f()}}if(n.triggerOne(this._node,"show.frost.collapse")){for(var a=0,u=e;a<u.length;a++){u[a].hide()}this._animating=!0,n.addClass(this._node,"show"),n.squeezeIn(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then((function(e){n.setAttribute(t._triggers,"aria-expanded",!0),n.triggerEvent(t._node,"shown.frost.collapse")})).catch((function(t){})).finally((function(e){t._animating=!1}))}}}},{key:"toggle",value:function(){n.hasClass(this._node,"show")?this.hide():this.show()}}],[{key:"init",value:function(t,e){return n.hasData(t,"collapse")?n.getData(t,"collapse"):new this(t,e)}}]),t}();n.addEventDelegate(i,"click.frost.collapse",'[data-toggle="collapse"]',(function(t){t.preventDefault();var e,r=o.getTargetSelector(t.currentTarget),i=_createForOfIteratorHelper(n.find(r));try{for(i.s();!(e=i.n()).done;){var s=e.value;c.init(s).toggle()}}catch(t){i.e(t)}finally{i.f()}})),c.defaults={direction:"bottom",duration:250},r&&(r.prototype.collapse=function(t){var n,r;e.isObject(t)?n=t:e.isString(t)&&(r=t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a,u=_createForOfIteratorHelper(this);try{for(u.s();!(a=u.n()).done;){var h=a.value;if(e.isElement(h)){var l=c.init(h,n);r&&l[r].apply(l,o)}}}catch(t){u.e(t)}finally{u.f()}return this}),o.Collapse=c;var h=function(){function t(r,i){var o=this;_classCallCheck(this,t),this._node=r,this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),i),this._containerNode=n.parent(this._node).shift(),this._menuNode=n.next(this._node,".dropdown-menu").shift(),this._settings.reference?"parent"===this._settings.reference?this._referenceNode=this._containerNode:this._referenceNode=n.findOne(this._settings.reference):this._referenceNode=this._node,n.closest(this._node,".navbar-nav").length||(this._popper=new f(this._menuNode,{reference:this._referenceNode,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})),n.addEvent(this._node,"remove.frost.dropdown",(function(t){o.destroy()})),n.setData(this._node,"dropdown",this)}return _createClass(t,[{key:"destroy",value:function(){this._popper&&this._popper.destroy(),n.removeEvent(this._node,"keyup.frost.dropdown"),n.removeEvent(this._node,"remove.frost.dropdown"),n.removeData(this._node,"dropdown")}},{key:"hide",value:function(){var t=this;!this._animating&&n.hasClass(this._containerNode,"open")&&n.triggerOne(this._node,"hide.frost.dropdown")&&(this._animating=!0,n.fadeOut(this._menuNode,{duration:this._settings.duration}).then((function(e){n.removeClass(t._containerNode,"open"),n.setAttribute(t._node,"aria-expanded",!1),n.triggerEvent(t._node,"hidden.frost.dropdown")})).catch((function(t){})).finally((function(e){t._animating=!1})))}},{key:"show",value:function(){var t=this;this._animating||n.hasClass(this._containerNode,"open")||!n.triggerOne(this._node,"show.frost.dropdown")||(this._animating=!0,n.addClass(this._containerNode,"open"),n.fadeIn(this._menuNode,{duration:this._settings.duration}).then((function(e){n.setAttribute(t._node,"aria-expanded",!0),n.triggerEvent(t._node,"shown.frost.dropdown")})).catch((function(t){})).finally((function(e){t._animating=!1})))}},{key:"toggle",value:function(){n.hasClass(this._containerNode,"open")?this.hide():this.show()}}],[{key:"autoHide",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=n.is(t,"form"));var r,i=n.find(".open > .dropdown-menu"),o=_createForOfIteratorHelper(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(!t||!n.hasDescendent(s,t)||!e&&!n.closest(t,"form",s).length){var a=n.prev(s).shift();if(a!==t){var u=this.init(a);u.hide()}}}}catch(t){o.e(t)}finally{o.f()}}},{key:"init",value:function(t,e){return n.hasData(t,"dropdown")?n.getData(t,"dropdown"):new this(t,e)}}]),t}();n.addEventDelegate(i,"click.frost.dropdown keyup.frost.dropdown",'[data-toggle="dropdown"]',(function(t){t.key&&" "!==t.key||(t.preventDefault(),h.init(t.currentTarget).toggle())})),n.addEventDelegate(i,"keydown.frost.dropdown",'[data-toggle="dropdown"]',(function(t){switch(t.key){case"ArrowDown":case"ArrowUp":t.preventDefault();var e=t.currentTarget,r=h.init(e);n.hasClass(r._containerNode,"open")||r.show();var i=n.findOne('.dropdown-item:not([tabindex="-1"])',r._menuNode);n.focus(i)}})),n.addEventDelegate(i,"keydown.frost.dropdown",".open > .dropdown-menu .dropdown-item",(function(t){var e;switch(t.key){case"ArrowDown":e=n.nextAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').shift();break;case"ArrowUp":e=n.prevAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').pop();break;default:return}t.preventDefault(),n.focus(e)})),n.addEvent(i,"click.frost.dropdown",(function(t){h.autoHide(t.target)})),n.addEvent(i,"keyup.frost.dropdown",(function(t){switch(t.key){case"Tab":h.autoHide(t.target,!0);case"Escape":h.autoHide()}})),h.defaults={duration:100,placement:"bottom",position:"start",fixed:!1,spacing:2,minContact:!1},r&&(r.prototype.dropdown=function(t){var n,r;e.isObject(t)?n=t:e.isString(t)&&(r=t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a,u=_createForOfIteratorHelper(this);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(e.isElement(c)){var l=h.init(c,n);r&&l[r].apply(l,o)}}}catch(t){u.e(t)}finally{u.f()}return this}),o.Dropdown=h,o.getTarget=function(t,e){var r,i=o.getTargetSelector(t);if(i&&"#"!==i?r=n.findOne(i):e&&(r=n.closest(t,e).shift()),!r)throw new Error("Target not found");return r},o.getTargetSelector=function(t){return n.getDataset(t,"target")||n.getAttribute(t,"href")};var l=function(){function t(r,i){_classCallCheck(this,t),this._node=r,this._settings=e.extend({},this.constructor.defaults,n.getDataset(r),i),this._dialog=n.child(this._node,".modal-dialog").shift(),this._settings.show&&this.show(),n.setData(this._node,"modal",this)}return _createClass(t,[{key:"destroy",value:function(){n.removeData(this._node,"modal")}},{key:"hide",value:function(){var t=this;!this._animating&&n.hasClass(this._node,"show")&&n.triggerOne(this._node,"hide.frost.modal")&&(this._animating=!0,Promise.all([n.fadeOut(this._dialog,{duration:this._settings.duration}),n.dropOut(this._dialog,{duration:this._settings.duration}),n.fadeOut(this._backdrop,{duration:this._settings.duration})]).then((function(e){t._settings.backdrop&&(n.remove(t._backdrop),t._backdrop=null),n.removeAttribute(t._node,"aria-modal"),n.setAttribute(t._node,"aria-hidden",!0),n.removeClass(t._node,"show"),n.removeClass(i.body,"modal-open"),t._activeTarget&&n.focus(t._activeTarget),n.triggerEvent(t._node,"hidden.frost.modal")})).catch((function(t){})).finally((function(e){t._animating=!1})))}},{key:"show",value:function(t){var e=this;this._animating||n.hasClass(this._node,"show")||!n.triggerOne(this._node,"show.frost.modal")||(this._settings.backdrop&&(this._backdrop=n.create("div",{class:"modal-backdrop"}),n.append(i.body,this._backdrop)),this._activeTarget=t,this._animating=!0,n.addClass(this._node,"show"),n.addClass(i.body,"modal-open"),Promise.all([n.fadeIn(this._dialog,{duration:this._settings.duration}),n.dropIn(this._dialog,{duration:this._settings.duration}),n.fadeIn(this._backdrop,{duration:this._settings.duration})]).then((function(t){n.removeAttribute(e._node,"aria-hidden"),n.setAttribute(e._node,"aria-modal",!0),e._settings.focus&&n.focus(e._node),n.triggerEvent(e._node,"shown.frost.modal")})).catch((function(t){})).finally((function(t){e._animating=!1})))}},{key:"toggle",value:function(){n.hasClass(this._node,"show")?this.hide():this.show()}}],[{key:"init",value:function(t,e){return n.hasData(t,"modal")?n.getData(t,"modal"):new this(t,e)}}]),t}();n.addEventDelegate(i,"click.frost.modal",'[data-toggle="modal"]',(function(t){t.preventDefault();var e=o.getTarget(t.currentTarget,".modal");l.init(e).show(t.currentTarget)})),n.addEventDelegate(i,"click.frost.modal",'[data-dismiss="modal"]',(function(t){t.preventDefault();var e=o.getTarget(t.currentTarget,".modal");l.init(e).hide()})),n.addEvent(i,"click.frost.modal",(function(t){if(n.findOne(".modal-backdrop")){var e,r=_createForOfIteratorHelper(n.find(".modal.show"));try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i===t.target||!n.hasDescendent(i,t.target)){var o=l.init(i);"static"!==o._settings.backdrop&&o.hide()}}}catch(t){r.e(t)}finally{r.f()}}})),n.addEvent(i,"keyup.frost.modal",(function(t){if("Escape"===t.key){var e,r=_createForOfIteratorHelper(n.find(".modal.show"));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=l.init(i);o._settings.keyboard&&o.hide()}}catch(t){r.e(t)}finally{r.f()}}})),l.defaults={duration:250,backdrop:!0,focus:!0,show:!1,keyboard:!0},r&&(r.prototype.modal=function(t){var n,r;e.isObject(t)?n=t:e.isString(t)&&(r=t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a,u=_createForOfIteratorHelper(this);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(e.isElement(c)){var h=l.init(c,n);r&&h[r].apply(h,o)}}}catch(t){u.e(t)}finally{u.f()}return this}),o.Modal=l;var d=function(){function t(r,i){_classCallCheck(this,t),this._node=r,this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),i),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),n.setData(this._node,"popover",this)}return _createClass(t,[{key:"destroy",value:function(){this._popper&&this._popper.destroy(),n.remove(this._popover),this._triggers.includes("hover")&&(n.removeEvent(this._node,"mouseover.frost.popover"),n.removeEvent(this._node,"mouseout.frost.popover")),this._triggers.includes("focus")&&(n.removeEvent(this._node,"focus.frost.popover"),n.removeEvent(this._node,"blur.frost.popover")),this._triggers.includes("click")&&n.removeEvent(this._node,"click.frost.popover"),n.removeData(this._node,"popover",this)}},{key:"disable",value:function(){this._enabled=!1}},{key:"enable",value:function(){this._enabled=!0}},{key:"hide",value:function(){var t=this;this._animating&&n.stop(this._popover),n.isConnected(this._popover)&&n.triggerOne(this._node,"hide.frost.popover")&&(this._animating=!0,n.fadeOut(this._popover,{duration:this._settings.duration}).then((function(e){t._popper.destroy(),n.removeClass(t._popover,"show"),n.detach(t._popover),n.triggerEvent(t._node,"hidden.frost.popover")})).catch((function(t){})).finally((function(e){t._animating=!1})))}},{key:"show",value:function(){var t=this;this._animating&&n.stop(this._popover),!n.isConnected(this._popover)&&n.triggerOne(this._node,"show.frost.popover")&&(this._show(),this._animating=!0,n.addClass(this._popover,"show"),n.fadeIn(this._popover,{duration:this._settings.duration}).then((function(e){n.triggerEvent(t._node,"shown.frost.popover")})).catch((function(t){})).finally((function(e){t._animating=!1})))}},{key:"toggle",value:function(){n.isConnected(this._popover)?this.hide():this.show()}},{key:"update",value:function(){this._popper&&this._popper.update()}}],[{key:"init",value:function(t,e){return n.hasData(t,"popover")?n.getData(t,"popover"):new this(t,e)}}]),t}();Object.assign(d.prototype,{_events:function(){var t=this;this._triggers.includes("hover")&&(n.addEvent(this._node,"mouseover.frost.popover",(function(e){t._enabled&&t.show()})),n.addEvent(this._node,"mouseout.frost.popover",(function(e){t._enabled&&t.hide()}))),this._triggers.includes("focus")&&(n.addEvent(this._node,"focus.frost.popover",(function(e){t._enabled&&t.show()})),n.addEvent(this._node,"blur.frost.popover",(function(e){t._enabled&&t.hide()}))),this._triggers.includes("click")&&n.addEvent(this._node,"click.frost.popover",(function(e){e.preventDefault(),t._enabled&&t.toggle()}))},_render:function(){this._popover=n.parseHTML(this._settings.template).shift(),this._arrow=n.find(".popover-arrow",this._popover),this._popoverHeader=n.find(".popover-header",this._popover),this._popoverBody=n.find(".popover-body",this._popover)},_show:function(){var t=this._settings.html?"setHTML":"setText",e=n.getAttribute(this._node,"title")||this._settings.title,r=this._settings.content;n[t](this._popoverHeader,this._settings.html&&this._settings.sanitize?this._settings.sanitize(e):e),e?n.show(this._popoverHeader):n.hide(this._popoverHeader),n[t](this._popoverBody,this._settings.html&&this._settings.sanitize?this._settings.sanitize(r):r),this._container?n.append(this._container,this._popover):n.before(this._node,this._popover),this._popper=new f(this._popover,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),d.defaults={template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',duration:100,enable:!0,html:!1,sanitize:function(t){return n.sanitize(t)},trigger:"click",placement:"auto",position:"center",fixed:!1,spacing:3,minContact:!1},r&&(r.prototype.popover=function(t){var n,r;e.isObject(t)?n=t:e.isString(t)&&(r=t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a,u=_createForOfIteratorHelper(this);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(e.isElement(c)){var h=d.init(c,n);r&&h[r].apply(h,o)}}}catch(t){u.e(t)}finally{u.f()}return this}),o.Popover=d;var f=function(){function t(r,i){var o=this;_classCallCheck(this,t),this._node=r,this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),i),this._fixed=n.isFixed(this._settings.reference),this._scrollParent=this.constructor.getScrollParent(this._node),this._relativeParent=this.constructor.getRelativeParent(this._node),n.setStyle(this._node,{position:this._fixed?"fixed":"absolute",top:0,left:0}),p.add(this),this._scrollParent&&p.addOverflow(this._scrollParent,this),n.addEvent(this._node,"remove.frost.popper",(function(t){o.destroy()})),this.update(),n.setData(this._node,"popper",this)}return _createClass(t,[{key:"destroy",value:function(){p.remove(this),this._scrollParent&&p.removeOverflow(this._scrollParent,this),n.removeData(this._node,"popper")}},{key:"update",value:function(){if(n.isConnected(this._node)){var t=n.rect(this._node,!this._fixed),e=n.rect(this._settings.reference,!this._fixed),r=this.constructor.windowContainer(this._fixed);if(!this.constructor.isNodeHidden(t,e,r,this._settings.spacing)){var i=this._scrollParent?n.rect(this._scrollParent,!this._fixed):null,o=this._settings.container?n.rect(this._settings.container,!this._fixed):null,s=_objectSpread({},r);i&&(s.top=Math.max(s.top,i.top),s.right=Math.min(s.right,i.right),s.bottom=Math.min(s.bottom,i.bottom),s.left=Math.max(s.left,i.left)),o&&(s.top=Math.max(s.top,o.top),s.right=Math.min(s.right,o.right),s.bottom=Math.min(s.bottom,o.bottom),s.left=Math.max(s.left,o.left)),(i||o)&&(s.x=s.left,s.y=s.top,s.width=s.right-s.left,s.height=s.bottom-s.top);var a=this._settings.fixed?this._settings.placement:this.constructor.getPopperPlacement(t,e,s,this._settings.placement,this._settings.spacing+2);n.setDataset(this._settings.reference,"placement",a),n.setDataset(this._node,"placement",a);var u="auto"!==this._settings.position?this._settings.position:this.constructor.getPopperPosition(t,e,s,a,this._settings.position),c={x:Math.round(e.x),y:Math.round(e.y)},h=this._relativeParent&&!this._fixed?n.rect(this._relativeParent,!this._fixed):null;h&&(c.x-=Math.round(h.x),c.y-=Math.round(h.y)),this.constructor.adjustPlacement(c,t,e,a,this._settings.spacing),this.constructor.adjustPosition(c,t,e,a,u),c.x-=parseInt(n.css(this._node,"margin-left")),c.y-=parseInt(n.css(this._node,"margin-top")),this.constructor.adjustConstrain(c,t,e,s,h,a,this._settings.minContact),this._scrollParent&&(c.x+=n.getScrollX(this._scrollParent),c.y+=n.getScrollY(this._scrollParent));var l={};if(this._settings.useGpu?l.transform="translate3d("+c.x+"px , "+c.y+"px , 0)":(l.marginLeft=c.x,l.marginTop=c.y),n.setStyle(this._node,l),this._settings.arrow){var d=n.rect(this._node,!this._fixed);this._updateArrow(d,e,a,u)}}}}},{key:"_updateArrow",value:function(t,r,i,o){var s={position:"absolute",top:"",right:"",bottom:"",left:""};n.setStyle(this._settings.arrow,s);var a=n.rect(this._settings.arrow,!this._fixed);if(["top","bottom"].includes(i)){s["top"===i?"bottom":"top"]=-a.height;var u=(r.width-t.width)/2,c=t.width/2-a.width/2;"start"===o?c+=u:"end"===o&&(c-=u),s.left=e.clamp(c,Math.max(r.left,t.left)-a.left,Math.min(r.right,t.right)-a.left-a.width)}else{s["right"===i?"left":"right"]=-a.width;var h=(r.height-t.height)/2,l=t.height/2-a.height;"start"===o?l+=h:"end"===o&&(l-=h),s.top=e.clamp(l,Math.max(r.top,t.top)-a.top,Math.min(r.bottom,t.bottom)-a.top-a.height)}n.setStyle(this._settings.arrow,s)}}]),t}(),p=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"add",value:function(r){var i=this;this._poppers.push(r),this._running||(n.addEvent(t,"resize.frost.popper scroll.frost.popper",e.animation((function(t){var e,n=_createForOfIteratorHelper(i._poppers);try{for(n.s();!(e=n.n()).done;){e.value.update()}}catch(t){n.e(t)}finally{n.f()}}))),this._running=!0)}},{key:"addOverflow",value:function(t,r){var i=this;this._popperOverflows.has(t)||(this._popperOverflows.set(t,[]),n.addEvent(t,"scroll.frost.popper",e.animation((function(e){var n,r=_createForOfIteratorHelper(i._popperOverflows.get(t));try{for(r.s();!(n=r.n()).done;){n.value.update()}}catch(t){r.e(t)}finally{r.f()}})))),this._popperOverflows.get(t).push(r)}},{key:"remove",value:function(e){this._poppers=this._poppers.filter((function(t){return t!==e})),this._poppers.length||(n.removeEvent(t,"resize.frost.popper scroll.frost.popper"),this._running=!1)}},{key:"removeOverflow",value:function(t,e){if(this._popperOverflows.has(t)){var r=this._popperOverflows.get(t).filter((function(t){return t!==e}));r.length?this._popperOverflows.set(t,r):(this._popperOverflows.delete(t),n.removeEvent(t,"scroll.frost.popper"))}}}]),r}();Object.assign(f,{adjustConstrain:function(t,e,n,r,i,o,s){if(["left","right"].includes(o)){var a=t.y,u=n.top;i&&(a+=i.top,u-=i.top);var c=!1!==s?s:n.height;if(a+e.height>r.bottom){var h=a+e.height-r.bottom;t.y=Math.max(u-e.height+c,t.y-h)}else if(a<r.top){var l=a-r.top;t.y=Math.min(u+n.height-c,t.y-l)}}else{var d=t.x,f=n.left;i&&(d+=i.left,f-=i.left);var p=!1!==s?s:n.width;if(d+e.width>r.right){var _=d+e.width-r.right;t.x=Math.max(f-e.width+p,t.x-_)}else if(d<r.left){var v=d-r.left;t.x=Math.min(f+n.width-p,t.x-v)}}},adjustPlacement:function(t,e,n,r,i){"top"===r?t.y-=Math.round(e.height)+i:"right"===r?t.x+=Math.round(n.width)+i:"bottom"===r?t.y+=Math.round(n.height)+i:"left"===r&&(t.x-=Math.round(e.width)+i)},adjustPosition:function(t,e,n,r,i){if("start"!==i)if(["top","bottom"].includes(r)){var o=Math.round(e.width)-Math.round(n.width);"center"===i?t.x-=Math.round(o/2):"end"===i&&(t.x-=o)}else{var s=Math.round(e.height)-Math.round(n.height);"center"===i?t.y-=Math.round(s/2):"end"===i&&(t.y-=s)}},getPopperPlacement:function(t,e,n,r,i){var o=e.top-n.top,s=n.right-e.right,a=n.bottom-e.bottom,u=e.left-n.left;if("top"===r){if(o<t.height+i&&a>o)return"bottom"}else if("right"===r){if(s<t.width+i&&u>s)return"left"}else if("bottom"===r){if(a<t.height+i&&o>a)return"top"}else if("left"===r){if(u<t.width+i&&s>u)return"right"}else if("auto"===r){var c=Math.max(o,a),h=Math.max(s,u),l=Math.min(o,a);if(h>c&&h>=t.width+i&&l+e.height>=t.height+i-Math.max(0,t.height-e.height))return u>s?"left":"right";var d=Math.min(s,u);if(c>=t.height+i&&d+e.width>=t.width+i-Math.max(0,t.width-e.width))return a>o?"bottom":"top";var f=Math.max(c,h);return a===f&&a>=t.height+i?"bottom":o===f&&o>=t.height+i?"top":s===f&&s>=t.width+i?"right":u===f&&u>=t.width+i?"left":"bottom"}return r},getPopperPosition:function(t,e,n,r,i){var o=t.width-e.width,s=t.height-e.height;if(["bottom","top"].includes(r)){var a=e.left-n.left,u=n.right-e.right;if("start"===i){if(u<o){if(a>=o/2&&u>=o/2)return"center";if(a>=o)return"end"}}else if("center"===i){if(a<o/2||u<o/2){if(u>=o)return"start";if(a>=o)return"end"}}else if("end"===i&&a<o){if(a>=o/2&&u>=o/2)return"center";if(u>=o)return"start"}}else{var c=e.top-n.top,h=n.bottom-e.bottom;if("start"===i){if(h<s){if(h>=s/2&&c>=s/2)return"center";if(c>=s)return"end"}}else if("center"===i){if(c<s/2||h<s/2){if(h>=s)return"start";if(c>=s)return"end"}}else if("end"===i&&c<s){if(c>=s/2&&h>=s/2)return"center";if(h>=s)return"start"}}return i},getRelativeParent:function(t){return n.closest(t,(function(t){return"relative"===n.css(t,"position")}),i.body).shift()},getScrollParent:function(t){return n.closest(t,(function(t){return!!["overflow","overflowX","overflowY"].find((function(e){return!!["auto","scroll"].find((function(r){return new RegExp(r).test(n.css(t,e))}))}))}),i.body).shift()},isNodeHidden:function(t,e,n,r){return n.top>e.bottom+t.height+r||n.left>e.right+t.width+r||n.bottom<e.top-t.height-r||n.right<e.left-t.width-r},windowContainer:function(e){var r=e?0:n.getScrollX(t),o=e?0:n.getScrollY(t),s=n.width(i),a=n.height(i);return{x:r,y:o,width:s,height:a,top:o,right:r+s,bottom:o+a,left:r}}}),f.defaults={reference:null,container:null,arrow:null,placement:"bottom",position:"center",fixed:!1,spacing:0,minContact:!1,useGpu:!0},p._poppers=[],p._popperOverflows=new Map,o.Popper=f,o.PopperSet=p,n.addEventDelegate(i,"mousedown.frost.ripple",".ripple",(function(t){var e=n.position(t.currentTarget,!0);o.ripple(t.currentTarget,t.pageX-e.x,t.pageY-e.y)})),o.ripple=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=n.width(t),s=n.height(t),a=Math.max(o,s),u=n.create("span",{class:"ripple-effect",style:{left:e,top:r}});n.append(t,u),n.animate(u,(function(t,e){n.setStyle(t,{scale:Math.floor(e*a),opacity:1-e})}),{duration:i}).finally((function(t){n.remove(u)}))};var _=function(){function t(r,i){_classCallCheck(this,t),this._node=r,this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),i);var s=o.getTargetSelector(this._node);this._target=n.findOne(s),this._siblings=n.siblings(this._node),n.setData(this._node,"tab",this)}return _createClass(t,[{key:"destroy",value:function(){n.removeData(this._node,"tab")}},{key:"hide",value:function(){var t=this;!this._animating&&n.hasClass(this._target,"active")&&n.triggerOne(this._node,"hide.frost.tab")&&(this._animating=!0,n.fadeOut(this._target,{duration:this._settings.duration}).then((function(e){n.removeClass(t._target,"active"),n.removeClass(t._node,"active"),n.setAttribute(t._node,"aria-selected",!1),n.triggerEvent(t._node,"hidden.frost.tab")})).catch((function(t){})).finally((function(e){t._animating=!1})))}},{key:"show",value:function(){var t=this;if(!this._animating&&!n.hasClass(this._target,"active")&&n.triggerOne(this._node,"show.frost.tab")){var e,r=this._siblings.find((function(t){return n.hasClass(t,"active")}));if((!r||!(e=this.constructor.init(r))._animating)&&n.triggerOne(this._node,"show.frost.tab")){var i=function(e){t._animating=!0,n.addClass(t._target,"active"),n.addClass(t._node,"active"),n.fadeIn(t._target,{duration:t._settings.duration}).then((function(e){n.setAttribute(t._node,"aria-selected",!0),n.triggerEvent(t._node,"shown.frost.tab")})).catch((function(t){})).finally((function(e){t._animating=!1}))};if(!e)return i();n.triggerOne(r,"hide.frost.tab")&&(n.addEventOnce(r,"hidden.frost.tab",(function(t){i()})),e.hide())}}}}],[{key:"init",value:function(t,e){return n.hasData(t,"tab")?n.getData(t,"tab"):new this(t,e)}}]),t}();_.defaults={duration:100},n.addEventDelegate(i,"click.frost.tab",'[data-toggle="tab"]',(function(t){t.preventDefault(),_.init(t.currentTarget).show()})),r&&(r.prototype.tab=function(t){var n,r;e.isObject(t)?n=t:e.isString(t)&&(r=t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a,u=_createForOfIteratorHelper(this);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(e.isElement(c)){var h=_.init(c,n);r&&h[r].apply(h,o)}}}catch(t){u.e(t)}finally{u.f()}return this}),o.Tab=_;var v=function(){function t(r,i){var o=this;_classCallCheck(this,t),this._node=r,this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),i),this._settings.autohide&&setTimeout((function(t){return o.hide()}),this._settings.delay),n.setData(this._node,"toast",this)}return _createClass(t,[{key:"destroy",value:function(){n.removeData(this._node,"toast")}},{key:"hide",value:function(){var t=this;!this._animating&&n.isVisible(this._node)&&n.triggerOne(this._node,"hide.frost.toast")&&(this._animating=!0,n.fadeOut(this._node,{duration:this._settings.duration}).then((function(e){n.hide(t._node),n.triggerEvent(t._node,"hidden.frost.toast")})).catch((function(t){})).finally((function(e){t._animating=!1})))}},{key:"show",value:function(){var t=this;this._animating||n.isVisible(this._node)||!n.triggerOne(this._node,"show.frost.toast")||(this._animating=!0,n.show(this._node),n.fadeIn(this._node,{duration:this._settings.duration}).then((function(e){n.triggerEvent(t._node,"shown.frost.toast")})).catch((function(t){})).finally((function(e){t._animating=!1})))}}],[{key:"init",value:function(t,e){return n.hasData(t,"toast")?n.getData(t,"toast"):new this(t,e)}}]),t}();v.defaults={autohide:!0,delay:5e3,duration:100},n.addEventDelegate(i,"click.frost.toast",'[data-dismiss="toast"]',(function(t){t.preventDefault();var e=o.getTarget(t.currentTarget,".toast");v.init(e,{autohide:!1}).hide()})),r&&(r.prototype.toast=function(t){var n,r;e.isObject(t)?n=t:e.isString(t)&&(r=t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a,u=_createForOfIteratorHelper(this);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(e.isElement(c)){var h=v.init(c,n);r&&h[r].apply(h,o)}}}catch(t){u.e(t)}finally{u.f()}return this}),o.Toast=v;var g=function(){function t(r,i){_classCallCheck(this,t),this._node=r,this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),i),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),n.setData(this._node,"tooltip",this)}return _createClass(t,[{key:"destroy",value:function(){this._popper&&this._popper.destroy(),n.remove(this._tooltip),this._triggers.includes("hover")&&(n.removeEvent(this._node,"mouseover.frost.tooltip"),n.removeEvent(this._node,"mouseout.frost.tooltip")),this._triggers.includes("focus")&&(n.removeEvent(this._node,"focus.frost.tooltip"),n.removeEvent(this._node,"blur.frost.tooltip")),this._triggers.includes("click")&&n.removeEvent(this._node,"click.frost.tooltip"),n.removeData(this._node,"tooltip",this)}},{key:"disable",value:function(){this._enabled=!1}},{key:"enable",value:function(){this._enabled=!0}},{key:"hide",value:function(){var t=this;this._animating&&n.stop(this._tooltip),n.isConnected(this._tooltip)&&n.triggerOne(this._node,"hide.frost.tooltip")&&(this._animating=!0,n.fadeOut(this._tooltip,{duration:this._settings.duration}).then((function(e){t._popper.destroy(),n.removeClass(t._tooltip,"show"),n.detach(t._tooltip),n.triggerEvent(t._node,"hidden.frost.tooltip")})).catch((function(t){})).finally((function(e){t._animating=!1})))}},{key:"show",value:function(){var t=this;this._animating&&n.stop(this._tooltip),!n.isConnected(this._tooltip)&&n.triggerOne(this._node,"show.frost.tooltip")&&(this._show(),this._animating=!0,n.addClass(this._tooltip,"show"),n.fadeIn(this._tooltip,{duration:this._settings.duration}).then((function(e){n.triggerEvent(t._node,"shown.frost.tooltip")})).catch((function(t){})).finally((function(e){t._animating=!1})))}},{key:"toggle",value:function(){n.isConnected(this._tooltip)?this.hide():this.show()}},{key:"update",value:function(){this._popper&&this._popper.update()}}],[{key:"init",value:function(t,e){return n.hasData(t,"tooltip")?n.getData(t,"tooltip"):new this(t,e)}}]),t}();return Object.assign(g.prototype,{_events:function(){var t=this;this._triggers.includes("hover")&&(n.addEvent(this._node,"mouseover.frost.popover",(function(e){t._enabled&&t.show()})),n.addEvent(this._node,"mouseout.frost.popover",(function(e){t._enabled&&t.hide()}))),this._triggers.includes("focus")&&(n.addEvent(this._node,"focus.frost.popover",(function(e){t._enabled&&t.show()})),n.addEvent(this._node,"blur.frost.popover",(function(e){t._enabled&&t.hide()}))),this._triggers.includes("click")&&n.addEvent(this._node,"click.frost.popover",(function(e){e.preventDefault(),t._enabled&&t.toggle()}))},_render:function(){this._tooltip=n.parseHTML(this._settings.template).shift(),this._arrow=n.find(".tooltip-arrow",this._tooltip),this._tooltipInner=n.find(".tooltip-inner",this._tooltip)},_show:function(){var t=n.getAttribute(this._node,"title")||this._settings.title,e=this._settings.html?"setHTML":"setText";n[e](this._tooltipInner,this._settings.html&&this._settings.sanitize?this._settings.sanitize(t):t),this._container?n.append(this._container,this._tooltip):n.before(this._node,this._tooltip),this._popper=new f(this._tooltip,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),g.defaults={template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',duration:100,enable:!0,html:!1,trigger:"hover focus",sanitize:function(t){return n.sanitize(t)},placement:"auto",position:"center",fixed:!1,spacing:2,minContact:!1},r&&(r.prototype.tooltip=function(t){var n,r;e.isObject(t)?n=t:e.isString(t)&&(r=t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a,u=_createForOfIteratorHelper(this);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(e.isElement(c)){var h=g.init(c,n);r&&h[r].apply(h,o)}}}catch(t){u.e(t)}finally{u.f()}return this}),o.Tooltip=g,{UI:o}})),{AjaxRequest:t.AjaxRequest,Animation:t.Animation,AnimationSet:t.AnimationSet,Core:t.Core,DOM:t.DOM,dom:t.dom,QuerySet:QuerySet,QuerySetImmutable:QuerySetImmutable,UI:UI}}));
!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e:Object.assign(t,e(t))}(window,(function(t){"use strict";if(!t)throw new Error("FrostUI requires a Window.");if(!("DOM"in t))throw new Error("FrostUI requires FrostDOM.");const e=t.Core,i=(t.DOM,t.dom),s=t.QuerySet,o=t.document,n={};class r{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),i.setData(this._node,"alert",this)}destroy(){i.removeData(this._node,"alert")}close(){!this._animating&&i.triggerOne(this._node,"close.frost.alert")&&(this._animating=!0,i.fadeOut(this._node,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"closed.frost.alert"),i.remove(this._node)}).catch(t=>{}).finally(t=>{this._animating=!1}))}static init(t,e){return i.hasData(t,"alert")?i.getData(t,"alert"):new this(t,e)}}i.addEventDelegate(o,"click.frost.alert",'[data-dismiss="alert"]',t=>{t.preventDefault();const e=n.getTarget(t.currentTarget,".alert");r.init(e).close()}),r.defaults={duration:250},s&&(s.prototype.alert=function(t,...i){let s,o;e.isObject(t)?s=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=r.init(t,s);o&&n[o](...i)}return this}),n.Alert=r;class a{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._input=i.findOne("input",this._node),this._isRadio=this._input&&i.is(this._input,'[type="radio"]'),this._isRadio&&(this._siblings=i.siblings(this._node)),i.setData(this._node,"button",this)}destroy(){i.removeData(this._node,"button")}toggle(){this._isRadio?this._toggleRadio():this._toggleCheckbox()}_toggleCheckbox(){if(i.toggleClass(this._node,"active"),this._input){const t=i.getProperty(this._input,"checked");i.setProperty(this._input,"checked",!t),i.triggerEvent(this._input,"change")}}_toggleRadio(){i.addClass(this._node,"active"),i.removeClass(this._siblings,"active"),i.setProperty(this._input,"checked",!0),i.triggerEvent(this._input,"change")}static init(t,e){return i.hasData(t,"button")?i.getData(t,"button"):new this(t,e)}}i.addEventDelegate(o,"click.frost.button",'[data-toggle="buttons"] > *, [data-toggle="button"]',t=>{t.preventDefault();a.init(t.currentTarget).toggle()}),a.defaults={},s&&(s.prototype.button=function(t,...i){let s,o;e.isObject(t)?s=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=a.init(t,s);o&&n[o](...i)}return this}),n.Button=a;class h{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._items=i.find(".carousel-item",this._node),this._index=this._items.findIndex(t=>i.hasClass(t,"active")),this._queue=[],this._events(),i.setData(this._node,"carousel",this),"carousel"===this._settings.ride&&this._setTimer()}cycle(){i.isHidden(o)?this._setTimer():this.slide(1)}destroy(){this._queue=[],this._timer&&clearTimeout(this._timer),this._settings.keyboard&&i.removeEvent(this._node,"keydown.frost.carousel"),this._settings.pause&&(i.removeEvent(this._node,"mouseenter.frost.carousel"),i.removeEvent(this._node,"mouseleave.frost.carousel")),i.removeEvent(this._node,"remove.frost.carousel"),i.removeData(this._node,"carousel")}next(){this.slide()}pause(){this._timer&&clearTimeout(this._timer)}prev(){this.slide(-1)}show(t){this._show(t)}slide(t=1){const e=this._queue.length?this._queue[this._queue.length-1]:this._index;this.show(e+t)}static init(t,e){return i.hasData(t,"carousel")?i.getData(t,"carousel"):new this(t,e)}}i.addEventDelegate(o,"click.frost.carousel",".carousel-next, .carousel-prev, [data-slide], [data-slide-to]",t=>{t.preventDefault();const s=n.getTarget(t.currentTarget,".carousel"),o=h.init(s),r=i.getDataset(t.currentTarget,"slideTo");e.isUndefined(r)?i.hasClass(t.currentTarget,"carousel-prev")?o.prev():o.next():o.show(r)}),Object.assign(h.prototype,{_events(){this._settings.keyboard&&i.addEvent(this._node,"keydown.frost.carousel",t=>{switch(t.key){case"ArrowLeft":t.preventDefault(),this.prev().catch(t=>{});break;case"ArrowRight":t.preventDefault(),this.next().catch(t=>{})}}),this._settings.pause&&(i.addEvent(this._node,"mouseenter.frost.carousel",t=>{this.pause()}),i.addEvent(this._node,"mouseleave.frost.carousel",t=>{this._setTimer()})),i.addEvent(this._node,"remove.frost.carousel",t=>{this.destroy()})},_setTimer(){const t=i.getDataset(this._items[this._index],"interval");this._timer=setTimeout(t=>this.cycle(),t||this._settings.interval)},_show(t){if(this._sliding)return void this._queue.push(t);if(t=parseInt(t),!this._settings.wrap&&(t<0||t>this._items.length-1))return;let e=0;if(t<0?e=-1:t>this._items.length-1&&(e=1),(t%=this._items.length)<0&&(t=this._items.length+t),t===this._index)return;const s=-1==e||0==e&&t<this._index?"left":"right",o={direction:s,relatedTarget:this._items[t],from:this._index,to:t};if(!i.triggerOne(this._node,"slide.frost.carousel",o))return;const n=this._index;this._index=t,this._sliding=!0,this.pause(),i.addClass(this._items[this._index],"active"),i.removeClass(this._items[n],"active"),i.animate(this._items[this._index],(t,e,i)=>this._update(t,this._items[n],e,i.direction),{direction:s,duration:this._settings.transition}).then(t=>{const e=i.find(".active[data-slide-to]",this._node),s=i.find('[data-slide-to="'+this._index+'"]',this._node);if(i.removeClass(e,"active"),i.addClass(s,"active"),i.triggerEvent(this._node,"slid.frost.carousel",o),this._sliding=!1,this._queue.length){const t=this._queue.shift();this._show(t)}else this._setTimer()}).catch(t=>{this._sliding=!1})},_update(t,e,i,s){if(i>=1)return e.style.setProperty("display",""),e.style.setProperty("transform",""),void t.style.setProperty("transform","");const o="right"===s;e.style.setProperty("display","block"),e.style.setProperty("transform",`translateX(${Math.round(100*i)*(o?-1:1)}%)`),t.style.setProperty("transform",`translateX(${Math.round(100*(1-i))*(o?1:-1)}%)`)}}),h.defaults={interval:5e3,transition:500,keyboard:!0,ride:!1,pause:!0,wrap:!0},i.addEventOnce(t,"load",t=>{const e=i.find('[data-ride="carousel"]');for(const t of e)h.init(t)}),s&&(s.prototype.carousel=function(t,...i){let s,o;e.isObject(t)?s=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=h.init(t,s);o&&n[o](...i)}return this}),n.Carousel=h;class d{constructor(t,s){this._node=t;const o=this._node.getAttribute("id");this._triggers=i.find(`[data-toggle="collapse"][data-target="#${o}"]`),console.log(this._triggers),this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._settings.parent&&(this._parent=i.findOne(this._settings.parent)),i.setData(this._node,"collapse",this)}destroy(){i.removeData(this._node,"collapse")}hide(){!this._animating&&i.hasClass(this._node,"show")&&i.triggerOne(this._node,"hide.frost.collapse")&&(this._animating=!0,i.squeezeOut(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then(t=>{i.removeClass(this._node,"show"),i.setAttribute(this._triggers,"aria-expanded",!1),i.triggerEvent(this._node,"hidden.frost.collapse")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){if(this._animating||i.hasClass(this._node,"show"))return;const t=[];if(this._parent){const e=i.find(".collapse.show",this._parent);for(const i of e){const e=this.constructor.init(i);if(this._parent===e._parent){if(e._animating)return;t.push(e)}}}if(i.triggerOne(this._node,"show.frost.collapse")){for(const e of t)e.hide();this._animating=!0,i.addClass(this._node,"show"),i.squeezeIn(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then(t=>{i.setAttribute(this._triggers,"aria-expanded",!0),i.triggerEvent(this._node,"shown.frost.collapse")}).catch(t=>{}).finally(t=>{this._animating=!1})}}toggle(){i.hasClass(this._node,"show")?this.hide():this.show()}static init(t,e){return i.hasData(t,"collapse")?i.getData(t,"collapse"):new this(t,e)}}i.addEventDelegate(o,"click.frost.collapse",'[data-toggle="collapse"]',t=>{t.preventDefault();const e=n.getTargetSelector(t.currentTarget),s=i.find(e);for(const t of s){d.init(t).toggle()}}),d.defaults={direction:"bottom",duration:250},s&&(s.prototype.collapse=function(t,...i){let s,o;e.isObject(t)?s=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=d.init(t,s);o&&n[o](...i)}return this}),n.Collapse=d;class l{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._containerNode=i.parent(this._node).shift(),this._menuNode=i.next(this._node,".dropdown-menu").shift(),this._settings.reference?"parent"===this._settings.reference?this._referenceNode=this._containerNode:this._referenceNode=i.findOne(this._settings.reference):this._referenceNode=this._node,i.closest(this._node,".navbar-nav").length||(this._popper=new _(this._menuNode,{reference:this._referenceNode,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})),i.addEvent(this._node,"remove.frost.dropdown",t=>{this.destroy()}),i.setData(this._node,"dropdown",this)}destroy(){this._popper&&this._popper.destroy(),i.removeEvent(this._node,"keyup.frost.dropdown"),i.removeEvent(this._node,"remove.frost.dropdown"),i.removeData(this._node,"dropdown")}hide(){!this._animating&&i.hasClass(this._containerNode,"open")&&i.triggerOne(this._node,"hide.frost.dropdown")&&(this._animating=!0,i.fadeOut(this._menuNode,{duration:this._settings.duration}).then(t=>{i.removeClass(this._containerNode,"open"),i.setAttribute(this._node,"aria-expanded",!1),i.triggerEvent(this._node,"hidden.frost.dropdown")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){this._animating||i.hasClass(this._containerNode,"open")||!i.triggerOne(this._node,"show.frost.dropdown")||(this._animating=!0,i.addClass(this._containerNode,"open"),i.fadeIn(this._menuNode,{duration:this._settings.duration}).then(t=>{i.setAttribute(this._node,"aria-expanded",!0),i.triggerEvent(this._node,"shown.frost.dropdown")}).catch(t=>{}).finally(t=>{this._animating=!1}))}toggle(){i.hasClass(this._containerNode,"open")?this.hide():this.show()}static autoHide(t,e=!1){e||(e=i.is(t,"form"));const s=i.find(".open > .dropdown-menu");for(const o of s){if(t&&i.hasDescendent(o,t)&&(e||i.closest(t,"form",o).length))continue;const s=i.prev(o).shift();if(s===t)continue;this.init(s).hide()}}static init(t,e){return i.hasData(t,"dropdown")?i.getData(t,"dropdown"):new this(t,e)}}i.addEventDelegate(o,"click.frost.dropdown keyup.frost.dropdown",'[data-toggle="dropdown"]',t=>{if(t.key&&" "!==t.key)return;t.preventDefault();l.init(t.currentTarget).toggle()}),i.addEventDelegate(o,"keydown.frost.dropdown",'[data-toggle="dropdown"]',t=>{switch(t.key){case"ArrowDown":case"ArrowUp":t.preventDefault();const e=t.currentTarget,s=l.init(e);i.hasClass(s._containerNode,"open")||s.show();const o=i.findOne('.dropdown-item:not([tabindex="-1"])',s._menuNode);i.focus(o)}}),i.addEventDelegate(o,"keydown.frost.dropdown",".open > .dropdown-menu .dropdown-item",t=>{let e;switch(t.key){case"ArrowDown":e=i.nextAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').shift();break;case"ArrowUp":e=i.prevAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').pop();break;default:return}t.preventDefault(),i.focus(e)}),i.addEvent(o,"click.frost.dropdown",t=>{l.autoHide(t.target)}),i.addEvent(o,"keyup.frost.dropdown",t=>{switch(t.key){case"Tab":l.autoHide(t.target,!0);case"Escape":l.autoHide()}}),l.defaults={duration:100,placement:"bottom",position:"start",fixed:!1,spacing:2,minContact:!1},s&&(s.prototype.dropdown=function(t,...i){let s,o;e.isObject(t)?s=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=l.init(t,s);o&&n[o](...i)}return this}),n.Dropdown=l,n.getTarget=(t,e)=>{const s=n.getTargetSelector(t);let o;if(s&&"#"!==s?o=i.findOne(s):e&&(o=i.closest(t,e).shift()),!o)throw new Error("Target not found");return o},n.getTargetSelector=t=>i.getDataset(t,"target")||i.getAttribute(t,"href");class c{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(t),s),this._dialog=i.child(this._node,".modal-dialog").shift(),this._settings.show&&this.show(),i.setData(this._node,"modal",this)}destroy(){i.removeData(this._node,"modal")}hide(){!this._animating&&i.hasClass(this._node,"show")&&i.triggerOne(this._node,"hide.frost.modal")&&(this._animating=!0,Promise.all([i.fadeOut(this._dialog,{duration:this._settings.duration}),i.dropOut(this._dialog,{duration:this._settings.duration}),i.fadeOut(this._backdrop,{duration:this._settings.duration})]).then(t=>{this._settings.backdrop&&(i.remove(this._backdrop),this._backdrop=null),i.removeAttribute(this._node,"aria-modal"),i.setAttribute(this._node,"aria-hidden",!0),i.removeClass(this._node,"show"),i.removeClass(o.body,"modal-open"),this._activeTarget&&i.focus(this._activeTarget),i.triggerEvent(this._node,"hidden.frost.modal")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(t){this._animating||i.hasClass(this._node,"show")||!i.triggerOne(this._node,"show.frost.modal")||(this._settings.backdrop&&(this._backdrop=i.create("div",{class:"modal-backdrop"}),i.append(o.body,this._backdrop)),this._activeTarget=t,this._animating=!0,i.addClass(this._node,"show"),i.addClass(o.body,"modal-open"),Promise.all([i.fadeIn(this._dialog,{duration:this._settings.duration}),i.dropIn(this._dialog,{duration:this._settings.duration}),i.fadeIn(this._backdrop,{duration:this._settings.duration})]).then(t=>{i.removeAttribute(this._node,"aria-hidden"),i.setAttribute(this._node,"aria-modal",!0),this._settings.focus&&i.focus(this._node),i.triggerEvent(this._node,"shown.frost.modal")}).catch(t=>{}).finally(t=>{this._animating=!1}))}toggle(){i.hasClass(this._node,"show")?this.hide():this.show()}static init(t,e){return i.hasData(t,"modal")?i.getData(t,"modal"):new this(t,e)}}i.addEventDelegate(o,"click.frost.modal",'[data-toggle="modal"]',t=>{t.preventDefault();const e=n.getTarget(t.currentTarget,".modal");c.init(e).show(t.currentTarget)}),i.addEventDelegate(o,"click.frost.modal",'[data-dismiss="modal"]',t=>{t.preventDefault();const e=n.getTarget(t.currentTarget,".modal");c.init(e).hide()}),i.addEvent(o,"click.frost.modal",t=>{if(!i.findOne(".modal-backdrop"))return;const e=i.find(".modal.show");for(const s of e){if(s!==t.target&&i.hasDescendent(s,t.target))continue;const e=c.init(s);"static"!==e._settings.backdrop&&e.hide()}}),i.addEvent(o,"keyup.frost.modal",t=>{if("Escape"!==t.key)return;const e=i.find(".modal.show");for(const t of e){const e=c.init(t);e._settings.keyboard&&e.hide()}}),c.defaults={duration:250,backdrop:!0,focus:!0,show:!1,keyboard:!0},s&&(s.prototype.modal=function(t,...i){let s,o;e.isObject(t)?s=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=c.init(t,s);o&&n[o](...i)}return this}),n.Modal=c;class p{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),i.setData(this._node,"popover",this)}destroy(){this._popper&&this._popper.destroy(),i.remove(this._popover),this._triggers.includes("hover")&&(i.removeEvent(this._node,"mouseover.frost.popover"),i.removeEvent(this._node,"mouseout.frost.popover")),this._triggers.includes("focus")&&(i.removeEvent(this._node,"focus.frost.popover"),i.removeEvent(this._node,"blur.frost.popover")),this._triggers.includes("click")&&i.removeEvent(this._node,"click.frost.popover"),i.removeData(this._node,"popover",this)}disable(){this._enabled=!1}enable(){this._enabled=!0}hide(){this._animating&&i.stop(this._popover),i.isConnected(this._popover)&&i.triggerOne(this._node,"hide.frost.popover")&&(this._animating=!0,i.fadeOut(this._popover,{duration:this._settings.duration}).then(t=>{this._popper.destroy(),i.removeClass(this._popover,"show"),i.detach(this._popover),i.triggerEvent(this._node,"hidden.frost.popover")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){this._animating&&i.stop(this._popover),!i.isConnected(this._popover)&&i.triggerOne(this._node,"show.frost.popover")&&(this._show(),this._animating=!0,i.addClass(this._popover,"show"),i.fadeIn(this._popover,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"shown.frost.popover")}).catch(t=>{}).finally(t=>{this._animating=!1}))}toggle(){i.isConnected(this._popover)?this.hide():this.show()}update(){this._popper&&this._popper.update()}static init(t,e){return i.hasData(t,"popover")?i.getData(t,"popover"):new this(t,e)}}Object.assign(p.prototype,{_events(){this._triggers.includes("hover")&&(i.addEvent(this._node,"mouseover.frost.popover",t=>{this._enabled&&this.show()}),i.addEvent(this._node,"mouseout.frost.popover",t=>{this._enabled&&this.hide()})),this._triggers.includes("focus")&&(i.addEvent(this._node,"focus.frost.popover",t=>{this._enabled&&this.show()}),i.addEvent(this._node,"blur.frost.popover",t=>{this._enabled&&this.hide()})),this._triggers.includes("click")&&i.addEvent(this._node,"click.frost.popover",t=>{t.preventDefault(),this._enabled&&this.toggle()})},_render(){this._popover=i.parseHTML(this._settings.template).shift(),this._arrow=i.find(".popover-arrow",this._popover),this._popoverHeader=i.find(".popover-header",this._popover),this._popoverBody=i.find(".popover-body",this._popover)},_show(){const t=this._settings.html?"setHTML":"setText",e=i.getAttribute(this._node,"title")||this._settings.title,s=this._settings.content;i[t](this._popoverHeader,this._settings.html&&this._settings.sanitize?this._settings.sanitize(e):e),e?i.show(this._popoverHeader):i.hide(this._popoverHeader),i[t](this._popoverBody,this._settings.html&&this._settings.sanitize?this._settings.sanitize(s):s),this._container?i.append(this._container,this._popover):i.before(this._node,this._popover),this._popper=new _(this._popover,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),p.defaults={template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',duration:100,enable:!0,html:!1,sanitize:t=>i.sanitize(t),trigger:"click",placement:"auto",position:"center",fixed:!1,spacing:3,minContact:!1},s&&(s.prototype.popover=function(t,...i){let s,o;e.isObject(t)?s=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=p.init(t,s);o&&n[o](...i)}return this}),n.Popover=p;class _{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._fixed=i.isFixed(this._settings.reference),this._scrollParent=this.constructor.getScrollParent(this._node),this._relativeParent=this.constructor.getRelativeParent(this._node),i.setStyle(this._node,{position:this._fixed?"fixed":"absolute",top:0,left:0}),g.add(this),this._scrollParent&&g.addOverflow(this._scrollParent,this),i.addEvent(this._node,"remove.frost.popper",t=>{this.destroy()}),this.update(),i.setData(this._node,"popper",this)}destroy(){g.remove(this),this._scrollParent&&g.removeOverflow(this._scrollParent,this),i.removeData(this._node,"popper")}update(){if(!i.isConnected(this._node))return;const t=i.rect(this._node,!this._fixed),e=i.rect(this._settings.reference,!this._fixed),s=this.constructor.windowContainer(this._fixed);if(this.constructor.isNodeHidden(t,e,s,this._settings.spacing))return;const o=this._scrollParent?i.rect(this._scrollParent,!this._fixed):null,n=this._settings.container?i.rect(this._settings.container,!this._fixed):null,r={...s};o&&(r.top=Math.max(r.top,o.top),r.right=Math.min(r.right,o.right),r.bottom=Math.min(r.bottom,o.bottom),r.left=Math.max(r.left,o.left)),n&&(r.top=Math.max(r.top,n.top),r.right=Math.min(r.right,n.right),r.bottom=Math.min(r.bottom,n.bottom),r.left=Math.max(r.left,n.left)),(o||n)&&(r.x=r.left,r.y=r.top,r.width=r.right-r.left,r.height=r.bottom-r.top);const a=this._settings.fixed?this._settings.placement:this.constructor.getPopperPlacement(t,e,r,this._settings.placement,this._settings.spacing+2);i.setDataset(this._settings.reference,"placement",a),i.setDataset(this._node,"placement",a);const h="auto"!==this._settings.position?this._settings.position:this.constructor.getPopperPosition(t,e,r,a,this._settings.position),d={x:Math.round(e.x),y:Math.round(e.y)},l=this._relativeParent&&!this._fixed?i.rect(this._relativeParent,!this._fixed):null;l&&(d.x-=Math.round(l.x),d.y-=Math.round(l.y)),this.constructor.adjustPlacement(d,t,e,a,this._settings.spacing),this.constructor.adjustPosition(d,t,e,a,h),d.x-=parseInt(i.css(this._node,"margin-left")),d.y-=parseInt(i.css(this._node,"margin-top")),this.constructor.adjustConstrain(d,t,e,r,l,a,this._settings.minContact),this._scrollParent&&(d.x+=i.getScrollX(this._scrollParent),d.y+=i.getScrollY(this._scrollParent));const c={};if(this._settings.useGpu?c.transform="translate3d("+d.x+"px , "+d.y+"px , 0)":(c.marginLeft=d.x,c.marginTop=d.y),i.setStyle(this._node,c),this._settings.arrow){const t=i.rect(this._node,!this._fixed);this._updateArrow(t,e,a,h)}}_updateArrow(t,s,o,n){const r={position:"absolute",top:"",right:"",bottom:"",left:""};i.setStyle(this._settings.arrow,r);const a=i.rect(this._settings.arrow,!this._fixed);if(["top","bottom"].includes(o)){r["top"===o?"bottom":"top"]=-a.height;const i=(s.width-t.width)/2;let h=t.width/2-a.width/2;"start"===n?h+=i:"end"===n&&(h-=i),r.left=e.clamp(h,Math.max(s.left,t.left)-a.left,Math.min(s.right,t.right)-a.left-a.width)}else{r["right"===o?"left":"right"]=-a.width;const i=(s.height-t.height)/2;let h=t.height/2-a.height;"start"===n?h+=i:"end"===n&&(h-=i),r.top=e.clamp(h,Math.max(s.top,t.top)-a.top,Math.min(s.bottom,t.bottom)-a.top-a.height)}i.setStyle(this._settings.arrow,r)}}class g{static add(s){this._poppers.push(s),this._running||(i.addEvent(t,"resize.frost.popper scroll.frost.popper",e.animation(t=>{for(const t of this._poppers)t.update()})),this._running=!0)}static addOverflow(t,s){this._popperOverflows.has(t)||(this._popperOverflows.set(t,[]),i.addEvent(t,"scroll.frost.popper",e.animation(e=>{for(const e of this._popperOverflows.get(t))e.update()}))),this._popperOverflows.get(t).push(s)}static remove(e){this._poppers=this._poppers.filter(t=>t!==e),this._poppers.length||(i.removeEvent(t,"resize.frost.popper scroll.frost.popper"),this._running=!1)}static removeOverflow(t,e){if(!this._popperOverflows.has(t))return;const s=this._popperOverflows.get(t).filter(t=>t!==e);s.length?this._popperOverflows.set(t,s):(this._popperOverflows.delete(t),i.removeEvent(t,"scroll.frost.popper"))}}Object.assign(_,{adjustConstrain(t,e,i,s,o,n,r){if(["left","right"].includes(n)){let n=t.y,a=i.top;o&&(n+=o.top,a-=o.top);const h=!1!==r?r:i.height;if(n+e.height>s.bottom){const i=n+e.height-s.bottom;t.y=Math.max(a-e.height+h,t.y-i)}else if(n<s.top){const e=n-s.top;t.y=Math.min(a+i.height-h,t.y-e)}}else{let n=t.x,a=i.left;o&&(n+=o.left,a-=o.left);const h=!1!==r?r:i.width;if(n+e.width>s.right){const i=n+e.width-s.right;t.x=Math.max(a-e.width+h,t.x-i)}else if(n<s.left){const e=n-s.left;t.x=Math.min(a+i.width-h,t.x-e)}}},adjustPlacement(t,e,i,s,o){"top"===s?t.y-=Math.round(e.height)+o:"right"===s?t.x+=Math.round(i.width)+o:"bottom"===s?t.y+=Math.round(i.height)+o:"left"===s&&(t.x-=Math.round(e.width)+o)},adjustPosition(t,e,i,s,o){if("start"!==o)if(["top","bottom"].includes(s)){const s=Math.round(e.width)-Math.round(i.width);"center"===o?t.x-=Math.round(s/2):"end"===o&&(t.x-=s)}else{const s=Math.round(e.height)-Math.round(i.height);"center"===o?t.y-=Math.round(s/2):"end"===o&&(t.y-=s)}},getPopperPlacement(t,e,i,s,o){const n=e.top-i.top,r=i.right-e.right,a=i.bottom-e.bottom,h=e.left-i.left;if("top"===s){if(n<t.height+o&&a>n)return"bottom"}else if("right"===s){if(r<t.width+o&&h>r)return"left"}else if("bottom"===s){if(a<t.height+o&&n>a)return"top"}else if("left"===s){if(h<t.width+o&&r>h)return"right"}else if("auto"===s){const i=Math.max(n,a),s=Math.max(r,h),d=Math.min(n,a);if(s>i&&s>=t.width+o&&d+e.height>=t.height+o-Math.max(0,t.height-e.height))return h>r?"left":"right";const l=Math.min(r,h);if(i>=t.height+o&&l+e.width>=t.width+o-Math.max(0,t.width-e.width))return a>n?"bottom":"top";const c=Math.max(i,s);return a===c&&a>=t.height+o?"bottom":n===c&&n>=t.height+o?"top":r===c&&r>=t.width+o?"right":h===c&&h>=t.width+o?"left":"bottom"}return s},getPopperPosition(t,e,i,s,o){const n=t.width-e.width,r=t.height-e.height;if(["bottom","top"].includes(s)){const t=e.left-i.left,s=i.right-e.right;if("start"===o){if(s<n){if(t>=n/2&&s>=n/2)return"center";if(t>=n)return"end"}}else if("center"===o){if(t<n/2||s<n/2){if(s>=n)return"start";if(t>=n)return"end"}}else if("end"===o&&t<n){if(t>=n/2&&s>=n/2)return"center";if(s>=n)return"start"}}else{const t=e.top-i.top,s=i.bottom-e.bottom;if("start"===o){if(s<r){if(s>=r/2&&t>=r/2)return"center";if(t>=r)return"end"}}else if("center"===o){if(t<r/2||s<r/2){if(s>=r)return"start";if(t>=r)return"end"}}else if("end"===o&&t<r){if(t>=r/2&&s>=r/2)return"center";if(s>=r)return"start"}}return o},getRelativeParent:t=>i.closest(t,t=>"relative"===i.css(t,"position"),o.body).shift(),getScrollParent:t=>i.closest(t,t=>!!["overflow","overflowX","overflowY"].find(e=>!!["auto","scroll"].find(s=>new RegExp(s).test(i.css(t,e)))),o.body).shift(),isNodeHidden:(t,e,i,s)=>i.top>e.bottom+t.height+s||i.left>e.right+t.width+s||i.bottom<e.top-t.height-s||i.right<e.left-t.width-s,windowContainer(e){const s=e?0:i.getScrollX(t),n=e?0:i.getScrollY(t),r=i.width(o),a=i.height(o);return{x:s,y:n,width:r,height:a,top:n,right:s+r,bottom:n+a,left:s}}}),_.defaults={reference:null,container:null,arrow:null,placement:"bottom",position:"center",fixed:!1,spacing:0,minContact:!1,useGpu:!0},g._poppers=[],g._popperOverflows=new Map,n.Popper=_,n.PopperSet=g,i.addEventDelegate(o,"mousedown.frost.ripple",".ripple",t=>{const e=i.position(t.currentTarget,!0);n.ripple(t.currentTarget,t.pageX-e.x,t.pageY-e.y)}),n.ripple=(t,e,s,o=500)=>{const n=i.width(t),r=i.height(t),a=Math.max(n,r),h=i.create("span",{class:"ripple-effect",style:{left:e,top:s}});i.append(t,h),i.animate(h,(t,e)=>{i.setStyle(t,{scale:Math.floor(e*a),opacity:1-e})},{duration:o}).finally(t=>{i.remove(h)})};class u{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s);const o=n.getTargetSelector(this._node);this._target=i.findOne(o),this._siblings=i.siblings(this._node),i.setData(this._node,"tab",this)}destroy(){i.removeData(this._node,"tab")}hide(){!this._animating&&i.hasClass(this._target,"active")&&i.triggerOne(this._node,"hide.frost.tab")&&(this._animating=!0,i.fadeOut(this._target,{duration:this._settings.duration}).then(t=>{i.removeClass(this._target,"active"),i.removeClass(this._node,"active"),i.setAttribute(this._node,"aria-selected",!1),i.triggerEvent(this._node,"hidden.frost.tab")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){if(this._animating||i.hasClass(this._target,"active")||!i.triggerOne(this._node,"show.frost.tab"))return;const t=this._siblings.find(t=>i.hasClass(t,"active"));let e;if(t&&(e=this.constructor.init(t),e._animating))return;if(!i.triggerOne(this._node,"show.frost.tab"))return;const s=t=>{this._animating=!0,i.addClass(this._target,"active"),i.addClass(this._node,"active"),i.fadeIn(this._target,{duration:this._settings.duration}).then(t=>{i.setAttribute(this._node,"aria-selected",!0),i.triggerEvent(this._node,"shown.frost.tab")}).catch(t=>{}).finally(t=>{this._animating=!1})};if(!e)return s();i.triggerOne(t,"hide.frost.tab")&&(i.addEventOnce(t,"hidden.frost.tab",t=>{s()}),e.hide())}static init(t,e){return i.hasData(t,"tab")?i.getData(t,"tab"):new this(t,e)}}u.defaults={duration:100},i.addEventDelegate(o,"click.frost.tab",'[data-toggle="tab"]',t=>{t.preventDefault();u.init(t.currentTarget).show()}),s&&(s.prototype.tab=function(t,...i){let s,o;e.isObject(t)?s=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=u.init(t,s);o&&n[o](...i)}return this}),n.Tab=u;class f{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._settings.autohide&&setTimeout(t=>this.hide(),this._settings.delay),i.setData(this._node,"toast",this)}destroy(){i.removeData(this._node,"toast")}hide(){!this._animating&&i.isVisible(this._node)&&i.triggerOne(this._node,"hide.frost.toast")&&(this._animating=!0,i.fadeOut(this._node,{duration:this._settings.duration}).then(t=>{i.hide(this._node),i.triggerEvent(this._node,"hidden.frost.toast")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){this._animating||i.isVisible(this._node)||!i.triggerOne(this._node,"show.frost.toast")||(this._animating=!0,i.show(this._node),i.fadeIn(this._node,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"shown.frost.toast")}).catch(t=>{}).finally(t=>{this._animating=!1}))}static init(t,e){return i.hasData(t,"toast")?i.getData(t,"toast"):new this(t,e)}}f.defaults={autohide:!0,delay:5e3,duration:100},i.addEventDelegate(o,"click.frost.toast",'[data-dismiss="toast"]',t=>{t.preventDefault();const e=n.getTarget(t.currentTarget,".toast");f.init(e,{autohide:!1}).hide()}),s&&(s.prototype.toast=function(t,...i){let s,o;e.isObject(t)?s=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=f.init(t,s);o&&n[o](...i)}return this}),n.Toast=f;class m{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),i.setData(this._node,"tooltip",this)}destroy(){this._popper&&this._popper.destroy(),i.remove(this._tooltip),this._triggers.includes("hover")&&(i.removeEvent(this._node,"mouseover.frost.tooltip"),i.removeEvent(this._node,"mouseout.frost.tooltip")),this._triggers.includes("focus")&&(i.removeEvent(this._node,"focus.frost.tooltip"),i.removeEvent(this._node,"blur.frost.tooltip")),this._triggers.includes("click")&&i.removeEvent(this._node,"click.frost.tooltip"),i.removeData(this._node,"tooltip",this)}disable(){this._enabled=!1}enable(){this._enabled=!0}hide(){this._animating&&i.stop(this._tooltip),i.isConnected(this._tooltip)&&i.triggerOne(this._node,"hide.frost.tooltip")&&(this._animating=!0,i.fadeOut(this._tooltip,{duration:this._settings.duration}).then(t=>{this._popper.destroy(),i.removeClass(this._tooltip,"show"),i.detach(this._tooltip),i.triggerEvent(this._node,"hidden.frost.tooltip")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){this._animating&&i.stop(this._tooltip),!i.isConnected(this._tooltip)&&i.triggerOne(this._node,"show.frost.tooltip")&&(this._show(),this._animating=!0,i.addClass(this._tooltip,"show"),i.fadeIn(this._tooltip,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"shown.frost.tooltip")}).catch(t=>{}).finally(t=>{this._animating=!1}))}toggle(){i.isConnected(this._tooltip)?this.hide():this.show()}update(){this._popper&&this._popper.update()}static init(t,e){return i.hasData(t,"tooltip")?i.getData(t,"tooltip"):new this(t,e)}}return Object.assign(m.prototype,{_events(){this._triggers.includes("hover")&&(i.addEvent(this._node,"mouseover.frost.popover",t=>{this._enabled&&this.show()}),i.addEvent(this._node,"mouseout.frost.popover",t=>{this._enabled&&this.hide()})),this._triggers.includes("focus")&&(i.addEvent(this._node,"focus.frost.popover",t=>{this._enabled&&this.show()}),i.addEvent(this._node,"blur.frost.popover",t=>{this._enabled&&this.hide()})),this._triggers.includes("click")&&i.addEvent(this._node,"click.frost.popover",t=>{t.preventDefault(),this._enabled&&this.toggle()})},_render(){this._tooltip=i.parseHTML(this._settings.template).shift(),this._arrow=i.find(".tooltip-arrow",this._tooltip),this._tooltipInner=i.find(".tooltip-inner",this._tooltip)},_show(){const t=i.getAttribute(this._node,"title")||this._settings.title,e=this._settings.html?"setHTML":"setText";i[e](this._tooltipInner,this._settings.html&&this._settings.sanitize?this._settings.sanitize(t):t),this._container?i.append(this._container,this._tooltip):i.before(this._node,this._tooltip),this._popper=new _(this._tooltip,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),m.defaults={template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',duration:100,enable:!0,html:!1,trigger:"hover focus",sanitize:t=>i.sanitize(t),placement:"auto",position:"center",fixed:!1,spacing:2,minContact:!1},s&&(s.prototype.tooltip=function(t,...i){let s,o;e.isObject(t)?s=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=m.init(t,s);o&&n[o](...i)}return this}),n.Tooltip=m,{UI:n}}));
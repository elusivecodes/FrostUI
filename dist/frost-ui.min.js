!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@fr0st/query")):"function"==typeof define&&define.amd?define(["exports","@fr0st/query"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).UI={},t.fQuery)}(this,(function(t,e){"use strict";let i;i=e!==e.query?e(globalThis):e,"fQuery"in globalThis||(globalThis.fQuery=i);const s=i.getContext(),o=i.getWindow();let n;function a(t){const e=l(o,s,"y");if(e)for(const s of t)i.setDataset(s,{uiPaddingRight:i.getStyle(s,"paddingRight")}),i.setStyle(s,{paddingRight:`${e+parseInt(i.css(s,"paddingRight"))}px`})}function r(t){const e=`${t}${i._randomInt(1e4,99999)}`;return i.findOne(`#${e}`)?r(t):e}function h(t){const e=i.getDataset(t);return Object.fromEntries(Object.entries(e).map((([t,e])=>[t.slice(2,3).toLowerCase()+t.slice(3),e])))}function d(t){return"touches"in t&&t.touches.length?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:t.pageX,y:t.pageY}}function l(t=o,e=s,a){const r="x"===a?"width":"height",h=i[r](t);return i[r](e,{boxSize:i.SCROLL_BOX})>h?function(){if(n)return n;const t=i.create("div",{style:{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}});return i.append(s.body,t),n=i.getProperty(t,"offsetWidth")-i.width(t),i.detach(t),n}():0}function u(t,e){const s=i._isWindow(t),o=s?function(t){const e=i.getScrollX(t),s=i.getScrollY(t),o=i.width(t),n=i.height(t);return{x:e,y:s,width:o,height:n,top:s,right:e+o,bottom:s+n,left:e}}(t):i.rect(t,{offset:!0}),n=l(t,e,"x"),a=l(t,e,"y");return n&&(o.height-=n,s&&(o.bottom-=n)),a&&(o.width-=a,s&&(o.right-=a)),o}function p(t,e){const s=_(t);let o;if(s&&"#"!==s?o=i.findOne(s):e&&(o=i.closest(t,e).shift()),!o)throw new Error("Target not found");return o}function _(t){return i.getDataset(t,"uiTarget")||i.getAttribute(t,"href")}function c(t,e){e.DATA_KEY=t,e.REMOVE_EVENT=`remove.ui.${t}`,i.QuerySet.prototype[t]=function(t,...s){let o,n,a;i._isObject(t)?o=t:i._isString(t)&&(n=t);for(const[t,r]of this.get().entries()){if(!i._isElement(r))continue;let h=e.init(r,o);n&&(h=h[n](...s)),0===t&&(a=h)}return a}}function g(t){for(const e of t)i.setStyle(e,{paddingRight:i.getDataset(e,"uiPaddingRight")}),i.removeDataset(e,"uiPaddingRight")}class m{constructor(t,e){this._node=t,this._options=i._extend({},this.constructor.defaults,h(this._node),e),i.addEvent(this._node,this.constructor.REMOVE_EVENT,(t=>{this.dispose()})),i.setData(this._node,{[this.constructor.DATA_KEY]:this})}dispose(){i.removeEvent(this._node,this.constructor.REMOVE_EVENT),i.removeData(this._node,this.constructor.DATA_KEY),this._node=null,this._options=null}static init(t,...e){return i.hasData(t,this.DATA_KEY)?i.getData(t,this.DATA_KEY):new this(t,...e)}}class f extends m{close(){!i.getDataset(this._node,"uiAnimating")&&i.triggerOne(this._node,"close.ui.alert")&&(i.setDataset(this._node,{uiAnimating:"out"}),i.fadeOut(this._node,{duration:this._options.duration}).then((t=>{i.detach(this._node),i.removeDataset(this._node,"uiAnimating"),i.triggerEvent(this._node,"closed.ui.alert"),i.remove(this._node)})).catch((t=>{"out"===i.getDataset(this._node,"uiAnimating")&&i.removeDataset(this._node,"uiAnimating")})))}}f.defaults={duration:100},c("alert",f),i.addEventDelegate(s,"click.ui.alert",'[data-ui-dismiss="alert"]',(t=>{t.preventDefault();const e=p(t.currentTarget,".alert");f.init(e).close()}));class v extends m{toggle(){i.toggleClass(this._node,"active");const t=i.hasClass(this._node,"active");i.setAttribute(this._node,{"aria-pressed":t})}}c("button",v),i.addEventDelegate(s,"click.ui.button keydown.ui.button",'[data-ui-toggle="button"]',(t=>{t.code&&"Space"!==t.code||(t.preventDefault(),v.init(t.currentTarget).toggle())}));class w extends m{constructor(t,e){super(t,e),this._items=i.find(".carousel-item",this._node),this._index=this._items.findIndex((t=>i.hasClass(t,"active"))),this._events(),"carousel"===this._options.ride&&this._setTimer()}cycle(){i.isHidden(s)?(this._paused=!1,this._setTimer()):this.slide(1)}dispose(){this._timer&&clearTimeout(this._timer),this._options.keyboard&&i.removeEvent(this._node,"keydown.ui.carousel"),this._options.pause&&(i.removeEvent(this._node,"mouseenter.ui.carousel"),i.removeEvent(this._node,"mouseleave.ui.carousel")),this._options.swipe&&i.removeEvent(this._node,"mousedown.ui.carousel"),this._items=null,super.dispose()}next(){this.slide()}pause(){clearTimeout(this._timer),this._timer=null,this._paused=!0}prev(){this.slide(-1)}show(t){this._show(t)}slide(t=1){this.show(this._index+t)}}function b(t,e){return t<0?-1:t>e-1?1:0}function D(t,e,i){return-1==t||0==t&&i<e?"left":"right"}function A(t,e){return(t%=e)<0?e+t:t}w.defaults={interval:5e3,transition:500,keyboard:!0,ride:!1,pause:!0,wrap:!0,swipe:!0};const x=w.prototype;x._events=function(){if(this._options.keyboard&&i.addEvent(this._node,"keydown.ui.carousel",(t=>{const e=t.target;if(!i.is(e,"input, select"))switch(t.code){case"ArrowLeft":t.preventDefault(),this.prev();break;case"ArrowRight":t.preventDefault(),this.next()}})),this._options.pause&&(i.addEvent(this._node,"mouseenter.ui.carousel",(t=>{this._mousePaused=!0,this.pause()})),i.addEvent(this._node,"mouseleave.ui.carousel",(t=>{this._mousePaused=!1,this._paused=!1,i.getDataset(this._node,"uiSliding")||this._setTimer()}))),this._options.swipe){let t,e,s,o=null;const n=e=>{if(e.button||i.getDataset(this._node,"uiSliding")||!i.is(e.target,":disabled, .disabled")&&(i.is(e.target,"[data-ui-slide-to], [data-ui-slide], a, button, input, textarea, select")||i.closest(e.target,"[data-ui-slide], a, button",(t=>i.isSame(t,this._node)||i.is(t,":disabled, .disabled"))).length))return!1;this.pause(),i.setDataset(this._node,{uiSliding:!0});const s=d(e);t=s.x},a=n=>{const a=d(n).x,r=i.width(this._node)/2;let h=a-t;this._options.wrap||(h=i._clamp(h,-(this._items.length-1-this._index)*r,this._index*r)),e=i._map(Math.abs(h),0,r,0,1);do{const i=o;if(h<0)o=this._index+1;else{if(!(h>0))return void(o=this._index);o=this._index-1}const n=b(o,this._items.length);if(o=A(o,this._items.length),s=D(n,this._index,o),e>=1){t=a;const n=this._setIndex(o);this._update(this._items[this._index],this._items[n],e,{direction:s}),this._updateIndicators(),i!==this._index&&this._resetStyles(i),e--}else this._update(this._items[o],this._items[this._index],e,{direction:s,dragging:!0}),i!==o&&this._resetStyles(i)}while(e>1)},r=t=>{if(null===o||o===this._index)return this._paused=!1,i.removeDataset(this._node,"uiSliding"),void this._setTimer();let n,a;e>.25?(n=this._setIndex(o),a=1-e):(n=o,a=e,s="right"===s?"left":"right"),this._resetStyles(this._index),o=null,i.animate(this._items[this._index],((t,i)=>{this._items&&(e>.25?this._update(t,this._items[n],e+i*a,{direction:s}):this._update(t,this._items[n],1-e+i*a,{direction:s}))}),{duration:this._options.transition*a}).then((t=>{this._updateIndicators(),i.removeDataset(this._node,"uiSliding"),this._paused=!1,this._setTimer()})).catch((t=>{i.removeDataset(this._node,"uiSliding")}))},h=i.mouseDragFactory(n,a,r);i.addEvent(this._node,"mousedown.ui.carousel touchstart.ui.carousel",h)}},x._resetStyles=function(t){i.setStyle(this._items[t],{display:"",transform:""})},x._setIndex=function(t){const e=this._index;return this._index=t,i.addClass(this._items[this._index],"active"),i.removeClass(this._items[e],"active"),e},x._setTimer=function(){if(this._timer||this._paused||this._mousePaused)return;const t=i.getDataset(this._items[this._index],"uiInterval");this._timer=setTimeout((t=>this.cycle()),t||this._options.interval)},x._show=function(t){if(i.getDataset(this._node,"uiSliding"))return;if(t=parseInt(t),!this._options.wrap&&(t<0||t>this._items.length-1))return;const e=b(t,this._items.length);if((t=A(t,this._items.length))===this._index)return;const s=D(e,this._index,t),o={direction:s,relatedTarget:this._items[t],from:this._index,to:t};if(!i.triggerOne(this._node,"slide.ui.carousel",{data:o}))return;i.setDataset(this._node,{uiSliding:!0}),this.pause();const n=this._setIndex(t);i.animate(this._items[this._index],((t,e)=>{this._items&&this._update(t,this._items[n],e,{direction:s})}),{duration:this._options.transition}).then((t=>{this._updateIndicators(),i.removeDataset(this._node,"uiSliding"),i.triggerEvent(this._node,"slid.ui.carousel",{data:o}),this._paused=!1,this._setTimer()})).catch((t=>{i.removeDataset(this._node,"uiSliding")}))},x._update=function(t,e,s,{direction:o,dragging:n=!1}={}){const a={},r={};if(s>=1)n?a.display="":r.display="",a.transform="",r.transform="";else{const t="right"===o;n?a.display="block":r.display="block",a.transform=`translateX(${Math.round(100*(1-s))*(t?1:-1)}%)`,r.transform=`translateX(${Math.round(100*s)*(t?-1:1)}%)`}i.setStyle(t,a),i.setStyle(e,r)},x._updateIndicators=function(){const t=i.find(".active[data-ui-slide-to]",this._node),e=i.find('[data-ui-slide-to="'+this._index+'"]',this._node);i.removeClass(t,"active"),i.addClass(e,"active")},c("carousel",w),i((t=>{const e=i.find('[data-ui-ride="carousel"]');for(const t of e)w.init(t)})),i.addEventDelegate(s,"click.ui.carousel","[data-ui-slide]",(t=>{t.preventDefault();const e=p(t.currentTarget,".carousel"),s=w.init(e);"prev"===i.getDataset(t.currentTarget,"uiSlide")?s.prev():s.next()})),i.addEventDelegate(s,"click.ui.carousel","[data-ui-slide-to]",(t=>{t.preventDefault();const e=p(t.currentTarget,".carousel"),s=w.init(e),o=i.getDataset(t.currentTarget,"uiSlideTo");s.show(o)}));class y extends m{constructor(t,e){super(t,e);const s=i.getAttribute(this._node,"id");this._triggers=i.find(`[data-ui-toggle="collapse"][data-ui-target="#${s}"]`),this._options.parent&&(this._parent=i.closest(this._node,this._options.parent).shift())}dispose(){this._triggers=null,this._parent=null,super.dispose()}hide(){!i.getDataset(this._node,"uiAnimating")&&i.hasClass(this._node,"show")&&i.triggerOne(this._node,"hide.ui.collapse")&&(i.setDataset(this._node,{uiAnimating:"out"}),i.addClass(this._triggers,"collapsed"),i.addClass(this._triggers,"collapsing"),i.squeezeOut(this._node,{direction:this._options.direction,duration:this._options.duration}).then((t=>{i.removeClass(this._node,"show"),i.removeClass(this._triggers,"collapsing"),i.setAttribute(this._triggers,{"aria-expanded":!1}),i.removeDataset(this._node,"uiAnimating"),i.triggerEvent(this._node,"hidden.ui.collapse")})).catch((t=>{"out"===i.getDataset(this._node,"uiAnimating")&&i.removeDataset(this._node,"uiAnimating")})))}show(){if(i.getDataset(this._node,"uiAnimating")||i.hasClass(this._node,"show"))return;const t=[];if(this._parent){const e=i.find(".collapse.show",this._parent);for(const s of e){const e=this.constructor.init(s);i.isSame(this._parent,e._parent)&&t.push(e)}}if(i.triggerOne(this._node,"show.ui.collapse")){for(const e of t)e.hide();i.setDataset(this._node,{uiAnimating:"in"}),i.addClass(this._node,"show"),i.removeClass(this._triggers,"collapsed"),i.addClass(this._triggers,"collapsing"),i.squeezeIn(this._node,{direction:this._options.direction,duration:this._options.duration}).then((t=>{i.removeClass(this._triggers,"collapsing"),i.setAttribute(this._triggers,{"aria-expanded":!0}),i.removeDataset(this._node,"uiAnimating"),i.triggerEvent(this._node,"shown.ui.collapse")})).catch((t=>{"in"===i.getDataset(this._node,"uiAnimating")&&i.removeDataset(this._node,"uiAnimating")}))}}toggle(){i.hasClass(this._node,"show")?this.hide():this.show()}}y.defaults={direction:"bottom",duration:250},c("collapse",y),i.addEventDelegate(s,"click.ui.collapse",'[data-ui-toggle="collapse"]',(t=>{t.preventDefault();const e=_(t.currentTarget),s=i.find(e);for(const t of s)y.init(t).toggle()}));const T=new Set;let E,C=!1;class k extends m{constructor(t,e){super(t,e),this._placement=i.getDataset(this._node,"uiPlacement"),this._referencePlacement=i.getDataset(this._options.reference,"uiPlacement"),i.setStyle(this._node,{margin:0,position:"absolute",top:0,right:"initial",bottom:"initial",left:0}),T.add(this),C||(i.addEvent(o,"resize.ui.popper",i.debounce((t=>{for(const t of T)t.update()}))),i.addEvent(s,"scroll.ui.popper",i.debounce((t=>{for(const e of T)(i._isDocument(t.target)||i.hasDescendent(t.target,e.node))&&e.update()})),{passive:!0}),C=!0),this.update()}dispose(){this._placement?i.setDataset(this._node,{uiPlacement:this._placement}):i.removeDataset(this._node,"uiPlacement"),this._options.noAttributes||(this._referencePlacement?i.setDataset(this._options.reference,{uiPlacement:this._referencePlacement}):i.removeDataset(this._options.reference,"uiPlacement")),T.delete(this),T.size||(i.removeEvent(o,"resize.ui.popper"),i.removeEvent(s,"scroll.ui.popper"),C=!1),super.dispose()}update(){if(!i.isConnected(this._node)||!i.isVisible(this._node))return;const t={};this._options.useGpu?t.transform="":(t.marginLeft=0,t.marginTop=0),i.setStyle(this._node,t),this._options.beforeUpdate&&this._options.beforeUpdate(this._node,this._options.reference);const e=i.rect(this._node,{offset:!0}),n=i.rect(this._options.reference,{offset:!0}),a=u(o,s),r=i.closest(this._node,(t=>"relative"===i.css(t,"position")&&["overflow","overflowX","overflowY"].some((e=>["auto","scroll"].includes(i.css(t,e))))),s.body).shift(),h=r?u(r,r):null,d=this._options.container?i.rect(this._options.container,{offset:!0}):null,l={...a};h&&(l.top=Math.max(l.top,h.top),l.right=Math.min(l.right,h.right),l.bottom=Math.min(l.bottom,h.bottom),l.left=Math.max(l.left,h.left)),d&&(l.top=Math.max(l.top,d.top),l.right=Math.min(l.right,d.right),l.bottom=Math.min(l.bottom,d.bottom),l.left=Math.max(l.left,d.left)),(h||d)&&(l.x=l.left,l.y=l.top,l.width=l.right-l.left,l.height=l.bottom-l.top);const p=this._options.fixed&&"auto"!==this._options.placement?this._options.placement:function(t,e,i,s,o){const n=e.top-i.top,a=i.right-e.right,r=i.bottom-e.bottom,h=e.left-i.left;if("top"===s){if(n<t.height+o&&r>n)return"bottom"}else if("right"===s){if(a<t.width+o&&h>a)return"left"}else if("bottom"===s){if(r<t.height+o&&n>r)return"top"}else if("left"===s){if(h<t.width+o&&a>h)return"right"}else if("auto"===s){const i=Math.max(n,r),s=Math.max(a,h),d=Math.min(n,r);if(s>i&&s>=t.width+o&&d+e.height>=t.height+o-Math.max(0,t.height-e.height))return h>a?"left":"right";const l=Math.min(a,h);if(i>=t.height+o&&l+e.width>=t.width+o-Math.max(0,t.width-e.width))return r>n?"bottom":"top";const u=Math.max(i,s);return r===u&&r>=t.height+o?"bottom":n===u&&n>=t.height+o?"top":a===u&&a>=t.width+o?"right":h===u&&h>=t.width+o?"left":"bottom"}return s}(e,n,l,this._options.placement,this._options.spacing+2);this._options.noAttributes||i.setDataset(this._options.reference,{uiPlacement:p}),i.setDataset(this._node,{uiPlacement:p});const _=this._options.position,c={x:Math.round(n.x),y:Math.round(n.y)},g=i.closest(this._node,(t=>"relative"===i.css(t,"position")),s.body).shift(),m=g?i.rect(g,{offset:!0}):null;if(m&&(c.x-=Math.round(m.x),c.y-=Math.round(m.y)),"top"===p?c.y-=Math.round(e.height)+this._options.spacing:"right"===p?c.x+=Math.round(n.width)+this._options.spacing:"bottom"===p?c.y+=Math.round(n.height)+this._options.spacing:"left"===p&&(c.x-=Math.round(e.width)+this._options.spacing),["top","bottom"].includes(p)){const t=Math.round(e.width)-Math.round(n.width);"center"===_?c.x-=Math.round(t/2):"end"===_&&(c.x-=t)}else{const t=Math.round(e.height)-Math.round(n.height);"center"===_?c.y-=Math.round(t/2):"end"===_&&(c.y-=t)}if(c.x-=parseInt(i.css(this._node,"marginLeft")),c.y-=parseInt(i.css(this._node,"marginTop")),["left","right"].includes(p)){let t=c.y,i=n.top;m&&(t+=m.top,i-=m.top);const s=null!==this._options.minContact?this._options.minContact:Math.min(n.height,e.height);if(t+e.height>l.bottom){const o=t+e.height-l.bottom;c.y=Math.max(i-e.height+s,c.y-o)}if(t<l.top){const e=t-l.top;c.y=Math.min(i+n.height-s,c.y-e)}}else{let t=c.x,i=n.left;m&&(t+=m.left,i-=m.left);const s=null!==this._options.minContact?this._options.minContact:Math.min(n.width,e.width);if(t+e.width>l.right){const o=t+e.width-l.right;c.x=Math.max(i-e.width+s,c.x-o)}if(t<l.left){const e=t-l.left;c.x=Math.min(i+n.width-s,c.x-e)}}c.x=Math.round(c.x),c.y=Math.round(c.y),r&&(c.x+=i.getScrollX(r),c.y+=i.getScrollY(r));const f={};this._options.useGpu?f.transform=`translate3d(${c.x}px , ${c.y}px , 0)`:(f.marginLeft=`${c.x}px`,f.marginTop=`${c.y}px`),i.setStyle(this._node,f),this._options.arrow&&this._updateArrow(p,_),this._options.afterUpdate&&this._options.afterUpdate(this._node,this._options.reference,p,_)}}class O extends m{constructor(t,e){super(t,e),this._menuNode=i.next(this._node,".dropdown-menu").shift(),this._options.reference?"parent"===this._options.reference?this._referenceNode=i.parent(this._node).shift():this._referenceNode=i.findOne(this._options.reference):this._referenceNode=this._node,"static"!==this._options.display&&i.closest(this._node,".navbar-nav").length&&(this._options.display="static")}dispose(){this._popper&&(this._popper.dispose(),this._popper=null),this._menuNode=null,this._referenceNode=null,super.dispose()}hide(){!i.getDataset(this._menuNode,"uiAnimating")&&i.hasClass(this._menuNode,"show")&&i.triggerOne(this._node,"hide.ui.dropdown")&&(i.setDataset(this._menuNode,{uiAnimating:"out"}),i.fadeOut(this._menuNode,{duration:this._options.duration}).then((t=>{this._popper&&(this._popper.dispose(),this._popper=null),i.removeClass(this._menuNode,"show"),i.setAttribute(this._node,{"aria-expanded":!1}),i.removeDataset(this._menuNode,"uiAnimating"),i.triggerEvent(this._node,"hidden.ui.dropdown")})).catch((t=>{"out"===i.getDataset(this._menuNode,"uiAnimating")&&i.removeDataset(this._menuNode,"uiAnimating")})))}show(){i.getDataset(this._menuNode,"uiAnimating")||i.hasClass(this._menuNode,"show")||!i.triggerOne(this._node,"show.ui.dropdown")||(i.setDataset(this._menuNode,{uiAnimating:"in"}),i.addClass(this._menuNode,"show"),"dynamic"===this._options.display&&(this._popper=new k(this._menuNode,{reference:this._referenceNode,placement:this._options.placement,position:this._options.position,fixed:this._options.fixed,spacing:this._options.spacing,minContact:this._options.minContact})),o.requestAnimationFrame((t=>{this.update()})),i.fadeIn(this._menuNode,{duration:this._options.duration}).then((t=>{i.setAttribute(this._node,{"aria-expanded":!0}),i.removeDataset(this._menuNode,"uiAnimating"),i.triggerEvent(this._node,"shown.ui.dropdown")})).catch((t=>{"in"===i.getDataset(this._menuNode,"uiAnimating")&&i.removeDataset(this._menuNode,"uiAnimating")})))}toggle(){i.hasClass(this._menuNode,"show")?this.hide():this.show()}update(){this._popper&&this._popper.update()}}function S(t){return E||t.target}i.addEvent(o,"mousedown.ui",(t=>{E=t.target}),{capture:!0}),i.addEvent(o,"mouseup.ui",(t=>{setTimeout((t=>{E=null}),0)}),{capture:!0}),O.defaults={display:"dynamic",duration:100,placement:"bottom",position:"start",fixed:!1,spacing:3,minContact:!1},c("dropdown",O),i.addEventDelegate(s,"click.ui.dropdown keydown.ui.dropdown",'[data-ui-toggle="dropdown"]',(t=>{t.code&&"Space"!==t.code||(t.preventDefault(),O.init(t.currentTarget).toggle())})),i.addEventDelegate(s,"keydown.ui.dropdown",'[data-ui-toggle="dropdown"]',(t=>{switch(t.code){case"ArrowDown":case"ArrowUp":t.preventDefault();const e=t.currentTarget,s=O.init(e);i.hasClass(s._menuNode,"show")||s.show();const o=i.findOne('.dropdown-item:not([tabindex="-1"])',s._menuNode);i.focus(o)}})),i.addEventDelegate(s,"keydown.ui.dropdown",".dropdown-menu.show .dropdown-item",(t=>{let e;switch(t.code){case"ArrowDown":e=i.next(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').shift();break;case"ArrowUp":e=i.prev(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').pop();break;default:return}t.preventDefault(),i.focus(e)})),i.addEvent(s,"click.ui.dropdown",(t=>{const e=S(t),s=i.find(".dropdown-menu.show");for(const t of s){const s=i.siblings(t,'[data-ui-toggle="dropdown"]').shift(),o=O.init(s),n=i.hasDescendent(o._menuNode,e),a=o._options.autoClose;i.isSame(o._node,e)||n&&(i.is(e,"form, input, textarea, select, option")||"outside"===a||!1===a)||!(n||i.isSame(o._menuNode,e)||"inside"!==a&&!1!==a)||o.hide()}}),{capture:!0}),i.addEvent(s,"keydown.ui.dropdown",(t=>{if("Escape"!==t.code)return;let e=!1;const s=i.find(".dropdown-menu.show");for(const o of s){const s=i.siblings(o,'[data-ui-toggle="dropdown"]').shift(),n=O.init(s);e||(e=!0,t.stopPropagation()),n.hide()}}),{capture:!0}),i.addEvent(s,"keyup.ui.dropdown",(t=>{if("Tab"!==t.code)return;let e=!1;const s=i.find(".dropdown-menu.show");for(const o of s){const s=i.siblings(o,'[data-ui-toggle="dropdown"]').shift(),n=O.init(s);i.hasDescendent(n._menuNode,t.target)||(e||(e=!0,t.stopPropagation()),n.hide())}}),{capture:!0});const M=new Set;let N=!1,I=!1;class P extends m{activate(){this._active||(M.add(this),N||(i.addEvent(s,"focusin.ui.focustrap",(t=>{const e=[...M].pop()._node;if(i._isDocument(t.target)||i.isSame(e,t.target)||i.hasDescendent(e,t.target))return;const s=i.find('a, button, input, textarea, select, details, [tabindex], [contenteditable="true"]',e).filter((t=>i.is(t,":not(:disabled, .disabled)")&&i.getAttribute(t,"tabindex")>=0&&i.isVisible(t))),o=I?s.pop():s.shift();i.focus(o||e)}),{capture:!0}),i.addEvent(s,"keydown.ui.focustrap",(t=>{"Tab"===t.key&&(I=t.shiftKey)}),{capture:!0}),N=!0,I=!1),this._options.autoFocus&&$.focus(this._node),this._active=!0)}deactivate(){this._active&&(M.delete(this),M.size||(i.removeEvent(s,"focusin.ui.focustrap"),i.removeEvent(s,"keydown.ui.focustrap"),N=!1),this._active=!1)}dispose(){this.deactivate(),super.dispose()}}P.defaults={autoFocus:!0},c("focustrap",P);class z extends m{constructor(t,e){super(t,e),this._dialog=i.child(this._node,".modal-dialog").shift(),this._options.show&&this.show(),this._options.focus&&(this._focusTrap=P.init(this._node))}dispose(){this._focusTrap&&(this._focusTrap.dispose(),this._focusTrap=null),this._dialog=null,this._activeTarget=null,this._backdrop=null,this._scrollNodes=null,super.dispose()}hide(){if(i.getDataset(this._dialog,"uiAnimating")||!i.hasClass(this._node,"show")||!i.triggerOne(this._node,"hide.ui.modal"))return;i.stop(this._dialog),i.setDataset(this._dialog,{uiAnimating:"out"}),this._focusTrap&&this._focusTrap.deactivate();const t=i.find(".modal.show").length-1;Promise.all([i.fadeOut(this._dialog,{duration:this._options.duration}),i.dropOut(this._dialog,{duration:this._options.duration,direction:"top"}),i.fadeOut(this._backdrop,{duration:this._options.duration})]).then((e=>{i.setAttribute(this._node,{"aria-hidden":!0,"aria-modal":!1}),g(this._scrollNodes),this._scrollNodes=[],t?i.setStyle(this._node,{zIndex:""}):i.removeClass(s.body,"modal-open"),i.removeClass(this._node,"show"),this._options.backdrop&&(i.remove(this._backdrop),this._backdrop=null),this._activeTarget&&(i.focus(this._activeTarget),this._activeTarget=null),i.removeDataset(this._dialog,"uiAnimating"),i.triggerEvent(this._node,"hidden.ui.modal")})).catch((t=>{"out"===i.getDataset(this._dialog,"uiAnimating")&&i.removeDataset(this._dialog,"uiAnimating")}))}show(){if(i.getDataset(this._dialog,"uiAnimating")||i.hasClass(this._node,"show")||!i.triggerOne(this._node,"show.ui.modal",{data:{relatedTarget:this._activeTarget}}))return;i.setDataset(this._dialog,{uiAnimating:!0});const t=i.find(".modal.show").length;if(i.removeClass(s.body,"modal-open"),this._scrollNodes=[this._dialog],t){let e=i.css(this._node,"zIndex");e=parseInt(e),e+=20*t,i.setStyle(this._node,{zIndex:e})}else i.findOne(".offcanvas.show")||(this._scrollNodes.push(s.body),this._scrollNodes.push(...i.find(".fixed-top, .fixed-bottom, .sticky-top")));if(a(this._scrollNodes),i.addClass(s.body,"modal-open"),i.addClass(this._node,"show"),this._options.backdrop&&(this._backdrop=i.create("div",{class:"modal-backdrop"}),i.append(s.body,this._backdrop),t)){let e=i.css(this._backdrop,"zIndex");e=parseInt(e),e+=20*t,i.setStyle(this._backdrop,{zIndex:e})}Promise.all([i.fadeIn(this._dialog,{duration:this._options.duration}),i.dropIn(this._dialog,{duration:this._options.duration,direction:"top"}),i.fadeIn(this._backdrop,{duration:this._options.duration})]).then((t=>{i.setAttribute(this._node,{"aria-hidden":!1,"aria-modal":!0}),this._focusTrap&&this._focusTrap.activate(),i.removeDataset(this._dialog,"uiAnimating"),i.triggerEvent(this._node,"shown.ui.modal")})).catch((t=>{"in"===i.getDataset(this._dialog,"uiAnimating")&&i.removeDataset(this._dialog,"uiAnimating")}))}toggle(){i.hasClass(this._node,"show")?this.hide():this.show()}}function Y(){const t=i.find(".modal.show");if(!t.length)return null;let e=t.shift(),s=i.getStyle(e,"zIndex");for(const o of t){const t=i.getStyle(o,"zIndex");t<=s||(e=o,s=t)}return z.init(e)}function L(t){return i.hasClass(t,"offcanvas-end")?"right":i.hasClass(t,"offcanvas-bottom")?"bottom":i.hasClass(t,"offcanvas-start")?"left":"top"}z.defaults={duration:250,backdrop:!0,focus:!0,show:!1,keyboard:!0},z.prototype._zoom=function(){i.getDataset(this._dialog,"uiAnimating")||(i.stop(this._dialog),i.animate(this._dialog,((t,e)=>{if(e>=1)return void i.setStyle(t,{transform:""});const s=(e<.5?e:1-e)/20;i.setStyle(t,{transform:`scale(${1+s})`})}),{duration:200}).catch((t=>{})))},c("modal",z),i.addEventDelegate(s,"click.ui.modal",'[data-ui-toggle="modal"]',(t=>{t.preventDefault();const e=p(t.currentTarget,".modal"),i=z.init(e);i._activeTarget=t.currentTarget,i.show()})),i.addEventDelegate(s,"click.ui.modal",'[data-ui-dismiss="modal"]',(t=>{t.preventDefault();const e=p(t.currentTarget,".modal");z.init(e).hide()})),i.addEvent(o,"click.ui.modal",(t=>{const e=S(t);if(i.is(e,"[data-ui-dismiss]"))return;const s=Y();!s||!s._options.backdrop||s._node!==e&&i.hasDescendent(s._node,e)||("static"!==s._options.backdrop?s.hide():s._zoom())})),i.addEvent(o,"keydown.ui.modal",(t=>{if("Escape"!==t.code)return;const e=Y();e&&e._options.keyboard&&("static"!==e._options.backdrop?e.hide():e._zoom())}));class R extends m{constructor(t,e){super(t,e),this._options.scroll&&!this._options.backdrop||(this._focusTrap=P.init(this._node))}dispose(){this._focusTrap&&(this._focusTrap.dispose(),this._focusTrap=null),this._activeTarget=null,this._scrollNodes=null,super.dispose()}hide(){!i.getDataset(this._node,"uiAnimating")&&i.hasClass(this._node,"show")&&i.triggerOne(this._node,"hide.ui.offcanvas")&&(i.setDataset(this._node,{uiAnimating:"out"}),this._focusTrap&&this._focusTrap.deactivate(),Promise.all([i.fadeOut(this._node,{duration:this._options.duration}),i.dropOut(this._node,{duration:this._options.duration,direction:L(this._node)})]).then((t=>{i.setAttribute(this._node,{"aria-hidden":!0,"aria-modal":!1}),i.removeClass(this._node,"show"),this._options.backdrop&&i.removeClass(s.body,"offcanvas-backdrop"),this._options.scroll||(g(this._scrollNodes),this._scrollNodes=[],i.setStyle(s.body,{overflow:""})),this._activeTarget&&(i.focus(this._activeTarget),this._activeTarget=null),i.removeDataset(this._node,"uiAnimating"),i.triggerEvent(this._node,"hidden.ui.offcanvas")})).catch((t=>{"out"===i.getDataset(this._node,"uiAnimating")&&i.removeDataset(this._node,"uiAnimating")})))}show(){i.getDataset(this._node,"uiAnimating")||i.hasClass(this._node,"show")||i.findOne(".offcanvas.show")||!i.triggerOne(this._node,"show.ui.offcanvas")||(i.setDataset(this._node,{uiAnimating:"in"}),i.addClass(this._node,"show"),this._options.backdrop&&i.addClass(s.body,"offcanvas-backdrop"),this._scrollNodes=[],this._options.scroll||(this._scrollNodes.push(s.body),this._scrollNodes.push(...i.find(".fixed-top, .fixed-bottom, .sticky-top")),a(this._scrollNodes),i.setStyle(s.body,{overflow:"hidden"})),Promise.all([i.fadeIn(this._node,{duration:this._options.duration}),i.dropIn(this._node,{duration:this._options.duration,direction:L(this._node)})]).then((t=>{i.setAttribute(this._node,{"aria-hidden":!1,"aria-modal":!0}),this._focusTrap&&this._focusTrap.activate(),i.removeDataset(this._node,"uiAnimating"),i.triggerEvent(this._node,"shown.ui.offcanvas")})).catch((t=>{"in"===i.getDataset(this._node,"uiAnimating")&&i.removeDataset(this._node,"uiAnimating")})))}toggle(){i.hasClass(this._node,"show")?this.hide():this.show()}}R.defaults={duration:250,backdrop:!0,keyboard:!0,scroll:!1},c("offcanvas",R),i.addEventDelegate(s,"click.ui.offcanvas",'[data-ui-toggle="offcanvas"]',(t=>{t.preventDefault();const e=p(t.currentTarget,".offcanvas"),i=R.init(e);i._activeTarget=t.currentTarget,i.show()})),i.addEventDelegate(s,"click.ui.offcanvas",'[data-ui-dismiss="offcanvas"]',(t=>{t.preventDefault();const e=p(t.currentTarget,".offcanvas");R.init(e).hide()})),i.addEvent(s,"click.ui.offcanvas",(t=>{const e=S(t);if(i.is(e,"[data-ui-dismiss]")||i.findOne(".modal.show"))return;const s=i.find(".offcanvas.show");if(s.length)for(const t of s){const s=R.init(t);!s._options.backdrop||"static"===s._options.backdrop||i.isSame(s._node,e)||i.hasDescendent(s._node,e)||s.hide()}})),i.addEvent(s,"keydown.ui.offcanvas",(t=>{if("Escape"!==t.code||i.findOne(".modal.show"))return;const e=i.find(".offcanvas.show");if(e.length)for(const t of e){const e=R.init(t);if(!e._options.keyboard)return;e.hide()}}));class X extends m{constructor(t,e){super(t,e),this._modal=i.closest(this._node,".modal").shift(),this._triggers=this._options.trigger.split(" "),this._render(),this._events(),this._options.enable&&this.enable(),this.refresh()}dispose(){if(i.hasDataset(this._node,"uiOriginalTitle")){const t=i.getDataset(this._node,"uiOriginalTitle");i.setAttribute(this._node,{title:t}),i.removeDataset(this._node,"uiOriginalTitle")}this._popper&&(this._popper.dispose(),this._popper=null),i.remove(this._popover),this._triggers.includes("hover")&&(i.removeEvent(this._node,"mouseover.ui.popover"),i.removeEvent(this._node,"mouseout.ui.popover")),this._triggers.includes("focus")&&(i.removeEvent(this._node,"focus.ui.popover"),i.removeEvent(this._node,"blur.ui.popover")),this._triggers.includes("click")&&i.removeEvent(this._node,"click.ui.popover"),this._modal&&i.removeEvent(this._modal,"hide.ui.modal",this._hideModalEvent),this._modal=null,this._triggers=null,this._popover=null,this._popoverHeader=null,this._popoverBody=null,this._arrow=null,super.dispose()}disable(){this._enabled=!1}enable(){this._enabled=!0}hide(){this._enabled&&!i.getDataset(this._popover,"uiAnimating")&&i.isConnected(this._popover)&&i.triggerOne(this._node,"hide.ui.popover")&&(i.setDataset(this._popover,{uiAnimating:"out"}),i.fadeOut(this._popover,{duration:this._options.duration}).then((t=>{this._popper.dispose(),this._popper=null,i.detach(this._popover),i.removeDataset(this._popover,"uiAnimating"),i.removeAttribute(this._node,"aria-described-by"),i.triggerEvent(this._node,"hidden.ui.popover")})).catch((t=>{"out"===i.getDataset(this._popover,"uiAnimating")&&i.removeDataset(this._popover,"uiAnimating")})))}refresh(){if(i.hasAttribute(this._node,"title")){const t=i.getAttribute(this._node,"title");i.setDataset(this._node,{uiOriginalTitle:t}),i.removeAttribute(this._node,"title")}let t="";i.hasDataset(this._node,"uiTitle")?t=i.getDataset(this._node,"uiTitle"):this._options.title?t=this._options.title:i.hasDataset(this._node,"uiOriginalTitle")&&(t=i.getDataset(this._node,"uiOriginalTitle",t));let e="";i.hasDataset(this._node,"uiContent")?e=i.getDataset(this._node,"uiContent"):this._options.content&&(e=this._options.content);const s=this._options.html?"setHTML":"setText";i[s](this._popoverHeader,this._options.html&&this._options.sanitize?this._options.sanitize(t):t),t?i.show(this._popoverHeader):i.hide(this._popoverHeader),i[s](this._popoverBody,this._options.html&&this._options.sanitize?this._options.sanitize(e):e)}show(){this._enabled&&!i.getDataset(this._popover,"uiAnimating")&&!i.isConnected(this._popover)&&i.triggerOne(this._node,"show.ui.popover")&&(i.setDataset(this._popover,{uiAnimating:"in"}),this.refresh(),this._show(),i.fadeIn(this._popover,{duration:this._options.duration}).then((t=>{i.removeDataset(this._popover,"uiAnimating"),i.triggerEvent(this._node,"shown.ui.popover")})).catch((t=>{"in"===i.getDataset(this._popover,"uiAnimating")&&i.removeDataset(this._popover,"uiAnimating")})))}toggle(){i.isConnected(this._popover)?this.hide():this.show()}update(){this._popper&&this._popper.update()}}k.defaults={reference:null,container:null,arrow:null,afterUpdate:null,beforeUpdate:null,placement:"bottom",position:"center",fixed:!1,spacing:0,minContact:null,useGpu:!0,noAttributes:!1},k.prototype._updateArrow=function(t,e){const s=i.rect(this._node,{offset:!0}),o=i.rect(this._options.reference,{offset:!0}),n={position:"absolute",top:"",right:"",bottom:"",left:""};i.setStyle(this._options.arrow,n);const a=i.rect(this._options.arrow,{offset:!0});if(["top","bottom"].includes(t)){n["top"===t?"bottom":"top"]=-Math.floor(a.height);const r=(o.width-s.width)/2;let h=s.width/2-a.width/2;"start"===e?h+=r:"end"===e&&(h-=r);let d=Math.max(o.left,s.left)-a.left,l=Math.min(o.right,s.right)-a.left-a.width;o.width<a.width&&(d-=a.width/2-o.width/2,l-=a.width/2-o.width/2),h=Math.round(h),d=Math.round(d),l=Math.round(l),n.left=i._clamp(h,d,l)}else{n["right"===t?"left":"right"]=-Math.floor(a.width);const r=(o.height-s.height)/2;let h=s.height/2-a.height;"start"===e?h+=r:"end"===e&&(h-=r);let d=Math.max(o.top,s.top)-a.top,l=Math.min(o.bottom,s.bottom)-a.top-a.height;o.height<2*a.height?(d-=a.height-o.height/2,l-=a.height-o.height/2):l-=a.height,h=Math.round(h),d=Math.round(d),l=Math.round(l),n.top=i._clamp(h,d,l)}i.setStyle(this._options.arrow,n)},c("popper",k),X.defaults={template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',customClass:null,duration:100,enable:!0,html:!1,appendTo:null,sanitize:t=>i.sanitize(t),trigger:"click",placement:"auto",position:"center",fixed:!1,spacing:3,minContact:!1,noAttributes:!1};const H=X.prototype;H._events=function(){this._triggers.includes("hover")&&(i.addEvent(this._node,"mouseover.ui.popover",(t=>{this._stop(),this.show()})),i.addEvent(this._node,"mouseout.ui.popover",(t=>{this._stop(),this.hide()}))),this._triggers.includes("focus")&&(i.addEvent(this._node,"focus.ui.popover",(t=>{this._stop(),this.show()})),i.addEvent(this._node,"blur.ui.popover",(t=>{this._stop(),this.hide()}))),this._triggers.includes("click")&&i.addEvent(this._node,"click.ui.popover",(t=>{t.preventDefault(),this._stop(),this.toggle()})),this._modal&&i.addEvent(this._modal,"hide.ui.modal",(t=>{this._stop(),this.hide()}))},H._render=function(){this._popover=i.parseHTML(this._options.template).shift(),this._options.customClass&&i.addClass(this._popover,this._options.customClass),this._arrow=i.findOne(".popover-arrow",this._popover),this._popoverHeader=i.findOne(".popover-header",this._popover),this._popoverBody=i.findOne(".popover-body",this._popover)},H._show=function(){if(this._options.appendTo?i.append(this._options.appendTo,this._popover):i.after(this._node,this._popover),!this._options.noAttributes){const t=r(this.constructor.DATA_KEY);i.setAttribute(this._popover,{id:t}),i.setAttribute(this._node,{"aria-described-by":t})}this._popper=new k(this._popover,{reference:this._node,arrow:this._arrow,placement:this._options.placement,position:this._options.position,fixed:this._options.fixed,spacing:this._options.spacing,minContact:this._options.minContact,noAttributes:this._options.noAttributes}),window.requestAnimationFrame((t=>{this.update()}))},H._stop=function(){if(!this._enabled)return;const t=i.getDataset(this._popover,"uiAnimating");t&&(i.stop(this._popover,{finish:!1}),i.removeDataset(this._popover,"uiAnimating"),"out"===t&&(this._popper.dispose(),this._popper=null,i.detach(this._popover)))},c("popover",X);class V extends m{constructor(t,e){super(t,e);const s=_(this._node);this._target=i.findOne(s),this._siblings=i.siblings(this._node)}dispose(){this._target=null,this._siblings=null,super.dispose()}hide(){!i.getDataset(this._target,"uiAnimating")&&i.hasClass(this._target,"active")&&i.triggerOne(this._node,"hide.ui.tab")&&this._hide()}show(){if(i.getDataset(this._target,"uiAnimating")||i.hasClass(this._target,"active")||!i.triggerOne(this._node,"show.ui.tab"))return;const t=this._siblings.find((t=>i.hasClass(t,"active")));if(t){const e=this.constructor.init(t);if(e.animating)return;if(!i.triggerOne(t,"hide.ui.tab"))return;i.addEventOnce(t,"hidden.ui.tab",(t=>{this._show()})),e._hide()}else this._show()}_hide(){i.setDataset(this._target,{uiAnimating:"out"}),i.fadeOut(this._target,{duration:this._options.duration}).then((t=>{i.removeClass(this._target,"active"),i.removeClass(this._node,"active"),i.removeDataset(this._target,"uiAnimating"),i.setAttribute(this._node,{"aria-selected":!1}),i.triggerEvent(this._node,"hidden.ui.tab")})).catch((t=>{"out"===i.getDataset(this._target,"uiAnimating")&&i.removeDataset(this._target,"uiAnimating")}))}_show(){i.setDataset(this._target,{uiAnimating:"in"}),i.addClass(this._target,"active"),i.addClass(this._node,"active"),i.fadeIn(this._target,{duration:this._options.duration}).then((t=>{i.setAttribute(this._node,{"aria-selected":!0}),i.removeDataset(this._target,"uiAnimating"),i.triggerEvent(this._node,"shown.ui.tab")})).catch((t=>{"in"===i.getDataset(this._target,"uiAnimating")&&i.removeDataset(this._target,"uiAnimating")}))}}V.defaults={duration:100},c("tab",V),i.addEventDelegate(s,"click.ui.tab keydown.ui.tab",'[data-ui-toggle="tab"]',(t=>{t.code&&"Space"!==t.code||(t.preventDefault(),V.init(t.currentTarget).show())})),i.addEventDelegate(s,"keydown.ui.tab",'[data-ui-toggle="tab"]',(t=>{let e;switch(t.code){case"ArrowDown":case"ArrowRight":e=i.next(t.currentTarget,'[data-ui-toggle="tab"]:not(.disabled)').shift();break;case"ArrowLeft":case"ArrowUp":e=i.prev(t.currentTarget,'[data-ui-toggle="tab"]:not(.disabled)').pop();break;case"Home":e=i.prevAll(t.currentTarget,'[data-ui-toggle="tab"]:not(.disabled)').shift();break;case"End":e=i.nextAll(t.currentTarget,'[data-ui-toggle="tab"]:not(.disabled)').pop();break;default:return}e&&(t.preventDefault(),i.focus(e))}));class U extends m{hide(){!i.getDataset(this._node,"uiAnimating")&&i.isVisible(this._node)&&i.triggerOne(this._node,"hide.ui.toast")&&(i.setDataset(this._node,{uiAnimating:"out"}),i.fadeOut(this._node,{duration:this._options.duration}).then((t=>{i.setStyle(this._node,{display:"none"},null,{important:!0}),i.removeClass(this._node,"show"),i.removeDataset(this._node,"uiAnimating"),i.triggerEvent(this._node,"hidden.ui.toast")})).catch((t=>{"out"===i.getDataset(this._node,"uiAnimating")&&i.removeDataset(this._node,"uiAnimating")})))}show(){i.getDataset(this._node,"uiAnimating")||i.isVisible(this._node)||!i.triggerOne(this._node,"show.ui.toast")||(i.setDataset(this._node,{uiAnimating:"in"}),i.setStyle(this._node,{display:""}),i.addClass(this._node,"show"),i.fadeIn(this._node,{duration:this._options.duration}).then((t=>{i.removeDataset(this._node,"uiAnimating"),i.triggerEvent(this._node,"shown.ui.toast"),this._options.autohide&&setTimeout((t=>this.hide()),this._options.delay)})).catch((t=>{"in"===i.getDataset(this._node,"uiAnimating")&&i.removeDataset(this._node,"uiAnimating")})))}}U.defaults={autohide:!0,delay:5e3,duration:100},c("toast",U),i.addEventDelegate(s,"click.ui.toast",'[data-ui-dismiss="toast"]',(t=>{t.preventDefault();const e=p(t.currentTarget,".toast");U.init(e,{autohide:!1}).hide()}));class q extends m{constructor(t,e){super(t,e),this._modal=i.closest(this._node,".modal").shift(),this._triggers=this._options.trigger.split(" "),this._render(),this._events(),this._options.enable&&this.enable(),this.refresh()}dispose(){if(i.hasDataset(this._node,"uiOriginalTitle")){const t=i.getDataset(this._node,"uiOriginalTitle");i.setAttribute(this._node,{title:t}),i.removeDataset(this._node,"uiOriginalTitle")}this._popper&&(this._popper.dispose(),this._popper=null),i.remove(this._tooltip),this._triggers.includes("hover")&&(i.removeEvent(this._node,"mouseover.ui.tooltip"),i.removeEvent(this._node,"mouseout.ui.tooltip")),this._triggers.includes("focus")&&(i.removeEvent(this._node,"focus.ui.tooltip"),i.removeEvent(this._node,"blur.ui.tooltip")),this._triggers.includes("click")&&i.removeEvent(this._node,"click.ui.tooltip"),this._modal&&i.removeEvent(this._modal,"hide.ui.modal"),this._modal=null,this._triggers=null,this._tooltip=null,this._tooltipInner=null,this._arrow=null,super.dispose()}disable(){this._enabled=!1}enable(){this._enabled=!0}hide(){this._enabled&&!i.getDataset(this._tooltip,"uiAnimating")&&i.isConnected(this._tooltip)&&i.triggerOne(this._node,"hide.ui.tooltip")&&(i.setDataset(this._tooltip,{uiAnimating:"out"}),i.fadeOut(this._tooltip,{duration:this._options.duration}).then((t=>{this._popper.dispose(),this._popper=null,i.removeClass(this._tooltip,"show"),i.detach(this._tooltip),i.removeDataset(this._tooltip,"uiAnimating"),i.removeAttribute(this._node,"aria-described-by"),i.triggerEvent(this._node,"hidden.ui.tooltip")})).catch((t=>{"out"===i.getDataset(this._tooltip,"uiAnimating")&&i.removeDataset(this._tooltip,"uiAnimating")})))}refresh(){if(i.hasAttribute(this._node,"title")){const t=i.getAttribute(this._node,"title");i.setDataset(this._node,{uiOriginalTitle:t}),i.removeAttribute(this._node,"title")}let t="";i.hasDataset(this._node,"uiTitle")?t=i.getDataset(this._node,"uiTitle"):this._options.title?t=this._options.title:i.hasDataset(this._node,"uiOriginalTitle")&&(t=i.getDataset(this._node,"uiOriginalTitle",t));const e=this._options.html?"setHTML":"setText";i[e](this._tooltipInner,this._options.html&&this._options.sanitize?this._options.sanitize(t):t),this.update()}show(){this._enabled&&!i.getDataset(this._tooltip,"uiAnimating")&&!i.isConnected(this._tooltip)&&i.triggerOne(this._node,"show.ui.tooltip")&&(i.setDataset(this._tooltip,{uiAnimating:"in"}),i.addClass(this._tooltip,"show"),this.refresh(),this._show(),i.fadeIn(this._tooltip,{duration:this._options.duration}).then((t=>{i.removeDataset(this._tooltip,"uiAnimating"),i.triggerEvent(this._node,"shown.ui.tooltip")})).catch((t=>{"in"===i.getDataset(this._tooltip,"uiAnimating")&&i.removeDataset(this._tooltip,"uiAnimating")})))}toggle(){i.isConnected(this._tooltip)?this.hide():this.show()}update(){this._popper&&this._popper.update()}}q.defaults={template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',customClass:null,duration:100,enable:!0,html:!1,trigger:"hover focus",appendTo:null,sanitize:t=>i.sanitize(t),placement:"auto",position:"center",fixed:!1,spacing:2,minContact:!1,noAttributes:!1};const B=q.prototype;B._events=function(){this._triggers.includes("hover")&&(i.addEvent(this._node,"mouseover.ui.tooltip",(t=>{this._stop(),this.show()})),i.addEvent(this._node,"mouseout.ui.tooltip",(t=>{this._stop(),this.hide()}))),this._triggers.includes("focus")&&(i.addEvent(this._node,"focus.ui.tooltip",(t=>{this._stop(),this.show()})),i.addEvent(this._node,"blur.ui.tooltip",(t=>{this._stop(),this.hide()}))),this._triggers.includes("click")&&i.addEvent(this._node,"click.ui.tooltip",(t=>{t.preventDefault(),this._stop(),this.toggle()})),this._modal&&i.addEvent(this._modal,"hide.ui.modal",(t=>{this._stop(),this.hide()}))},B._render=function(){this._tooltip=i.parseHTML(this._options.template).shift(),this._options.customClass&&i.addClass(this._tooltip,this._options.customClass),this._arrow=i.findOne(".tooltip-arrow",this._tooltip),this._tooltipInner=i.findOne(".tooltip-inner",this._tooltip)},B._show=function(){if(this._options.appendTo?i.append(this._options.appendTo,this._tooltip):i.after(this._node,this._tooltip),!this._options.noAttributes){const t=r(this.constructor.DATA_KEY);i.setAttribute(this._tooltip,{id:t}),i.setAttribute(this._node,{"aria-described-by":t})}this._popper=new k(this._tooltip,{reference:this._node,arrow:this._arrow,placement:this._options.placement,position:this._options.position,fixed:this._options.fixed,spacing:this._options.spacing,minContact:this._options.minContact,noAttributes:this._options.noAttributes}),window.requestAnimationFrame((t=>{this.update()}))},B._stop=function(){if(!this._enabled)return;const t=i.getDataset(this._tooltip,"uiAnimating");t&&(i.stop(this._tooltip,{finish:!1}),i.removeDataset(this._tooltip,"uiAnimating"),"out"===t&&(this._popper.dispose(),this._popper=null,i.removeClass(this._tooltip,"show"),i.detach(this._tooltip)))},c("tooltip",q),i.addEventDelegate(s,"click",'[data-ui-toggle="clipboard"]',(t=>{t.preventDefault();const e=t.currentTarget;let o,{action:n="copy",text:a=null}=h(e);if(!["copy","cut"].includes(n))throw new Error("Invalid clipboard action");if(!a){const t=p(e);i.is(t,"input, textarea")?(o=t,a=i.getValue(o)):a=i.getText(t)}const r=!o;r&&(o=i.create("textarea",{class:"visually-hidden position-fixed",value:a}),i.append(s.body,o)),i.select(o),i.exec(n)&&i.triggerEvent(e,"copied.ui.clipboard",{data:{action:n,text:a}}),r&&i.detach(o)})),i.addEventDelegate(s,"click.ui.ripple",".ripple",(t=>{if(0!==t.button)return;const e=t.currentTarget,s=i.position(e,{offset:!0}),o=i.width(e),n=i.height(e),a=Math.max(o,n),r=i.isFixed(e),h=r?t.clientX:t.pageX,d=r?t.clientY:t.pageY,l=i.findOne(":scope > .ripple-effect",e);l&&i.remove(l);const u=i.create("span",{class:"ripple-effect",style:{left:h-s.x,top:d-s.y}});i.append(e,u),i.animate(u,((t,e)=>{i.setStyle(t,{transform:"scale("+Math.floor(e*a)+")",opacity:1-Math.pow(e,2)})}),{duration:500}).finally((t=>{i.detach(u)}))})),i.addEventDelegate(s,"change.ui.expand input.ui.expand",".text-expand",(t=>{const e=t.currentTarget;i.setStyle(e,{height:"inherit"});let s=i.height(e,{boxSize:i.SCROLL_BOX});s+=parseInt(i.css(e,"borderTop")),s+=parseInt(i.css(e,"borderBottom")),i.setStyle(e,{height:`${s}px`})})),t.Alert=f,t.BaseComponent=m,t.Button=v,t.Carousel=w,t.Collapse=y,t.Dropdown=O,t.FocusTrap=P,t.Modal=z,t.Offcanvas=R,t.Popover=X,t.Popper=k,t.Tab=V,t.Toast=U,t.Tooltip=q,t.addScrollPadding=a,t.generateId=r,t.getClickTarget=S,t.getDataset=h,t.getPosition=d,t.getScrollContainer=u,t.getScrollbarSize=l,t.getTarget=p,t.getTargetSelector=_,t.getTouchPositions=function(t){return Array.from(t.touches).map((t=>({x:t.pageX,y:t.pageY})))},t.initComponent=c,t.resetScrollPadding=g}));
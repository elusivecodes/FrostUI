!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e:Object.assign(t,e(t))}(window,(function(t){"use strict";if(!t)throw new Error("FrostUI requires a Window.");if(!("DOM"in t))throw new Error("FrostUI requires FrostDOM.");const e=t.Core,i=t.DOM,s=t.dom,n=t.QuerySet,o=t.document,a={};class r{constructor(t,i){this._node=t,this._settings=e.extend({},this.constructor.defaults,a.getDataset(this._node),i),s.addEvent(this._node,this.constructor.REMOVE_EVENT,(t=>{this.dispose()})),s.setData(this._node,this.constructor.DATA_KEY,this)}dispose(){s.removeEvent(this._node,this.constructor.REMOVE_EVENT),s.removeData(this._node,this.constructor.DATA_KEY),this._node=null,this._settings=null}static init(t,...e){return s.hasData(t,this.DATA_KEY)?s.getData(t,this.DATA_KEY):new this(t,...e)}}a.BaseComponent=r,a.getDataset=t=>{const e=s.getDataset(t),i={};for(const t in e)if(/ui[A-Z]/.test(t)){i[t.slice(2,3).toLowerCase()+t.slice(3)]=e[t]}return i},a.getTarget=(t,e)=>{const i=a.getTargetSelector(t);let n;if(i&&"#"!==i?n=s.findOne(i):e&&(n=s.closest(t,e).shift()),!n)throw new Error("Target not found");return n},a.getTargetSelector=t=>s.getDataset(t,"uiTarget")||s.getAttribute(t,"href"),a.initComponent=(t,i)=>{i.DATA_KEY=t,i.REMOVE_EVENT=`remove.ui.${t}`,n.prototype[t]=function(t,...s){let n,o,a;e.isObject(t)?n=t:e.isString(t)&&(o=t);for(const[t,r]of[...this].entries()){if(!e.isElement(r))continue;let h=i.init(r,n);o&&(h=h[o](...s)),0===t&&(a=h)}return a}};class h extends r{constructor(t,e){super(t,e),s.setStyle(this._node,{margin:0,position:"absolute",top:0,right:"initial",bottom:"initial",left:0}),this._resetStyle={},this._settings.useGpu?this._resetStyle.transform="":(this._resetStyle.marginLeft=0,this._resetStyle.marginTop=0),d.add(this),this.update()}dispose(){d.remove(this),this._resetStyle=null,super.dispose()}update(){if(!s.isConnected(this._node)||!s.isVisible(this._node))return this;s.setStyle(this._node,this._resetStyle),this._settings.beforeUpdate&&this._settings.beforeUpdate(this._node,this._settings.reference);const e=s.rect(this._node,!0),i=s.rect(this._settings.reference,!0),n=this.constructor._scrollContainer(t,o),a=this.constructor._getScrollParent(this._node),r=a?this.constructor._scrollContainer(a,a):null,h=this._settings.container?s.rect(this._settings.container,!0):null,d={...n};r&&(d.top=Math.max(d.top,r.top),d.right=Math.min(d.right,r.right),d.bottom=Math.min(d.bottom,r.bottom),d.left=Math.max(d.left,r.left)),h&&(d.top=Math.max(d.top,h.top),d.right=Math.min(d.right,h.right),d.bottom=Math.min(d.bottom,h.bottom),d.left=Math.max(d.left,h.left)),(r||h)&&(d.x=d.left,d.y=d.top,d.width=d.right-d.left,d.height=d.bottom-d.top);const l=this._settings.fixed&&"auto"!==this._settings.placement?this._settings.placement:this.constructor._getPopperPlacement(e,i,d,this._settings.placement,this._settings.spacing+2);this._settings.noAttributes||s.setDataset(this._settings.reference,"uiPlacement",l),s.setDataset(this._node,"uiPlacement",l);const _=this._settings.position,u={x:Math.round(i.x),y:Math.round(i.y)},g=this.constructor._getRelativeParent(this._node),c=g?s.rect(g,!0):null;c&&(u.x-=Math.round(c.x),u.y-=Math.round(c.y)),this.constructor._adjustPlacement(u,e,i,l,this._settings.spacing),this.constructor._adjustPosition(u,e,i,l,_),u.x-=parseInt(s.css(this._node,"margin-left")),u.y-=parseInt(s.css(this._node,"margin-top")),this.constructor._adjustConstrain(u,e,i,d,c,l,this._settings.minContact),u.x=Math.round(u.x),u.y=Math.round(u.y),a&&(u.x+=s.getScrollX(a),u.y+=s.getScrollY(a));const p={};if(this._settings.useGpu?p.transform=`translate3d(${u.x}px , ${u.y}px , 0)`:(p.marginLeft=`${u.x}px`,p.marginTop=`${u.y}px`),s.setStyle(this._node,p),this._settings.arrow){const t=s.rect(this._node,!0);this._updateArrow(t,i,l,_)}return this._settings.afterUpdate&&this._settings.afterUpdate(this._node,this._settings.reference,l,_),this}}class d{static add(n){this._poppers.push(n),this._running||(s.addEvent(t,"resize.ui.popper",i.debounce((t=>{for(const t of this._poppers)t.update()}))),s.addEvent(o,"scroll.ui.popper",i.debounce((t=>{for(const i of this._poppers)(e.isDocument(t.target)||s.hasDescendent(t.target,i._node))&&i.update()})),!0),this._running=!0)}static remove(e){this._poppers=this._poppers.filter((t=>t!==e)),this._poppers.length||(s.removeEvent(t,"resize.ui.popper scroll.ui.popper"),this._running=!1)}}Object.assign(h.prototype,{_updateArrow(t,i,n,o){const a={position:"absolute",top:"",right:"",bottom:"",left:""};s.setStyle(this._settings.arrow,a);const r=s.rect(this._settings.arrow,!0);if(["top","bottom"].includes(n)){a["top"===n?"bottom":"top"]=-Math.floor(r.height);const s=(i.width-t.width)/2;let h=t.width/2-r.width/2;"start"===o?h+=s:"end"===o&&(h-=s);let d=Math.max(i.left,t.left)-r.left,l=Math.min(i.right,t.right)-r.left-r.width;i.width<r.width&&(d-=r.width/2-i.width/2,l-=r.width/2-i.width/2),h=Math.round(h),d=Math.round(d),l=Math.round(l),a.left=e.clamp(h,d,l)}else{a["right"===n?"left":"right"]=-Math.floor(r.width);const s=(i.height-t.height)/2;let h=t.height/2-r.height;"start"===o?h+=s:"end"===o&&(h-=s);let d=Math.max(i.top,t.top)-r.top,l=Math.min(i.bottom,t.bottom)-r.top-r.height;i.height<2*r.height?(d-=r.height-i.height/2,l-=r.height-i.height/2):l-=r.height,h=Math.round(h),d=Math.round(d),l=Math.round(l),a.top=e.clamp(h,d,l)}s.setStyle(this._settings.arrow,a)}}),Object.assign(h,{_adjustConstrain(t,e,i,s,n,o,a){if(["left","right"].includes(o)){let o=t.y,r=i.top;n&&(o+=n.top,r-=n.top);const h=!1!==a?a:Math.min(i.height,e.height);if(o+e.height>s.bottom){const i=o+e.height-s.bottom;t.y=Math.max(r-e.height+h,t.y-i)}if(o<s.top){const e=o-s.top;t.y=Math.min(r+i.height-h,t.y-e)}}else{let o=t.x,r=i.left;n&&(o+=n.left,r-=n.left);const h=!1!==a?a:Math.min(i.width,e.width);if(o+e.width>s.right){const i=o+e.width-s.right;t.x=Math.max(r-e.width+h,t.x-i)}if(o<s.left){const e=o-s.left;t.x=Math.min(r+i.width-h,t.x-e)}}},_adjustPlacement(t,e,i,s,n){"top"===s?t.y-=Math.round(e.height)+n:"right"===s?t.x+=Math.round(i.width)+n:"bottom"===s?t.y+=Math.round(i.height)+n:"left"===s&&(t.x-=Math.round(e.width)+n)},_adjustPosition(t,e,i,s,n){if("start"!==n)if(["top","bottom"].includes(s)){const s=Math.round(e.width)-Math.round(i.width);"center"===n?t.x-=Math.round(s/2):"end"===n&&(t.x-=s)}else{const s=Math.round(e.height)-Math.round(i.height);"center"===n?t.y-=Math.round(s/2):"end"===n&&(t.y-=s)}},_getPopperPlacement(t,e,i,s,n){const o=e.top-i.top,a=i.right-e.right,r=i.bottom-e.bottom,h=e.left-i.left;if("top"===s){if(o<t.height+n&&r>o)return"bottom"}else if("right"===s){if(a<t.width+n&&h>a)return"left"}else if("bottom"===s){if(r<t.height+n&&o>r)return"top"}else if("left"===s){if(h<t.width+n&&a>h)return"right"}else if("auto"===s){const i=Math.max(o,r),s=Math.max(a,h),d=Math.min(o,r);if(s>i&&s>=t.width+n&&d+e.height>=t.height+n-Math.max(0,t.height-e.height))return h>a?"left":"right";const l=Math.min(a,h);if(i>=t.height+n&&l+e.width>=t.width+n-Math.max(0,t.width-e.width))return r>o?"bottom":"top";const _=Math.max(i,s);return r===_&&r>=t.height+n?"bottom":o===_&&o>=t.height+n?"top":a===_&&a>=t.width+n?"right":h===_&&h>=t.width+n?"left":"bottom"}return s},_getRelativeParent:t=>s.closest(t,(t=>"relative"===s.css(t,"position")),o.body).shift(),_getScrollParent:t=>s.closest(t,(t=>"relative"===s.css(t,"position")&&["overflow","overflowX","overflowY"].some((e=>["auto","scroll"].includes(s.css(t,e))))),o.body).shift(),_scrollContainer(t,i){const n=e.isWindow(t),o=n?this._windowContainer(t):s.rect(t,!0),r=a.getScrollbarSize(t,i,"x"),h=a.getScrollbarSize(t,i,"y");return r&&(o.height-=r,n&&(o.bottom-=r)),h&&(o.width-=h,n&&(o.right-=h)),o},_windowContainer(t){const e=s.getScrollX(t),i=s.getScrollY(t),n=s.width(t),o=s.height(t);return{x:e,y:i,width:n,height:o,top:i,right:e+n,bottom:i+o,left:e}}}),h.defaults={reference:null,container:null,arrow:null,afterUpdate:null,beforeUpdate:null,placement:"bottom",position:"center",fixed:!1,spacing:0,minContact:null,useGpu:!0,noAttributes:!1},d._poppers=[],a.initComponent("popper",h),a.Popper=h,a.PopperSet=d;class l extends r{close(){return this._animating||!s.triggerOne(this._node,"close.ui.alert")||(this._animating=!0,s.fadeOut(this._node,{duration:this._settings.duration}).then((t=>{s.detach(this._node),s.triggerEvent(this._node,"closed.ui.alert"),s.remove(this._node)})).catch((t=>{})).finally((t=>{this._animating=!1}))),this}}s.addEventDelegate(o,"click.ui.alert",'[data-ui-dismiss="alert"]',(t=>{t.preventDefault();const e=a.getTarget(t.currentTarget,".alert");l.init(e).close()})),l.defaults={duration:100},a.initComponent("alert",l),a.Alert=l;class _ extends r{toggle(){s.toggleClass(this._node,"active");const t=s.hasClass(this._node,"active");return s.setAttribute(this._node,"aria-pressed",t),this}}s.addEventDelegate(o,"click.ui.button",'[data-ui-toggle="button"]',(t=>{t.preventDefault();_.init(t.currentTarget).toggle()})),_.defaults={},a.initComponent("button",_),a.Button=_;class u extends r{constructor(t,e){super(t,e),this._items=s.find(".carousel-item",this._node),this._index=this._items.findIndex((t=>s.hasClass(t,"active"))),this._events(),"carousel"===this._settings.ride&&this._setTimer()}cycle(){return s.isHidden(o)?(this._paused=!1,this._setTimer(),this):this.slide(1)}dispose(){this._timer&&clearTimeout(this._timer),this._settings.keyboard&&s.removeEvent(this._node,"keydown.ui.carousel"),this._settings.pause&&(s.removeEvent(this._node,"mouseenter.ui.carousel"),s.removeEvent(this._node,"mouseleave.ui.carousel")),this._settings.swipe&&s.removeEvent(this._node,"mousedown.ui.carousel"),this._items=null,super.dispose()}next(){return this.slide()}pause(){return clearTimeout(this._timer),this._timer=null,this._paused=!0,this}prev(){return this.slide(-1)}show(t){return this._show(t),this}slide(t=1){return this.show(this._index+t)}}s.addEvent(t,"load",(t=>{const e=s.find('[data-ui-ride="carousel"]');for(const t of e)u.init(t)})),s.addEventDelegate(o,"click.ui.carousel","[data-ui-slide]",(t=>{t.preventDefault();const e=a.getTarget(t.currentTarget,".carousel"),i=u.init(e);"prev"===s.getDataset(t.currentTarget,"uiSlide")?i.prev():i.next()})),s.addEventDelegate(o,"click.ui.carousel","[data-ui-slide-to]",(t=>{t.preventDefault();const e=a.getTarget(t.currentTarget,".carousel"),i=u.init(e),n=s.getDataset(t.currentTarget,"uiSlideTo");i.show(n)})),Object.assign(u.prototype,{_events(){if(this._settings.keyboard&&s.addEvent(this._node,"keydown.ui.carousel",(t=>{const e=t.target;if(!s.is(e,"input, select"))switch(t.code){case"ArrowLeft":t.preventDefault(),this.prev();break;case"ArrowRight":t.preventDefault(),this.next()}})),this._settings.pause&&(s.addEvent(this._node,"mouseenter.ui.carousel",(t=>{this._mousePaused=!0,this.pause()})),s.addEvent(this._node,"mouseleave.ui.carousel",(t=>{this._mousePaused=!1,this._paused=!1,this._sliding||this._setTimer()}))),this._settings.swipe){let t,i,n,o=null;s.addEvent(this._node,"mousedown.ui.carousel touchstart.ui.carousel",s.mouseDragFactory((e=>{if(e.button||this._sliding||s.is(e.target,"[data-ui-slide-to], [data-ui-slide], a, button")||s.closest(e.target,"[data-ui-slide], a, button",this._node).length)return!1;this.pause(),this._sliding=!0;const i=a.getPosition(e);t=i.x}),(r=>{const h=a.getPosition(r).x,d=s.width(this._node)/2;let l=h-t;this._settings.wrap||(l=e.clamp(l,-(this._items.length-1-this._index)*d,this._index*d)),i=e.map(Math.abs(l),0,d,0,1);do{const e=o;if(l<0)o=this._index+1;else{if(!(l>0))return void(o=this._index);o=this._index-1}const s=this._getDirOffset(o);if(o=this._getIndex(o),n=this._getDirection(s,o),i>=1){t=h;const s=this._setIndex(o);this._update(this._items[this._index],this._items[s],i,n),this._updateIndicators(),e!==this._index&&this._resetStyles(e),i--}else this._update(this._items[o],this._items[this._index],i,n,!0),e!==o&&this._resetStyles(e)}while(i>1)}),(t=>{if(null===o||o===this._index)return this._paused=!1,this._sliding=!1,void this._setTimer();let e,a;i>.25?(e=this._setIndex(o),a=1-i):(e=o,a=i,n="right"===n?"left":"right"),this._resetStyles(this._index),o=null,s.animate(this._items[this._index],((t,s)=>{this._items&&(i>.25?this._update(t,this._items[e],i+s*a,n):this._update(t,this._items[e],1-i+s*a,n))}),{duration:this._settings.transition*a}).then((t=>{this._updateIndicators(),this._paused=!1,this._setTimer()})).finally((t=>{this._sliding=!1}))})),{passive:!0})}},_getDirOffset(t){return t<0?-1:t>this._items.length-1?1:0},_getDirection(t,e){return-1==t||0==t&&e<this._index?"left":"right"},_getIndex(t){return(t%=this._items.length)<0?this._items.length+t:t},_resetStyles(t){s.setStyle(this._items[t],"display",""),s.setStyle(this._items[t],"transform","")},_setIndex(t){const e=this._index;return this._index=t,s.addClass(this._items[this._index],"active"),s.removeClass(this._items[e],"active"),e},_setTimer(){if(this._timer||this._paused||this._mousePaused)return;const t=s.getDataset(this._items[this._index],"uiInterval");this._timer=setTimeout((t=>this.cycle()),t||this._settings.interval)},_show(t){if(this._sliding)return;if(t=parseInt(t),!this._settings.wrap&&(t<0||t>this._items.length-1))return;const e=this._getDirOffset(t);if((t=this._getIndex(t))===this._index)return;const i=this._getDirection(e,t),n={direction:i,relatedTarget:this._items[t],from:this._index,to:t};if(!s.triggerOne(this._node,"slide.ui.carousel",n))return;this._sliding=!0,this.pause();const o=this._setIndex(t);s.animate(this._items[this._index],((t,e)=>{this._items&&this._update(t,this._items[o],e,i)}),{duration:this._settings.transition}).then((t=>{this._updateIndicators(),s.triggerEvent(this._node,"slid.ui.carousel",n),this._paused=!1,this._setTimer()})).finally((t=>{this._sliding=!1}))},_update(t,e,i,s,n=!1){const o=n?t:e;if(i>=1)return o.style.setProperty("display",""),e.style.setProperty("transform",""),void t.style.setProperty("transform","");o.style.setProperty("display","block");const a="right"===s;e.style.setProperty("transform",`translateX(${Math.round(100*i)*(a?-1:1)}%)`),t.style.setProperty("transform",`translateX(${Math.round(100*(1-i))*(a?1:-1)}%)`)},_updateIndicators(){const t=s.find(".active[data-ui-slide-to]",this._node),e=s.find('[data-ui-slide-to="'+this._index+'"]',this._node);s.removeClass(t,"active"),s.addClass(e,"active")}}),u.defaults={interval:5e3,transition:500,keyboard:!0,ride:!1,pause:!0,wrap:!0,swipe:!0},a.initComponent("carousel",u),a.Carousel=u;class g extends r{constructor(t,e){super(t,e);const i=this._node.getAttribute("id");this._triggers=s.find(`[data-ui-toggle="collapse"][data-ui-target="#${i}"]`),this._settings.parent&&(this._parent=s.findOne(this._settings.parent))}dispose(){this._triggers=null,this._parent=null,super.dispose()}hide(){return!this._animating&&s.hasClass(this._node,"show")&&s.triggerOne(this._node,"hide.ui.collapse")?(this._animating=!0,s.addClass(this._triggers,"collapsed"),s.addClass(this._triggers,"collapsing"),s.squeezeOut(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then((t=>{s.removeClass(this._node,"show"),s.removeClass(this._triggers,"collapsing"),s.setAttribute(this._triggers,"aria-expanded",!1),s.triggerEvent(this._node,"hidden.ui.collapse")})).catch((t=>{})).finally((t=>{this._animating=!1})),this):this}show(){if(this._animating||s.hasClass(this._node,"show"))return this;const t=[];if(this._parent){const e=s.find(".collapse.show",this._parent);for(const i of e){const e=this.constructor.init(i);if(this._parent===e._parent){if(e._animating)return;t.push(e)}}}if(!s.triggerOne(this._node,"show.ui.collapse"))return this;for(const e of t)e.hide();return this._animating=!0,s.addClass(this._node,"show"),s.removeClass(this._triggers,"collapsed"),s.addClass(this._triggers,"collapsing"),s.squeezeIn(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then((t=>{s.removeClass(this._triggers,"collapsing"),s.setAttribute(this._triggers,"aria-expanded",!0),s.triggerEvent(this._node,"shown.ui.collapse")})).catch((t=>{})).finally((t=>{this._animating=!1})),this}toggle(){return s.hasClass(this._node,"show")?this.hide():this.show()}}s.addEventDelegate(o,"click.ui.collapse",'[data-ui-toggle="collapse"]',(t=>{t.preventDefault();const e=a.getTargetSelector(t.currentTarget),i=s.find(e);for(const t of i){g.init(t).toggle()}})),g.defaults={direction:"bottom",duration:250},a.initComponent("collapse",g),a.Collapse=g;class c extends r{constructor(t,e){super(t,e),this._menuNode=s.next(this._node,".dropdown-menu").shift(),this._settings.reference?"parent"===this._settings.reference?this._referenceNode=s.parent(this._node).shift():this._referenceNode=s.findOne(this._settings.reference):this._referenceNode=this._node,"static"!==this._settings.display&&s.closest(this._node,".navbar-nav").length&&(this._settings.display="static")}dispose(){this._popper&&(this._popper.dispose(),this._popper=null),this._menuNode=null,this._referenceNode=null,super.dispose()}hide(){return!this._animating&&s.hasClass(this._menuNode,"show")&&s.triggerOne(this._node,"hide.ui.dropdown")?(this._animating=!0,s.fadeOut(this._menuNode,{duration:this._settings.duration}).then((t=>{this._popper&&(this._popper.dispose(),this._popper=null),s.removeClass(this._menuNode,"show"),s.setAttribute(this._node,"aria-expanded",!1),s.triggerEvent(this._node,"hidden.ui.dropdown")})).catch((t=>{})).finally((t=>{this._animating=!1})),this):this}show(){return this._animating||s.hasClass(this._menuNode,"show")||!s.triggerOne(this._node,"show.ui.dropdown")||(this._animating=!0,s.addClass(this._menuNode,"show"),"dynamic"===this._settings.display&&(this._popper=new h(this._menuNode,{reference:this._referenceNode,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})),t.requestAnimationFrame((t=>{this.update()})),s.fadeIn(this._menuNode,{duration:this._settings.duration}).then((t=>{s.setAttribute(this._node,"aria-expanded",!0),s.triggerEvent(this._node,"shown.ui.dropdown")})).catch((t=>{})).finally((t=>{this._animating=!1}))),this}toggle(){return s.hasClass(this._menuNode,"show")?this.hide():this.show()}update(){return this._popper&&this._popper.update(),this}}s.addEventDelegate(o,"click.ui.dropdown keyup.ui.dropdown",'[data-ui-toggle="dropdown"]',(t=>{if(t.code&&"Space"!==t.code)return;t.preventDefault();c.init(t.currentTarget).toggle()})),s.addEventDelegate(o,"keydown.ui.dropdown",'[data-ui-toggle="dropdown"]',(t=>{switch(t.code){case"ArrowDown":case"ArrowUp":t.preventDefault();const e=t.currentTarget,i=c.init(e);s.hasClass(i._menuNode,"show")||i.show();const n=s.findOne('.dropdown-item:not([tabindex="-1"])',i._menuNode);s.focus(n)}})),s.addEventDelegate(o,"keydown.ui.dropdown",".dropdown-menu.show .dropdown-item",(t=>{let e;switch(t.code){case"ArrowDown":e=s.nextAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').shift();break;case"ArrowUp":e=s.prevAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').pop();break;default:return}t.preventDefault(),s.focus(e)})),s.addEvent(o,"click.ui.dropdown",(t=>{const e=a.getClickTarget(t),i=s.find(".dropdown-menu.show");for(const t of i){const i=s.siblings(t,'[data-ui-toggle="dropdown"]').shift(),n=c.init(i),o=s.hasDescendent(n._menuNode,e),a=n._settings.autoClose;s.isSame(n._node,e)||o&&(s.is(e,"form")||s.closest(e,"form",n._menuNode).length||"outside"===a||!1===a)||!(o||s.isSame(n._menuNode,e)||"inside"!==a&&!1!==a)||n.hide()}}),!0),s.addEvent(o,"keyup.ui.dropdown",(t=>{if(!["Tab","Escape"].includes(t.code))return;let e=!1;const i=s.find(".dropdown-menu.show");for(const n of i){const i=s.siblings(n,'[data-ui-toggle="dropdown"]').shift(),o=c.init(i);"Tab"===t.code&&s.isSame(o._node,t.target)||s.hasDescendent(o._menuNode,t.target)&&("Tab"===t.code||s.is(t.target,"form")||s.closest(t.target,"form",o._menuNode).length)||(e||(e=!0,t.stopPropagation()),o.hide())}}),!0),c.defaults={display:"dynamic",duration:100,placement:"bottom",position:"start",fixed:!1,spacing:3,minContact:!1},a.initComponent("dropdown",c),a.Dropdown=c;class p extends r{constructor(t,e){super(t,e),this._dialog=s.child(this._node,".modal-dialog").shift(),this._settings.show&&this.show()}dispose(){this._dialog=null,this._activeTarget=null,this._backdrop=null,super.dispose()}hide(){if(this._animating||!s.hasClass(this._node,"show")||!s.triggerOne(this._node,"hide.ui.modal"))return this;s.stop(this._dialog),this._animating=!0;const t=s.find(".modal.show").length-1;return Promise.all([s.fadeOut(this._dialog,{duration:this._settings.duration}),s.dropOut(this._dialog,{duration:this._settings.duration,direction:"top"}),s.fadeOut(this._backdrop,{duration:this._settings.duration})]).then((e=>{s.removeAttribute(this._node,"aria-modal"),s.setAttribute(this._node,"aria-hidden",!0),a.resetScrollPadding(this._dialog),t?s.setStyle(this._node,"zIndex",""):(this._scrollPadding&&(a.resetScrollPadding(),this._scrollPadding=!1),s.removeClass(o.body,"modal-open")),s.removeClass(this._node,"show"),this._settings.backdrop&&(s.remove(this._backdrop),this._backdrop=null),this._activeTarget&&s.focus(this._activeTarget),s.triggerEvent(this._node,"hidden.ui.modal")})).catch((t=>{})).finally((t=>{this._animating=!1})),this}show(t){if(this._animating||s.hasClass(this._node,"show")||!s.triggerOne(this._node,"show.ui.modal"))return this;this._activeTarget=t,this._animating=!0;const e=s.find(".modal.show").length;if(s.removeClass(o.body,"modal-open"),a.addScrollPadding(this._dialog),e){let t=s.css(this._node,"zIndex");t=parseInt(t),t+=20*e,s.setStyle(this._node,"zIndex",t)}else s.findOne(".offcanvas.show")||(this._scrollPadding=!0,a.addScrollPadding());if(s.addClass(o.body,"modal-open"),s.addClass(this._node,"show"),this._settings.backdrop&&(this._backdrop=s.create("div",{class:"modal-backdrop"}),s.append(o.body,this._backdrop),e)){let t=s.css(this._backdrop,"zIndex");t=parseInt(t),t+=20*e,s.setStyle(this._backdrop,"zIndex",t)}return Promise.all([s.fadeIn(this._dialog,{duration:this._settings.duration}),s.dropIn(this._dialog,{duration:this._settings.duration,direction:"top"}),s.fadeIn(this._backdrop,{duration:this._settings.duration})]).then((t=>{s.removeAttribute(this._node,"aria-hidden"),s.setAttribute(this._node,"aria-modal",!0),this._settings.focus&&s.focus(this._node),s.triggerEvent(this._node,"shown.ui.modal")})).catch((t=>{})).finally((t=>{this._animating=!1})),this}toggle(){return s.hasClass(this._node,"show")?this.hide():this.show()}_transform(){this._animating||(s.stop(this._dialog),s.animate(this._dialog,((t,e)=>{if(e>=1)return void s.setStyle(t,"transform","");const i=(e<.5?e:1-e)/20;s.setStyle(t,"transform",`scale(${1+i})`)}),{duration:200}).catch((t=>{})))}static _topModal(){const t=s.find(".modal.show");if(!t.length)return null;let e;for(const i of t)(!e||s.getStyle(i,"zIndex")>s.getStyle(e,"zIndex"))&&(e=i);return this.init(e)}}s.addEventDelegate(o,"click.ui.modal",'[data-ui-toggle="modal"]',(t=>{t.preventDefault();const e=a.getTarget(t.currentTarget,".modal");p.init(e).show(t.currentTarget)})),s.addEventDelegate(o,"click.ui.modal",'[data-ui-dismiss="modal"]',(t=>{t.preventDefault();const e=a.getTarget(t.currentTarget,".modal");p.init(e).hide()})),s.addEvent(t,"click.ui.modal",(t=>{const e=a.getClickTarget(t);if(s.is(e,"[data-ui-dismiss]"))return;const i=p._topModal();!i||!i._settings.backdrop||i._node!==e&&s.hasDescendent(i._node,e)||("static"!==i._settings.backdrop?i.hide():i._transform())})),s.addEvent(t,"keyup.ui.modal",(t=>{if("Escape"!==t.code)return;const e=p._topModal();e&&e._settings.keyboard&&("static"!==e._settings.backdrop?e.hide():e._transform())})),p.defaults={duration:250,backdrop:!0,focus:!0,show:!1,keyboard:!0},a.initComponent("modal",p),a.Modal=p;class m extends r{dispose(){this._activeTarget=null,super.dispose()}hide(){return!this._animating&&s.hasClass(this._node,"show")&&s.triggerOne(this._node,"hide.ui.offcanvas")?(this._animating=!0,Promise.all([s.fadeOut(this._node,{duration:this._settings.duration}),s.dropOut(this._node,{duration:this._settings.duration,direction:this._getDirection()}),s.fadeOut(this._backdrop,{duration:this._settings.duration})]).then((t=>{s.removeAttribute(this._node,"aria-modal"),s.setAttribute(this._node,"aria-hidden",!0),s.removeClass(this._node,"show"),this._settings.backdrop&&s.removeClass(o.body,"offcanvas-backdrop"),this._settings.scroll||(a.resetScrollPadding(),s.setStyle(o.body,"overflow","")),this._activeTarget&&s.focus(this._activeTarget),s.triggerEvent(this._node,"hidden.ui.offcanvas")})).catch((t=>{})).finally((t=>{this._animating=!1})),this):this}show(t){return this._animating||s.hasClass(this._node,"show")||s.findOne(".offcanvas.show")||!s.triggerOne(this._node,"show.ui.offcanvas")||(this._activeTarget=t,this._animating=!0,s.addClass(this._node,"show"),this._settings.backdrop&&s.addClass(o.body,"offcanvas-backdrop"),this._settings.scroll||(a.addScrollPadding(),s.setStyle(o.body,"overflow","hidden")),Promise.all([s.fadeIn(this._node,{duration:this._settings.duration}),s.dropIn(this._node,{duration:this._settings.duration,direction:this._getDirection()}),s.fadeIn(this._backdrop,{duration:this._settings.duration})]).then((t=>{s.removeAttribute(this._node,"aria-hidden"),s.setAttribute(this._node,"aria-modal",!0),s.triggerEvent(this._node,"shown.ui.offcanvas")})).catch((t=>{})).finally((t=>{this._animating=!1}))),this}toggle(){return s.hasClass(this._node,"show")?this.hide():this.show()}}s.addEventDelegate(o,"click.ui.offcanvas",'[data-ui-toggle="offcanvas"]',(t=>{t.preventDefault();const e=a.getTarget(t.currentTarget,".offcanvas");m.init(e).show(t.currentTarget)})),s.addEventDelegate(o,"click.ui.offcanvas",'[data-ui-dismiss="offcanvas"]',(t=>{t.preventDefault();const e=a.getTarget(t.currentTarget,".offcanvas");m.init(e).hide()})),s.addEvent(o,"click.ui.offcanvas",(t=>{const e=a.getClickTarget(t);if(s.is(e,"[data-ui-dismiss]")||s.findOne(".modal.show"))return;const i=s.find(".offcanvas.show");if(i.length)for(const t of i){const i=m.init(t);!i._settings.backdrop||s.isSame(i._node,e)||s.hasDescendent(i._node,e)||i.hide()}})),s.addEvent(o,"keyup.ui.offcanvas",(t=>{if("Escape"!==t.code||s.findOne(".modal.show"))return;const e=s.find(".offcanvas.show");if(e.length)for(const t of e){const e=m.init(t);if(!e._settings.keyboard)return;e.hide()}})),Object.assign(m.prototype,{_getDirection(){return s.hasClass(this._node,"offcanvas-end")?"right":s.hasClass(this._node,"offcanvas-bottom")?"bottom":s.hasClass(this._node,"offcanvas-start")?"left":"top"}}),m.defaults={duration:250,backdrop:!0,keyboard:!0,scroll:!1},a.initComponent("offcanvas",m),a.Offcanvas=m;class f extends r{constructor(t,e){super(t,e),this._modal=s.closest(this._node,".modal").shift(),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),this.refresh()}dispose(){if(s.hasDataset(this._node,"uiOriginalTitle")){const t=s.getDataset(this._node,"uiOriginalTitle");s.setAttribute(this._node,"title",t),s.removeDataset(this._node,"uiOriginalTitle")}this._popper&&(this._popper.dispose(),this._popper=null),s.remove(this._popover),this._triggers.includes("hover")&&(s.removeEvent(this._node,"mouseover.ui.popover"),s.removeEvent(this._node,"mouseout.ui.popover")),this._triggers.includes("focus")&&(s.removeEvent(this._node,"focus.ui.popover"),s.removeEvent(this._node,"blur.ui.popover")),this._triggers.includes("click")&&s.removeEvent(this._node,"click.ui.popover"),this._modal&&s.removeEvent(this._modal,"hide.ui.modal",this._hideModalEvent),this._modal=null,this._triggers=null,this._popover=null,this._popoverHeader=null,this._popoverBody=null,this._arrow=null,super.dispose()}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}hide(){return this._enabled&&!this._animating&&s.isConnected(this._popover)&&s.triggerOne(this._node,"hide.ui.popover")?(this._animating=!0,s.fadeOut(this._popover,{duration:this._settings.duration}).then((t=>{this._popper.dispose(),this._popper=null,s.detach(this._popover),s.triggerEvent(this._node,"hidden.ui.popover")})).catch((t=>{})).finally((t=>{this._animating=!1})),this):this}refresh(){if(s.hasAttribute(this._node,"title")){const t=s.getAttribute(this._node,"title");s.setDataset(this._node,"uiOriginalTitle",t),s.removeAttribute(this._node,"title")}let t="";s.hasDataset(this._node,"uiTitle")?t=s.getDataset(this._node,"uiTitle"):this._settings.title?t=this._settings.title:s.hasDataset(this._node,"uiOriginalTitle")&&(t=s.getDataset(this._node,"uiOriginalTitle",t));let e="";s.hasDataset(this._node,"uiContent")?e=s.getDataset(this._node,"uiContent"):this._settings.content&&(e=this._settings.content);const i=this._settings.html?"setHTML":"setText";return s[i](this._popoverHeader,this._settings.html&&this._settings.sanitize?this._settings.sanitize(t):t),t?s.show(this._popoverHeader):s.hide(this._popoverHeader),s[i](this._popoverBody,this._settings.html&&this._settings.sanitize?this._settings.sanitize(e):e),this.update()}show(){return this._enabled?(this._animating||s.isConnected(this._popover)||!s.triggerOne(this._node,"show.ui.popover")||(this._animating=!0,this.refresh(),this._show(),s.fadeIn(this._popover,{duration:this._settings.duration}).then((t=>{s.triggerEvent(this._node,"shown.ui.popover")})).catch((t=>{})).finally((t=>{this._animating=!1}))),this):this}toggle(){return s.isConnected(this._popover)?this.hide():this.show()}update(){return this._popper&&this._popper.update(),this}}Object.assign(f.prototype,{_events(){this._triggers.includes("hover")&&(s.addEvent(this._node,"mouseover.ui.popover",(t=>{this._stop(),this.show()})),s.addEvent(this._node,"mouseout.ui.popover",(t=>{this._stop(),this.hide()}))),this._triggers.includes("focus")&&(s.addEvent(this._node,"focus.ui.popover",(t=>{this._stop(),this.show()})),s.addEvent(this._node,"blur.ui.popover",(t=>{this._stop(),this.hide()}))),this._triggers.includes("click")&&s.addEvent(this._node,"click.ui.popover",(t=>{t.preventDefault(),this._stop(),this.toggle()})),this._modal&&s.addEvent(this._modal,"hide.ui.modal",(t=>{this._stop(),this.hide()}))}}),Object.assign(f.prototype,{_render(){this._popover=s.parseHTML(this._settings.template).shift(),this._settings.customClass&&s.addClass(this._popover,this._settings.customClass),this._arrow=s.find(".popover-arrow",this._popover),this._popoverHeader=s.find(".popover-header",this._popover),this._popoverBody=s.find(".popover-body",this._popover)},_show(){if(this._settings.appendTo?s.append(this._settings.appendTo,this._popover):s.after(this._node,this._popover),!this._settings.noAttributes){const t=a.generateId(this.constructor.DATA_KEY);s.setAttribute(this._popover,"id",t),s.setAttribute(this._node,"aria-described-by",t)}this._popper=new h(this._popover,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact,noAttributes:this._settings.noAttributes}),t.requestAnimationFrame((t=>{this.update()}))},_stop(){this._enabled&&this._animating&&(s.stop(this._popover),this._animating=!1)}}),f.defaults={template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',customClass:null,duration:100,enable:!0,html:!1,appendTo:null,sanitize:t=>s.sanitize(t),trigger:"click",placement:"auto",position:"center",fixed:!1,spacing:3,minContact:!1,noAttributes:!1},a.initComponent("popover",f),a.Popover=f;class v extends r{constructor(t,e){super(t,e);const i=a.getTargetSelector(this._node);this._target=s.findOne(i),this._siblings=s.siblings(this._node)}dispose(){this._target=null,this._siblings=null,super.dispose()}hide(){return!this._animating&&s.hasClass(this._target,"active")&&s.triggerOne(this._node,"hide.ui.tab")?(this._animating=!0,s.fadeOut(this._target,{duration:this._settings.duration}).then((t=>{s.removeClass(this._target,"active"),s.removeClass(this._node,"active"),s.setAttribute(this._node,"aria-selected",!1),s.triggerEvent(this._node,"hidden.ui.tab")})).catch((t=>{})).finally((t=>{this._animating=!1})),this):this}show(){if(this._animating||s.hasClass(this._target,"active")||!s.triggerOne(this._node,"show.ui.tab"))return this;const t=this._siblings.find((t=>s.hasClass(t,"active")));let e;if(t&&(e=this.constructor.init(t),e._animating))return this;if(!s.triggerOne(this._node,"show.ui.tab"))return this;const i=t=>{this._animating=!0,s.addClass(this._target,"active"),s.addClass(this._node,"active"),s.fadeIn(this._target,{duration:this._settings.duration}).then((t=>{s.setAttribute(this._node,"aria-selected",!0),s.triggerEvent(this._node,"shown.ui.tab")})).catch((t=>{})).finally((t=>{this._animating=!1}))};return e?s.triggerOne(t,"hide.ui.tab")?(s.addEventOnce(t,"hidden.ui.tab",(t=>{i()})),e.hide(),this):this:(i(),this)}}s.addEventDelegate(o,"click.ui.tab",'[data-ui-toggle="tab"]',(t=>{t.preventDefault();v.init(t.currentTarget).show()})),v.defaults={duration:100},a.initComponent("tab",v),a.Tab=v;class w extends r{hide(){return!this._animating&&s.isVisible(this._node)&&s.triggerOne(this._node,"hide.ui.toast")?(this._animating=!0,s.fadeOut(this._node,{duration:this._settings.duration}).then((t=>{s.setStyle(this._node,"display","none",!0),s.removeClass(this._node,"show"),s.triggerEvent(this._node,"hidden.ui.toast")})).catch((t=>{})).finally((t=>{this._animating=!1})),this):this}show(){return this._animating||s.isVisible(this._node)||!s.triggerOne(this._node,"show.ui.toast")||(this._animating=!0,s.setStyle(this._node,"display",""),s.addClass(this._node,"show"),s.fadeIn(this._node,{duration:this._settings.duration}).then((t=>{s.triggerEvent(this._node,"shown.ui.toast"),this._settings.autohide&&setTimeout((t=>this.hide()),this._settings.delay)})).catch((t=>{})).finally((t=>{this._animating=!1}))),this}}s.addEventDelegate(o,"click.ui.toast",'[data-ui-dismiss="toast"]',(t=>{t.preventDefault();const e=a.getTarget(t.currentTarget,".toast");w.init(e,{autohide:!1}).hide()})),w.defaults={autohide:!0,delay:5e3,duration:100},a.initComponent("toast",w),a.Toast=w;class b extends r{constructor(t,e){super(t,e),this._modal=s.closest(this._node,".modal").shift(),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),this.refresh()}dispose(){if(s.hasDataset(this._node,"uiOriginalTitle")){const t=s.getDataset(this._node,"uiOriginalTitle");s.setAttribute(this._node,"title",t),s.removeDataset(this._node,"uiOriginalTitle")}this._popper&&(this._popper.dispose(),this._popper=null),s.remove(this._tooltip),this._triggers.includes("hover")&&(s.removeEvent(this._node,"mouseover.ui.tooltip"),s.removeEvent(this._node,"mouseout.ui.tooltip")),this._triggers.includes("focus")&&(s.removeEvent(this._node,"focus.ui.tooltip"),s.removeEvent(this._node,"blur.ui.tooltip")),this._triggers.includes("click")&&s.removeEvent(this._node,"click.ui.tooltip"),this._modal&&s.removeEvent(this._modal,"hide.ui.modal"),this._modal=null,this._triggers=null,this._tooltip=null,this._tooltipInner=null,this._arrow=null,super.dispose()}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}hide(){return this._enabled&&!this._animating&&s.isConnected(this._tooltip)&&s.triggerOne(this._node,"hide.ui.tooltip")?(this._animating=!0,s.fadeOut(this._tooltip,{duration:this._settings.duration}).then((t=>{this._popper.dispose(),this._popper=null,s.removeClass(this._tooltip,"show"),s.detach(this._tooltip),s.triggerEvent(this._node,"hidden.ui.tooltip")})).catch((t=>{})).finally((t=>{this._animating=!1})),this):this}refresh(){if(s.hasAttribute(this._node,"title")){const t=s.getAttribute(this._node,"title");s.setDataset(this._node,"uiOriginalTitle",t),s.removeAttribute(this._node,"title")}let t="";s.hasDataset(this._node,"uiTitle")?t=s.getDataset(this._node,"uiTitle"):this._settings.title?t=this._settings.title:s.hasDataset(this._node,"uiOriginalTitle")&&(t=s.getDataset(this._node,"uiOriginalTitle",t));const e=this._settings.html?"setHTML":"setText";return s[e](this._tooltipInner,this._settings.html&&this._settings.sanitize?this._settings.sanitize(t):t),this.update()}show(){return this._enabled?(this._animating||s.isConnected(this._tooltip)||!s.triggerOne(this._node,"show.ui.tooltip")||(this._animating=!0,s.addClass(this._tooltip,"show"),this.refresh(),this._show(),s.fadeIn(this._tooltip,{duration:this._settings.duration}).then((t=>{s.triggerEvent(this._node,"shown.ui.tooltip")})).catch((t=>{})).finally((t=>{this._animating=!1}))),this):this}toggle(){return s.isConnected(this._tooltip)?this.hide():this.show()}update(){return this._popper&&this._popper.update(),this}}return Object.assign(b.prototype,{_events(){this._triggers.includes("hover")&&(s.addEvent(this._node,"mouseover.ui.tooltip",(t=>{this._stop(),this.show()})),s.addEvent(this._node,"mouseout.ui.tooltip",(t=>{this._stop(),this.hide()}))),this._triggers.includes("focus")&&(s.addEvent(this._node,"focus.ui.tooltip",(t=>{this._stop(),this.show()})),s.addEvent(this._node,"blur.ui.tooltip",(t=>{this._stop(),this.hide()}))),this._triggers.includes("click")&&s.addEvent(this._node,"click.ui.tooltip",(t=>{t.preventDefault(),this._stop(),this.toggle()})),this._modal&&s.addEvent(this._modal,"hide.ui.modal",(t=>{this._stop(),this.hide()}))}}),Object.assign(b.prototype,{_render(){this._tooltip=s.parseHTML(this._settings.template).shift(),this._settings.customClass&&s.addClass(this._tooltip,this._settings.customClass),this._arrow=s.find(".tooltip-arrow",this._tooltip),this._tooltipInner=s.find(".tooltip-inner",this._tooltip)},_show(){if(this._settings.appendTo?s.append(this._settings.appendTo,this._tooltip):s.after(this._node,this._tooltip),!this._settings.noAttributes){const t=a.generateId(this.constructor.DATA_KEY);s.setAttribute(this._tooltip,"id",t),s.setAttribute(this._node,"aria-described-by",t)}this._popper=new h(this._tooltip,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact,noAttributes:this._settings.noAttributes}),t.requestAnimationFrame((t=>{this.update()}))},_stop(){this._enabled&&this._animating&&(s.stop(this._tooltip),this._animating=!1)}}),b.defaults={template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',customClass:null,duration:100,enable:!0,html:!1,trigger:"hover focus",appendTo:null,sanitize:t=>s.sanitize(t),placement:"auto",position:"center",fixed:!1,spacing:2,minContact:!1,noAttributes:!1},a.initComponent("tooltip",b),a.Tooltip=b,s.addEvent(t,"mousedown.ui",(t=>{a._clickTarget=t.target}),!0),s.addEvent(t,"mouseup.ui",(t=>{setTimeout((t=>{a._clickTarget=null}),0)}),!0),a.addScrollPadding=(e=o.body)=>{const i=a.getScrollbarSize(t,o,"y"),n=a.getScrollbarSize(t,o,"x");if(i){const t=s.getStyle(e,"paddingRight"),n=s.css(e,"paddingRight");s.setDataset(e,"uiPaddingRight",t),s.setStyle(e,"paddingRight",`${i+parseInt(n)}px`)}if(n){const t=s.getStyle(e,"paddingBottom"),i=s.css(e,"paddingBottom");s.setDataset(e,"uiPaddingBottom",t),s.setStyle(e,"paddingBottom",`${n+parseInt(i)}px`)}},a.generateId=t=>{const i=`${t}${e.randomInt(1e4,99999)}`;return s.findOne(`#${i}`)?a.generateId(t):i},a.getClickTarget=t=>a._clickTarget||t.target,a.getPosition=t=>"touches"in t&&t.touches.length?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:t.pageX,y:t.pageY},a.getScrollbarSize=(e=t,n=o,r)=>{const h="x"===r?"width":"height",d=s[h](e);return s[h](n,i.SCROLL_BOX)>d?a._calculateScrollbarSize():0},a.getTouchPositions=t=>[...t.touches].map((t=>({x:t.pageX,y:t.pageY}))),a.resetScrollPadding=(t=o.body)=>{const e=s.getDataset(t,"uiPaddingRight"),i=s.getDataset(t,"uiPaddingBottom");s.setStyle(t,{paddingRight:e,paddingBottom:i}),s.removeDataset(t,"uiPaddingRight"),s.removeDataset(t,"uiPaddingBottom")},a._calculateScrollbarSize=t=>{if(a._scrollbarSize)return a._scrollbarSize;const e=s.create("div",{style:{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}});return s.append(o.body,e),a._scrollbarSize=s.getProperty(e,"offsetWidth")-s.width(e),s.detach(e),a._scrollbarSize},s.addEventDelegate(o,"click",'[data-ui-toggle="clipboard"]',(t=>{t.preventDefault();const i=t.currentTarget,n=e.extend({action:"copy",text:!1},a.getDataset(i));if(!["copy","cut"].includes(n.action))throw new Error("Invalid clipboard action");let r,h;if(n.text)r=n.text;else{const t=a.getTarget(i);s.is(t,"input, textarea")?h=t:r=s.getText(t)}const d=!h;d&&(h=s.create("textarea",{class:"visually-hidden position-fixed",value:r}),s.append(o.body,h)),s.select(h),s.exec(n.action)&&s.triggerEvent(i,"copied.ui.clipboard",{detail:{action:n.action,text:s.getValue(h)}}),d&&s.remove(h)})),s.addEventDelegate(o,"mousedown.ui.ripple",".ripple",(t=>{const e=t.currentTarget,i=s.position(e,!0),n=s.width(e),a=s.height(e),r=3*Math.max(n,a),h=s.isFixed(e),d=h?t.clientX:t.pageX,l=h?t.clientY:t.pageY,_=s.findOne(":scope > .ripple-effect",e);_&&s.remove(_);const u=s.create("span",{class:"ripple-effect",style:{left:d-i.x,top:l-i.y}});s.append(e,u);const g=s.animate(u,((t,e)=>{s.setStyle(t,{transform:"scale("+Math.floor(e*r)+")"})}),{duration:500});s.addEventOnce(o,"mouseup.ui.ripple",(t=>{g.finally((t=>{s.animate(u,((t,e)=>{s.setStyle(t,{opacity:1-Math.pow(e,2)})}),{duration:250}).finally((t=>{s.remove(u)}))}))}))})),s.addEventDelegate(o,"change.ui.expand input.ui.expand",".text-expand",(t=>{const e=t.currentTarget;s.setStyle(e,"height","inherit");const n=s.css(e,"borderTop"),o=s.css(e,"borderBottom"),a=s.height(e,i.SCROLL_BOX)+parseInt(n)+parseInt(o);s.setStyle(e,"height",a)})),{UI:a}}));
!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e:Object.assign(t,e(t))}(window,function(t){"use strict";if(!t)throw new Error("FrostUI requires a Window.");if(!("DOM"in t))throw new Error("FrostUI requires FrostDOM.");const e=t.Core,s=t.DOM,i=t.dom,o=t.QuerySet,n=t.document,r={};class a{constructor(t,s){this._node=t,this._settings=e.extend({},a.defaults,i.getDataset(this._node),s),this._dismiss=i.find('[data-dismiss="alert"]',this._node),this._events(),i.setData(this._node,"alert",this)}destroy(){this._dismiss.length&&i.removeEvent(this._dismiss,"click.frost.alert",this._dismissEvent),i.removeData(this._node,"alert")}close(){return new Promise((t,e)=>i.getDataset(this._node,"animating")?e():s._triggerEvent(this._node,"close.frost.alert")?(i.setDataset(this._node,"animating",!0),void i.fadeOut(this._node,{duration:this._settings.duration}).then(e=>{i.triggerEvent(this._node,"closed.frost.alert"),i.remove(this._node),t()}).catch(t=>{i.removeDataset(this._node,"animating"),e(t)})):e())}}a.defaults={duration:100},i.addEventOnce(t,"load",t=>{const e=i.find('[data-toggle="alert"]');for(const t of e)new a(t)}),o&&(o.prototype.alert=function(t,...s){let o,n,r;return e.isObject(t)?o=t:e.isString(t)&&(n=t),this.each((t,h)=>{if(!e.isElement(t))return;const d=i.hasData(t,"alert")?i.getData(t,"alert"):new a(t,o);h||(r=n?d[n](...s):d)}),r}),r.Alert=a,Object.assign(a.prototype,{_events(){this._dismissEvent=(t=>{t.preventDefault(),this.close().catch(t=>{})}),this._dismiss.length&&i.addEvent(this._dismiss,"click.frost.alert",this._dismissEvent)}});class h{constructor(t,s){this._node=t,this._settings=e.extend({},h.defaults,i.getDataset(this._node),s),this._input=i.findOne('input[type="checkbox"], input[type="radio"]',this._node),this._isRadio=this._input&&i.is(this._input,'[type="radio"]'),this._isRadio&&(this._siblings=i.siblings(this._node)),this._events(),i.setData(this._node,"button",this)}destroy(){i.removeEvent(this._node,"frost.click.button",this._clickEvent),i.removeData(this._node,"button")}toggle(){this._isRadio?this._toggleRadio():this._toggleCheckbox()}}h.defaults={},i.addEventOnce(t,"load",t=>{const e=i.find('[data-toggle="buttons"] > *, [data-toggle="button"]');for(const t of e)new h(t)}),o&&(o.prototype.button=function(t,...s){let o,n,r;return e.isObject(t)?o=t:e.isString(t)&&(n=t),this.each((t,a)=>{if(!e.isElement(t))return;const d=i.hasData(t,"button")?i.getData(t,"button"):new h(t,o);a||(r=n?d[n](...s):d)}),r}),r.Button=h,Object.assign(h.prototype,{_events(){this._clickEvent=(t=>{t.preventDefault(),this.toggle()}),i.addEvent(this._node,"click.frost.button",this._clickEvent)},_toggleCheckbox(){i.toggleClass(this._node,"active"),this._input&&(i.setProperty(this._input,"checked",!i.getProperty(this._input,"checked")),i.triggerEvent(this._input,"change"))},_toggleRadio(){i.addClass(this._node,"active"),this._siblings&&i.removeClass(this._siblings,"active"),i.setProperty(this._input,"checked",!0),i.triggerEvent(this._input,"change")}});class d{constructor(t,s){this._node=t,this._settings=e.extend({},d.defaults,i.getDataset(this._node),s),this._items=i.find(".carousel-item",this._node),this._index=this._items.findIndex(t=>i.hasClass(t,"active")),this._queue=[],this._events(),i.setData(this._node,"carousel",this),"carousel"===this._settings.ride&&this._setTimer()}cycle(){i.isHidden(n)?this._setTimer():this.slide(1)}destroy(){this._timer&&clearTimeout(this._timer),i.removeEvent(this._node,"click.frost.carousel",this._clickNextEvent),i.removeEvent(this._node,"click.frost.carousel",this._clickPrevEvent),i.removeEvent(this._node,"click.frost.carousel",this._clickSlideEvent),this._settings.keyboard&&i.removeEvent(this._node,"keydown.frost.carousel",this._keyDownEvent),this._settings.pause&&(i.removeEvent(this._node,"mouseenter.frost.carousel",this._mouseEnterEvent),i.removeEvent(this._node,"mouseleave.frost.carousel",this._mouseLeaveEvent)),i.removeData(this._node,"carousel")}next(){return this.slide()}pause(){this._timer&&clearTimeout(this._timer)}prev(){return this.slide(-1)}show(t){return this._show(t)}slide(t=1){const e=this._queue.length?this._queue[this._queue.length-1]:this._index;return this.show(e+t)}}d.defaults={interval:5e3,transition:500,keyboard:!0,ride:!1,pause:!0,wrap:!0},i.addEventOnce(t,"load",t=>{const e=i.find('[data-toggle="carousel"], [data-ride="carousel"]');for(const t of e)new d(t)}),o&&(o.prototype.carousel=function(t,...s){let o,n,r;return e.isObject(t)?o=t:e.isString(t)&&(n=t),this.each((t,a)=>{if(!e.isElement(t))return;const h=i.hasData(t,"carousel")?i.getData(t,"carousel"):new d(t,o);a||(r=n?h[n](...s):h)}),r}),r.Carousel=d,Object.assign(d.prototype,{_events(){this._clickNextEvent=(t=>{t.preventDefault(),this.next().catch(t=>{})}),this._clickPrevEvent=(t=>{t.preventDefault(),this.prev().catch(t=>{})}),this._clickSlideEvent=(t=>{t.preventDefault();const e=i.getDataset(t.currentTarget,"slideTo");this.show(e).catch(t=>{})}),this._keyDownEvent=(t=>{"ArrowLeft"!==t.key&&"ArrowRight"!==t.key||(t.preventDefault(),"ArrowLeft"===t.key?this.prev().catch(t=>{}):"ArrowRight"===t.key&&this.next().catch(t=>{}))}),this._mouseEnterEvent=(t=>this.pause()),this._mouseLeaveEvent=(t=>this._setTimer()),i.addEventDelegate(this._node,"click.frost.carousel",".carousel-next",this._clickNextEvent),i.addEventDelegate(this._node,"click.frost.carousel",".carousel-prev",this._clickPrevEvent),i.addEventDelegate(this._node,"click.frost.carousel","[data-slide-to]",this._clickSlideEvent),this._settings.keyboard&&i.addEvent(this._node,"keydown.frost.carousel",this._keyDownEvent),this._settings.pause&&(i.addEvent(this._node,"mouseenter.frost.carousel",this._mouseEnterEvent),i.addEvent(this._node,"mouseleave.frost.carousel",this._mouseLeaveEvent))},_setTimer(){const t=i.getDataset(this._items[this._index],"interval");this._timer=setTimeout(t=>this.cycle(),t||this._settings.interval)},_show(t){return new Promise((e,o)=>{if(i.getDataset(this._node,"sliding"))return void this._queue.push(t);if(t=parseInt(t),!this._settings.wrap&&(t<0||t>this._items.length-1))return o();let n=0;if(t<0?n=-1:t>this._items.length-1&&(n=1),(t%=this._items.length)<0&&(t=this._items.length+t),t===this._index)return o();const r=-1==n||0==n&&t<this._index?"left":"right",a={direction:r,relatedTarget:this._items[t],from:this._index,to:t};if(!s._triggerEvent(this._node,"slide.frost.carousel",a))return o();const h=this._index;this._index=t,i.setDataset(this._node,"sliding",!0),this.pause(),i.addClass(this._items[this._index],"active"),i.removeClass(this._items[h],"active"),i.animate(this._items[this._index],(t,e,s)=>this._update(t,this._items[h],e,s.direction),{direction:r,duration:this._settings.transition}).then(t=>{if(i.removeClass(i.find(".active[data-slide-to]",this._node),"active"),i.addClass(i.find('[data-slide-to="'+this._index+'"]',this._node),"active"),i.removeDataset(this._node,"sliding"),i.triggerEvent(this._node,"slid.frost.carousel",a),e(),!this._queue.length)return void this._setTimer();const s=this._queue.shift();return this._show(s)}).catch(o)})},_update(t,e,s,i){if(s>=1)return DOMNode.setStyle(e,"display",""),DOMNode.setStyle(e,"transform",""),void DOMNode.setStyle(t,"transform","");const o="right"===i;DOMNode.setStyle(e,"display","block"),DOMNode.setStyle(e,"transform",`translateX(${Math.round(100*s)*(o?-1:1)}%)`),DOMNode.setStyle(t,"transform",`translateX(${Math.round(100*(1-s))*(o?1:-1)}%)`)}});class l{constructor(t,s){this._node=t,this._settings=e.extend({},l.defaults,i.getDataset(this._node),s),this._targets=i.find(this._settings.target),this._events(),i.setData(this._node,"collapse",this);for(const t of this._targets)l._toggles.has(t)||l._toggles.set(t,[]),l._toggles.get(t).push(this._node)}destroy(){for(const t of this._targets){const e=l._toggles.get(t).filter(t=>!i.isSame(t,this._node));e.length?l._toggles.set(t,e):l._toggles.delete(t)}i.removeEvent(this._node,"click.frost.collapse",this._clickEvent),i.removeData(this._node,"collapse")}hide(){return new Promise((t,e)=>{const o=this._targets.filter(t=>i.hasClass(t,"show")&&!i.getDataset(t,"animating"));return o.length&&s._triggerEvent(this._node,"hide.frost.collapse")?(i.setDataset(o,"animating",!0),void i.squeezeOut(o,{direction:this._settings.direction,duration:this._settings.duration}).then(e=>{i.removeClass(o,"show"),this._setExpanded(o,!1),i.triggerEvent(this._node,"hidden.frost.collapse"),t()}).catch(e).finally(t=>i.removeDataset(o,"animating"))):e()})}show(){return new Promise((t,e)=>{const o=this._targets.filter(t=>i.hasClass(t,"show")&&!i.getDataset(t,"animating"));if(!o.length)return e();const n=this._getAccordion(hidden);if(!n)return e();for(const t of n.nodes)if(!s._triggerEvent(t,"hide.frost.collapse"))return e();if(!s._triggerEvent(this._node,"show.frost.collapse"))return e();const r=[...o];r.push(...n.targets),i.setDataset(r,"animating",!0);const a=r.map(t=>{const e=n.targets.includes(t)?"squeezeOut":"squeezeIn";return i[e](t,{direction:this._settings.direction,duration:this._settings.duration,type:"linear"})});i.addClass(o,"show"),Promise.all(a).then(e=>{n.targets.length&&(i.removeClass(n.targets,"show"),this._setExpanded(n.targets,!1)),n.nodes.length&&i.triggerEvent(n.nodes,"hidden.frost.collapse"),this._setExpanded(o),i.triggerEvent(this._node,"shown.frost.collapse"),t()}).catch(e).finally(t=>i.removeDataset(r,"animating"))})}toggle(){return new Promise((t,e)=>{const o=[],n=[],r=[];for(const t of this._targets)i.getDataset(t,"animating")||(o.push(t),i.hasClass(t,"show")?r.push(t):n.push(t));if(!o.length)return e();if(r.length&&!s._triggerEvent(this._node,"hide.frost.collapse"))return e();const a=this._getAccordion(n);if(!a)return e();for(const t of a.nodes)if(!s._triggerEvent(t,"hide.frost.collapse"))return e();if(n.length&&!s._triggerEvent(this._node,"show.frost.collapse"))return e();const h=[...o];h.push(...a.targets),i.setDataset(h,"animating",!0);const d=h.map(t=>{const e=r.includes(t)||a.targets.includes(t)?"squeezeOut":"squeezeIn";return i[e](t,{direction:this._settings.direction,duration:this._settings.duration,type:"linear"})});i.addClass(n,"show"),Promise.all(d).then(e=>{a.targets.length&&(i.removeClass(a.targets,"show"),this._setExpanded(a.targets,!1)),a.nodes.length&&i.triggerEvent(a.nodes,"hidden.frost.collapse"),r.length&&(i.removeClass(r,"show"),this._setExpanded(r,!1),i.triggerEvent(this._node,"hidden.frost.collapse")),n.length&&(this._setExpanded(n),i.triggerEvent(this._node,"shown.frost.collapse")),t()}).catch(e).finally(t=>i.removeDataset(h,"animating"))})}}l.defaults={direction:"bottom",duration:250},l._toggles=new WeakMap,i.addEventOnce(t,"load",t=>{const e=i.find('[data-toggle="collapse"]');for(const t of e)new l(t)}),o&&(o.prototype.collapse=function(t,...s){let o,n,r;return e.isObject(t)?o=t:e.isString(t)&&(n=t),this.each((t,a)=>{if(!e.isElement(t))return;const h=i.hasData(t,"collapse")?i.getData(t,"collapse"):new l(t,o);a||(r=n?h[n](...s):h)}),r}),r.Collapse=l,Object.assign(l.prototype,{_events(){this._clickEvent=(t=>{t.preventDefault(),this.toggle().catch(t=>{})}),i.addEvent(this._node,"click.frost.collapse",this._clickEvent)},_getAccordion(t){const e=[],s=[];for(const o of t){const n=i.getDataset(o,"parent");if(!n)continue;const r=i.closest(o,n),a=i.find('[data-toggle="collapse"]',r).filter(t=>!i.isSame(t,this._node)&&i.hasData(t,"collapse"));for(const o of a){if(e.includes(o))continue;const n=i.getData(o,"collapse"),r=i.find(n._settings.target).filter(e=>!t.includes(e)&&!s.includes(e)&&i.hasClass(e,"show"));if(r.length){if(r.find(t=>i.getDataset(t,"animating")))return!1;e.push(o),s.push(...r)}}}return{nodes:e,targets:s}},_setExpanded(t,e=!0){for(const s of t){const t=l._toggles.get(s);for(const s of t)i.setAttribute(s,"aria-expanded",e)}}});class _{constructor(t,s){this._node=t,this._settings=e.extend({},_.defaults,i.getDataset(this._node),s),this._containerNode=i.parent(this._node),this._menuNode=i.siblings(this._node).find(t=>i.hasClass(t,"dropdown-menu")),this._settings.reference?"parent"===this._settings.reference?this._referenceNode=this._containerNode:this._referenceNode=i.findOne(this._settings.reference):this._referenceNode=this._node,i.closest(this._node,".navbar-nav").length||(this._popper=new p(this._menuNode,{reference:this._referenceNode,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})),this._events(),i.setData(this._node,"dropdown",this)}destroy(){i.stop(this._menuNode,!0),this._popper&&this._popper.destroy(),i.removeClass(this._containerNode,"open"),i.removeEvent(n,"click.frost.dropdown",this._documentClickEvent),i.removeEvent(this._node,"click.frost.dropdown",this._clickEvent),i.removeEvent(this._node,"keyup.frost.dropdown",this._keyUpEvent),i.removeEvent(this._node,"keydown.frost.dropdown",this._keyDownEvent),i.removeEventDelegate(this._menuNode,"keydown.frost.dropdown",".dropdown-item",this._menuKeyDownEvent),i.removeData(this._node,"dropdown")}hide(){return new Promise((t,e)=>!i.hasClass(this._containerNode,"open")||i.getDataset(this._menuNode,"animating")?e():s._triggerEvent(this._node,"hide.frost.dropdown")?(i.setDataset(this._menuNode,"animating",!0),i.removeEvent(n,"click.frost.dropdown",this._documentClickEvent),void i.fadeOut(this._menuNode,{duration:this._settings.duration}).then(e=>{i.removeClass(this._containerNode,"open"),i.setAttribute(this._node,"aria-expanded",!1),i.triggerEvent(this._node,"hidden.frost.dropdown"),t()}).catch(e).finally(t=>i.removeDataset(this._menuNode,"animating"))):e())}show(){return new Promise((t,e)=>i.hasClass(this._containerNode,"open")||i.getDataset(this._menuNode,"animating")?e():s._triggerEvent(this._node,"show.frost.dropdown")?(i.setDataset(this._menuNode,"animating",!0),i.addClass(this._containerNode,"open"),void i.fadeIn(this._menuNode,{duration:this._settings.duration}).then(e=>{i.setAttribute(this._node,"aria-expanded",!0),i.addEvent(n,"click.frost.dropdown",this._documentClickEvent),i.triggerEvent(this._node,"shown.frost.dropdown"),t()}).catch(e).finally(t=>i.removeDataset(this._menuNode,"animating"))):e())}toggle(){return i.hasClass(this._containerNode,"open")?this.hide():this.show()}}_.defaults={duration:100,placement:"bottom",position:"start",fixed:!1,spacing:2,minContact:!1},i.addEventOnce(t,"load",t=>{const e=i.find('[data-toggle="dropdown"]');for(const t of e)new _(t)}),o&&(o.prototype.dropdown=function(t,...s){let o,n,r;return e.isObject(t)?o=t:e.isString(t)&&(n=t),this.each((t,a)=>{if(!e.isElement(t))return;const h=i.hasData(t,"dropdown")?i.getData(t,"dropdown"):new _(t,o);a||(r=n?h[n](...s):h)}),r}),r.Dropdown=_,Object.assign(_.prototype,{_events(){this._clickEvent=(t=>{t.preventDefault(),this.toggle().catch(t=>{})}),this._keyUpEvent=(t=>{" "===t.key&&(t.preventDefault(),this.toggle().catch(t=>{}))}),this._keyDownEvent=(t=>{["ArrowDown","ArrowUp"].includes(t.key)&&(t.preventDefault(),this.show().then(t=>{const e=i.findOne(".dropdown-item",this._menuNode);i.focus(e)}).catch(t=>{}))}),this._menuKeyDownEvent=(t=>{if(["ArrowDown","ArrowUp"].includes(t.key))if(t.preventDefault(),"ArrowDown"===t.key){const e=i.nextAll(t.currentTarget,".dropdown-item").shift();i.focus(e)}else if("ArrowUp"===t.key){const e=i.prevAll(t.currentTarget,".dropdown-item").shift();i.focus(e)}}),this._documentClickEvent=(t=>{(!i.isSame(t.target,this._menuNode)&&!i.hasDescendent(this._menuNode,t.target)||!1!==i.getDataset(t.target,"dropdownClose")&&!i.closest(t.target,t=>!1===i.getDataset(t,"dropdownClose"),this._menuNode).length)&&this.hide().catch(t=>{})}),i.addEvent(this._node,"click.frost.dropdown",this._clickEvent),i.addEvent(this._node,"keyup.frost.dropdown",this._keyUpEvent),i.addEvent(this._node,"keydown.frost.dropdown",this._keyDownEvent),i.addEventDelegate(this._menuNode,"keydown.frost.dropdown",".dropdown-item",this._menuKeyDownEvent)}});class c{constructor(t,s){this._node=t,this._settings=e.extend({},c.defaults,i.getDataset(t),s),this._dialog=i.child(this._node,".modal-dialog").shift(),this._dismiss=i.find('[data-dismiss="modal"]',this._node),this._events(),this._settings.show&&this.show(),i.setData(this._node,"modal",this)}destroy(){if(c._toggles.has(this._node)){const t=c._toggles.get(this._node);i.removeEvent(t,"click.frost.modal",this._clickEvent),c._toggles.delete(this._node)}this._dismiss.length&&i.removeEvent(this._dismiss,"click.frost.modal",this._dismissEvent),this._settings.backdrop&&i.removeEvent(n,"click.frost.modal",this._documentClickEvent),this._settings.keyboard&&i.removeEvent(t,"keydown.frost.modal",this._windowKeyDownEvent),i.removeData(this._node,"modal")}hide(){return new Promise((e,o)=>!i.hasClass(this._node,"show")||i.getDataset(this._dialog,"animating")?o():s._triggerEvent(this._node,"hide.frost.modal")?(i.setDataset([this._dialog,this._backdrop],"animating",!0),this._settings.backdrop&&i.removeEvent(n,"click.frost.modal",this._documentClickEvent),this._settings.keyboard&&i.removeEvent(t,"keydown.frost.modal",this._windowKeyDownEvent),void Promise.all([i.fadeOut(this._dialog,{duration:this._settings.duration}),i.dropOut(this._dialog,{duration:this._settings.duration}),i.fadeOut(this._backdrop,{duration:this._settings.duration})]).then(t=>{this._settings.backdrop&&(i.remove(this._backdrop),this._backdrop=null),i.removeAttribute(this._node,"aria-modal"),i.setAttribute(this._node,"aria-hidden",!0),i.removeClass(this._node,"show"),i.removeClass(n.body,"modal-open"),i.triggerEvent(this._node,"hidden.frost.modal"),e()}).catch(o).finally(t=>i.removeDataset([this._dialog,this._backdrop],"animating"))):o())}show(){return new Promise((e,o)=>i.hasClass(this._node,"show")||i.getDataset(this._dialog,"animating")?o():s._triggerEvent(this._node,"show.frost.modal")?(this._settings.backdrop&&(this._backdrop=i.create("div",{class:"modal-backdrop"}),i.append(n.body,this._backdrop)),i.setDataset([this._dialog,this._backdrop],"animating",!0),i.addClass(this._node,"show"),i.addClass(n.body,"modal-open"),void Promise.all([i.fadeIn(this._dialog,{duration:this._settings.duration}),i.dropIn(this._dialog,{duration:this._settings.duration}),i.fadeIn(this._backdrop,{duration:this._settings.duration})]).then(s=>{i.removeAttribute(this._node,"aria-hidden"),i.setAttribute(this._node,"aria-modal",!0),this._settings.backdrop&&i.addEvent(n,"click.frost.modal",this._documentClickEvent),this._settings.keyboard&&i.addEvent(t,"keydown.frost.modal",this._windowKeyDownEvent),this._settings.focus&&i.focus(this._node),i.triggerEvent(this._node,"shown.frost.modal"),e()}).catch(o).finally(t=>i.removeDataset([this._dialog,this._backdrop],"animating"))):o())}toggle(){return i.hasClass(this._node,"show")?this.hide():this.show()}static fromToggle(t,e=!1){const s=i.getDataset(t,"target"),o=i.findOne(s),n=i.hasData(o,"modal")?i.getData(o,"modal"):new this(o,{show:e});this._toggles.has(o)||this._toggles.set(o,[]),this._toggles.get(o).push(t),i.addEvent(t,"click.frost.modal",n._clickEvent)}}c.defaults={duration:250,backdrop:!0,focus:!0,show:!0,keyboard:!0},c._toggles=new WeakMap,i.addEventOnce(t,"load",t=>{const e=i.find('[data-toggle="modal"]');for(const t of e)c.fromToggle(t)}),o&&(o.prototype.modal=function(t,...s){let o,n,r;return e.isObject(t)?o=t:e.isString(t)&&(n=t),this.each((t,a)=>{if(!e.isElement(t))return;const h=i.hasData(t,"modal")?i.getData(t,"modal"):new c(t,o);a||(r=n?h[n](...s):h)}),r}),r.Modal=c,Object.assign(c.prototype,{_events(){this._clickEvent=(t=>{t.preventDefault(),this.show().catch(t=>{})}),this._dismissEvent=(t=>{t.preventDefault(),this.hide().catch(t=>{})}),this._documentClickEvent=(t=>{i.isSame(t.target,this._dialog)||i.hasDescendent(this._dialog,t.target)||this.hide().catch(t=>{})}),this._windowKeyDownEvent=(t=>{"Escape"===t.key&&(t.preventDefault(),this.hide().catch(t=>{}))}),this._dismiss.length&&i.addEvent(this._dismiss,"click.frost.modal",this._dismissEvent)}});class g{constructor(t,s){this._node=t,this._settings=e.extend({},g.defaults,i.getDataset(this._node),s),this._triggers=this._settings.trigger.split(" "),this._events(),this._settings.enable&&this.enable(),i.setData(this._node,"popover",this)}destroy(){this._popover&&(this._popper.destroy(),i.remove(this._popover),this._popover=null,this._popper=null),this._triggers.includes("hover")&&(i.removeEvent(this._node,"mouseover.frost.popover",this._hoverEvent),i.removeEvent(this._node,"mouseout.frost.popover",this._hideEvent)),this._triggers.includes("focus")&&(i.removeEvent(this._node,"focus.frost.popover",this._focusEvent),i.removeEvent(this._node,"blur.frost.popover",this._hideEvent)),this._triggers.includes("click")&&i.removeEvent(this._node,"click.frost.popover",this._clickEvent),i.removeData(this._node,"popover",this)}disable(){this._enabled=!1}enable(){this._enabled=!0}hide(){return new Promise((t,e)=>this._popover&&s._triggerEvent(this._node,"hide.frost.popover")?(i.setDataset(this._popover,"animating",!0),i.stop(this._popover),void i.fadeOut(this._popover,{duration:this._settings.duration}).then(e=>{this._popper.destroy(),i.remove(this._popover),this._popover=null,this._popper=null,i.triggerEvent(this._node,"hidden.frost.popover"),t()}).catch(t=>{i.removeDataset(this._popover,"animating"),e(t)})):e())}show(){return new Promise((t,e)=>this._popover?e():s._triggerEvent(this._node,"show.frost.popover")?(this._render(),i.setDataset(this._popover,"animating",!0),i.addClass(this._popover,"show"),void i.fadeIn(this._popover,{duration:this._settings.duration}).then(e=>{i.triggerEvent(this._node,"shown.frost.popover"),t()}).catch(e).finally(t=>i.removeDataset(this._popover,"animating"))):e())}toggle(){return this._popover?this.hide():this.show()}update(){this._popper&&this._popper.update()}}g.defaults={classes:{popover:"popover",popoverHeader:"popover-header",popoverBody:"popover-body",arrow:"arrow"},duration:100,enable:!0,html:!1,sanitize:t=>i.sanitize(t),trigger:"click",placement:"auto",position:"center",fixed:!1,spacing:5,minContact:!1},i.addEventOnce(t,"load",t=>{const e=i.find('[data-toggle="popover"]');for(const t of e)new g(t)}),o&&(o.prototype.popover=function(t,...s){let o,n,r;return e.isObject(t)?o=t:e.isString(t)&&(n=t),this.each((t,a)=>{if(!e.isElement(t))return;const h=i.hasData(t,"popover")?i.getData(t,"popover"):new g(t,o);a||(r=n?h[n](...s):h)}),r}),r.Popover=g,Object.assign(g.prototype,{_events(){this._hideEvent=(t=>{this._enabled&&this._popover&&(i.stop(this._popover),this.hide().catch(t=>{}))}),this._hoverEvent=(t=>{this._enabled&&(i.addEventOnce(this._node,"mouseout.frost.popover",this._hideEvent),this.show().catch(t=>{}))}),this._focusEvent=(t=>{this._enabled&&(i.addEventOnce(this._node,"blur.frost.popover",this._hideEvent),this.show().catch(t=>{}))}),this._clickEvent=(t=>{t.preventDefault(),this._enabled&&this.toggle().catch(t=>{})}),this._triggers.includes("hover")&&i.addEvent(this._node,"mouseover.frost.popover",this._hoverEvent),this._triggers.includes("focus")&&i.addEvent(this._node,"focus.frost.popover",this._focusEvent),this._triggers.includes("click")&&i.addEvent(this._node,"click.frost.popover",this._clickEvent)},_render(){this._popover=i.create("div",{class:this._settings.classes.popover,attributes:{role:"tooltip"}});const t=i.create("div",{class:this._settings.classes.arrow});i.append(this._popover,t);const e=this._settings.html?"html":"text",s=i.getAttribute(this._node,"title")||this._settings.title;if(s){const t=i.create("h3",{[e]:this._settings.html&&this._settings.sanitize?this._settings.sanitize(s):s,class:this._settings.classes.popoverHeader});i.append(this._popover,t)}const o=this._settings.content,n=i.create("div",{[e]:this._settings.html&&this._settings.sanitize?this._settings.sanitize(o):o,class:this._settings.classes.popoverBody});i.append(this._popover,n),this._container?i.append(this._container,this._popover):i.before(this._node,this._popover),this._popper=new p(this._popover,{reference:this._node,arrow:t,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}});class p{constructor(t,s){this._node=t,this._settings=e.extend({},p.defaults,i.getDataset(this._node),s),this._fixed=i.isFixed(this._settings.reference),this._relativeParent=p.getRelativeParent(this._node),this._scrollParent=p.getScrollParent(this._node),i.setStyle(this._node,{position:this._fixed?"fixed":"absolute",top:0,left:0}),this._events(),this.update(),i.setData(this._node,"popper",this)}destroy(){i.removeEvent(t,"resize.frost.popper",this._updateEvent),i.removeEvent(t,"scroll.frost.popper",this._updateEvent),this._scrollParent&&i.removeEvent(this._scrollParent,"scroll.frost.popper",this._updateEvent),i.removeData(this._node,"popper")}update(){if(!i.isConnected(this._node))return;const t=i.rect(this._node,!this._fixed),e=i.rect(this._settings.reference,!this._fixed),s=p.windowContainer(this._fixed);if(p.isNodeHidden(t,e,s,this._settings.spacing))return;const o=this._scrollParent?i.rect(this._scrollParent,!this._fixed):null,n=this._settings.container?i.rect(this._settings.container,!this._fixed):null,r={...s};o&&(r.top=Math.max(r.top,o.top),r.right=Math.min(r.right,o.right),r.bottom=Math.min(r.bottom,o.bottom),r.left=Math.max(r.left,o.left)),n&&(r.top=Math.max(r.top,n.top),r.right=Math.min(r.right,n.right),r.bottom=Math.min(r.bottom,n.bottom),r.left=Math.max(r.left,n.left)),(o||n)&&(r.x=r.left,r.y=r.top,r.width=r.right-r.left,r.height=r.bottom-r.top);const a=this._settings.fixed?this._settings.placement:p.getPopperPlacement(t,e,r,this._settings.placement,this._settings.spacing+2);i.setDataset(this._settings.reference,"placement",a),i.setDataset(this._node,"placement",a);const h="auto"!==this._settings.position?this._settings.position:p.getPopperPosition(t,e,r,a,this._settings.position),d={x:Math.round(e.x),y:Math.round(e.y)},l=this._relativeParent&&!this._fixed?i.rect(this._relativeParent,!this._fixed):null;l&&(d.x-=Math.round(l.x),d.y-=Math.round(l.y)),p.adjustPlacement(d,t,e,a,this._settings.spacing),p.adjustPosition(d,t,e,a,h),d.x-=parseInt(i.css(this._node,"margin-left")),d.y-=parseInt(i.css(this._node,"margin-top")),p.adjustConstrain(d,t,e,r,l,a,this._settings.minContact),this._scrollParent&&(d.x+=i.getScrollX(this._scrollParent),d.y+=i.getScrollY(this._scrollParent));const _={};if(this._settings.useGpu?_.transform="translate3d("+d.x+"px , "+d.y+"px , 0)":(_.marginLeft=d.x,_.marginTop=d.y),i.setStyle(this._node,_),this._settings.arrow){const t=i.rect(this._node,!this._fixed);this._updateArrow(t,e,a,h)}}}p.defaults={reference:null,container:null,arrow:null,placement:"bottom",position:"center",fixed:!1,spacing:0,minContact:!1,useGpu:!0},p._overflowTypes=["overflow","overflowX","overflowY"],p._overflowValues=["auto","scroll"],r.Popper=p,Object.assign(p.prototype,{_events(){this._updateEvent=e.animation(t=>this.update()),i.addEvent(t,"resize.frost.popper",this._updateEvent),i.addEvent(t,"scroll.frost.popper",this._updateEvent),this._scrollParent&&i.addEvent(this._scrollParent,"scroll.frost.popper",this._updateEvent)},_updateArrow(t,s,o,n){const r={position:"absolute",top:"",right:"",bottom:"",left:""};i.setStyle(this._settings.arrow,r);const a=i.rect(this._settings.arrow,!this._fixed);if(["top","bottom"].includes(o)){r["top"===o?"bottom":"top"]=-a.height;const i=(s.width-t.width)/2;let h=t.width/2-a.width/2;"start"===n?h+=i:"end"===n&&(h-=i),r.left=e.clamp(h,Math.max(s.left,t.left)-a.left,Math.min(s.right,t.right)-a.left-a.width)}else{r["right"===o?"left":"right"]=-a.width;const i=(s.height-t.height)/2;let h=t.height/2-a.height;"start"===n?h+=i:"end"===n&&(h-=i),r.top=e.clamp(h,Math.max(s.top,t.top)-a.top,Math.min(s.bottom,t.bottom)-a.top-a.height)}i.setStyle(this._settings.arrow,r)}}),Object.assign(p,{adjustConstrain(t,e,s,i,o,n,r){if(["left","right"].includes(n)){let n=t.y,a=s.top;o&&(n+=o.top,a-=o.top);const h=!1!==r?r:s.height;if(n+e.height>i.bottom){const s=n+e.height-i.bottom;t.y=Math.max(a-e.height+h,t.y-s)}else if(n<i.top){const e=n-i.top;t.y=Math.min(a+s.height-h,t.y-e)}}else{let n=t.x,a=s.left;o&&(n+=o.left,a-=o.left);const h=!1!==r?r:s.width;if(n+e.width>i.right){const s=n+e.width-i.right;t.x=Math.max(a-e.width+h,t.x-s)}else if(n<i.left){const e=n-i.left;t.x=Math.min(a+s.width-h,t.x-e)}}},adjustPlacement(t,e,s,i,o){"top"===i?t.y-=Math.round(e.height)+o:"right"===i?t.x+=Math.round(s.width)+o:"bottom"===i?t.y+=Math.round(s.height)+o:"left"===i&&(t.x-=Math.round(e.width)+o)},adjustPosition(t,e,s,i,o){if("start"!==o)if(["top","bottom"].includes(i)){const i=Math.round(e.width)-Math.round(s.width);"center"===o?t.x-=Math.round(i/2):"end"===o&&(t.x-=i)}else{const i=Math.round(e.height)-Math.round(s.height);"center"===o?t.y-=Math.round(i/2):"end"===o&&(t.y-=i)}},getPopperPlacement(t,e,s,i,o){const n=e.top-s.top,r=s.right-e.right,a=s.bottom-e.bottom,h=e.left-s.left;if("top"===i){if(n<t.height+o&&a>n)return"bottom"}else if("right"===i){if(r<t.width+o&&h>r)return"left"}else if("bottom"===i){if(a<t.height+o&&n>a)return"top"}else if("left"===i){if(h<t.width+o&&r>h)return"right"}else if("auto"===i){const s=Math.max(n,a),i=Math.max(r,h),d=Math.min(n,a);if(i>s&&i>=t.width+o&&d+e.height>=t.height+o-Math.max(0,t.height-e.height))return h>r?"left":"right";const l=Math.min(r,h);if(s>=t.height+o&&l+e.width>=t.width+o-Math.max(0,t.width-e.width))return a>n?"bottom":"top";const _=Math.max(s,i);return a===_&&a>=t.height+o?"bottom":n===_&&n>=t.height+o?"top":r===_&&r>=t.width+o?"right":h===_&&h>=t.width+o?"left":"bottom"}return i},getPopperPosition(t,e,s,i,o){const n=t.width-e.width,r=t.height-e.height;if(["bottom","top"].includes(i)){const t=e.left-s.left,i=s.right-e.right;if("start"===o){if(i<n){if(t>=n/2&&i>=n/2)return"center";if(t>=n)return"end"}}else if("center"===o){if(t<n/2||i<n/2){if(i>=n)return"start";if(t>=n)return"end"}}else if("end"===o&&t<n){if(t>=n/2&&i>=n/2)return"center";if(i>=n)return"start"}}else{const t=e.top-s.top,i=s.bottom-e.bottom;if("start"===o){if(i<r){if(i>=r/2&&t>=r/2)return"center";if(t>=r)return"end"}}else if("center"===o){if(t<r/2||i<r/2){if(i>=r)return"start";if(t>=r)return"end"}}else if("end"===o&&t<r){if(t>=r/2&&i>=r/2)return"center";if(i>=r)return"start"}}return o},getRelativeParent:t=>i.closest(t,t=>"relative"===i.css(t,"position"),n.body).shift(),getScrollParent(t){return i.closest(t,t=>!!this._overflowTypes.find(e=>!!this._overflowValues.find(s=>new RegExp(s).test(i.css(t,e)))),n.body).shift()},isNodeHidden:(t,e,s,i)=>s.top>e.bottom+t.height+i||s.left>e.right+t.width+i||s.bottom<e.top-t.height-i||s.right<e.left-t.width-i,windowContainer(e){const s=e?0:i.getScrollX(t),o=e?0:i.getScrollY(t),r=i.width(n),a=i.height(n);return{x:s,y:o,width:r,height:a,top:o,right:s+r,bottom:o+a,left:s}}});class u{constructor(t,s){this._node=t,this._settings=e.extend({},u.defaults,i.getDataset(this._node),s),this._settings.target||(this._settings.target=i.getAttribute(this._node,"href")),this._target=i.findOne(this._settings.target),this._siblings=i.siblings(this._node),this._events(),i.setData(this._node,"tab",this)}destroy(){i.removeEvent(this._node,"click.frost.tab",this._clickEvent),i.removeData(this._node,"tab")}hide(){return new Promise((t,e)=>!i.hasClass(this._target,"active")||i.getDataset(this._target,"animating")?e():s._triggerEvent(this._node,"hide.frost.tab")?(i.setDataset(this._target,"animating",!0),void i.fadeOut(this._target,{duration:this._settings.duration}).then(e=>{i.removeClass(this._target,"active"),i.removeClass(this._node,"active"),i.setAttribute(this._node,"aria-selected",!1),i.triggerEvent(this._node,"hidden.frost.tab"),t()}).catch(e).finally(t=>i.removeDataset(this._target,"animating"))):e())}show(){return new Promise((t,e)=>{if(i.hasClass(this._target,"active")||i.getDataset(this._target,"animating"))return e();const o=this._siblings.find(t=>i.hasClass(t,"active"));if(o&&!i.hasData(o,"tab"))return e();(o?i.getData(o,"tab").hide():Promise.resolve()).then(t=>s._triggerEvent(this._node,"show.frost.tab")?(i.setDataset(this._target,"animating",!0),i.addClass(this._target,"active"),i.addClass(this._node,"active"),i.fadeIn(this._target,{duration:this._settings.duration})):e()).then(e=>{i.setAttribute(this._node,"aria-selected",!0),i.triggerEvent(this._node,"shown.frost.tab"),t()}).catch(e).finally(t=>i.removeDataset(this._target,"animating"))})}}u.defaults={duration:100},i.addEventOnce(t,"load",t=>{const e=i.find('[data-toggle="tab"]');for(const t of e)new u(t)}),o&&(o.prototype.tab=function(t,...s){let o,n,r;return e.isObject(t)?o=t:e.isString(t)&&(n=t),this.each((t,a)=>{if(!e.isElement(t))return;const h=i.hasData(t,"tab")?i.getData(t,"tab"):new u(t,o);a||(r=n?h[n](...s):h)}),r}),r.Tab=u,Object.assign(u.prototype,{_events(){this._clickEvent=(t=>{t.preventDefault(),this.show().catch(t=>{})}),i.addEvent(this._node,"click.frost.tab",this._clickEvent)}});class v{constructor(t,s){this._node=t,this._settings=e.extend({},v.defaults,i.getDataset(this._node),s),this._dismiss=i.find('[data-dismiss="toast"]',this._node),this._events(),this._settings.autohide&&setTimeout(t=>{this.hide().catch(t=>{})},this._settings.delay),i.setData(this._node,"toast",this)}destroy(){this._dismiss.length&&i.removeEvent(this._dismiss,"click.frost.toast",this._dismissEvent),i.removeData(this._node,"toast")}hide(){return new Promise((t,e)=>!i.isVisible(this._node)||i.getDataset(this._node,"animating")?e():s._triggerEvent(this._node,"hide.frost.toast")?(i.setDataset(this._node,"animating",!0),i.fadeOut(this._node,{duration:this._settings.duration}).then(e=>{i.hide(this._node),i.triggerEvent(this._node,"hidden.frost.toast"),t()}).catch(e).finally(t=>i.removeDataset(this._node,"animating"))):e())}show(){return new Promise((t,e)=>i.isVisible(this._node)||i.getDataset(this._node,"animating")?e():s._triggerEvent(this._node,"show.frost.toast")?(i.setDataset(this._node,"animating",!0),i.show(this._node),i.fadeIn(this._node,{duration:this._settings.duration}).then(e=>{i.triggerEvent(this._node,"shown.frost.toast"),t()}).catch(e).finally(t=>i.removeDataset(this._node,"animating"))):e())}}v.defaults={autohide:!0,delay:5e3,duration:100},i.addEventOnce(t,"load",t=>{const e=i.find('[data-toggle="toast"]');for(const t of e)new v(t)}),o&&(o.prototype.toast=function(t,...s){let o,n,r;return e.isObject(t)?o=t:e.isString(t)&&(n=t),this.each((t,a)=>{if(!e.isElement(t))return;const h=i.hasData(t,"toast")?i.getData(t,"toast"):new v(t,o);a||(r=n?h[n](...s):h)}),r}),r.Toast=v,Object.assign(v.prototype,{_events(){this._dismissEvent=(t=>{t.preventDefault(),this.hide().catch(t=>{})}),this._dismiss.length&&i.addEvent(this._dismiss,"click.frost.toast",this._dismissEvent)}});class f{constructor(t,s){this._node=t,this._settings=e.extend({},f.defaults,i.getDataset(this._node),s),this._triggers=this._settings.trigger.split(" "),this._events(),this._settings.enable&&this.enable(),i.setData(this._node,"tooltip",this)}destroy(){this._tooltip&&(this._popper.destroy(),i.remove(this._tooltip),this._tooltip=null,this._popper=null),this._triggers.includes("hover")&&(i.removeEvent(this._node,"mouseover.frost.tooltip",this._hoverEvent),i.removeEvent(this._node,"mouseout.frost.tooltip",this._hideEvent)),this._triggers.includes("focus")&&(i.removeEvent(this._node,"focus.frost.tooltip",this._focusEvent),i.removeEvent(this._node,"blur.frost.tooltip",this._hideEvent)),this._triggers.includes("click")&&i.removeEvent(this._node,"click.frost.tooltip",this._clickEvent),i.removeData(this._node,"tooltip",this)}disable(){this._enabled=!1}enable(){this._enabled=!0}hide(){return new Promise((t,e)=>this._tooltip&&s._triggerEvent(this._node,"hide.frost.tooltip")?(i.setDataset(this._tooltip,"animating",!0),i.stop(this._tooltip),void i.fadeOut(this._tooltip,{duration:this._settings.duration}).then(e=>{this._popper.destroy(),i.remove(this._tooltip),this._tooltip=null,this._popper=null,i.triggerEvent(this._node,"hidden.frost.tooltip"),t()}).catch(t=>{i.removeDataset(this._tooltip,"animating"),e()})):e())}show(){return new Promise((t,e)=>this._tooltip?e():s._triggerEvent(this._node,"show.frost.tooltip")?(this._render(),i.setDataset(this._tooltip,"animating",!0),i.addClass(this._tooltip,"show"),void i.fadeIn(this._tooltip,{duration:this._settings.duration}).then(e=>{i.triggerEvent(this._node,"shown.frost.tooltip"),t()}).catch(t=>e()).finally(t=>i.removeDataset(this._tooltip,"animating"))):e())}toggle(){return this._tooltip?this.hide():this.show()}update(){this._popper&&this._popper.update()}}return f.defaults={classes:{tooltip:"tooltip",tooltipInner:"tooltip-inner",arrow:"arrow"},duration:100,enable:!0,html:!1,trigger:"hover focus",sanitize:t=>i.sanitize(t),placement:"auto",position:"center",fixed:!1,spacing:2,minContact:!1},i.addEventOnce(t,"load",t=>{const e=i.find('[data-toggle="tooltip"]');for(const t of e)new f(t)}),o&&(o.prototype.tooltip=function(t,...s){let o,n,r;return e.isObject(t)?o=t:e.isString(t)&&(n=t),this.each((t,a)=>{if(!e.isElement(t))return;const h=i.hasData(t,"tooltip")?i.getData(t,"tooltip"):new f(t,o);a||(r=n?h[n](...s):h)}),r}),r.Tooltip=f,Object.assign(f.prototype,{_events(){this._hideEvent=(t=>{this._enabled&&this._tooltip&&(i.stop(this._tooltip),this.hide().catch(t=>{}))}),this._hoverEvent=(t=>{this._enabled&&(i.addEventOnce(this._node,"mouseout.frost.tooltip",this._hideEvent),this.show().catch(t=>{}))}),this._focusEvent=(t=>{this._enabled&&(i.addEventOnce(this._node,"blur.frost.tooltip",this._hideEvent),this.show().catch(t=>{}))}),this._clickEvent=(t=>{t.preventDefault(),this._enabled&&this.toggle().catch(t=>{})}),this._triggers.includes("hover")&&i.addEvent(this._node,"mouseover.frost.tooltip",this._hoverEvent),this._triggers.includes("focus")&&i.addEvent(this._node,"focus.frost.tooltip",this._focusEvent),this._triggers.includes("click")&&i.addEvent(this._node,"click.frost.tooltip",this._clickEvent)},_render(){this._tooltip=i.create("div",{class:this._settings.classes.tooltip,attributes:{role:"tooltip"}});const t=i.create("div",{class:this._settings.classes.arrow});i.append(this._tooltip,t);const e=i.getAttribute(this._node,"title")||this._settings.title,s=this._settings.html?"html":"text",o=i.create("div",{[s]:this._settings.html&&this._settings.sanitize?this._settings.sanitize(e):e,class:this._settings.classes.tooltipInner});i.append(this._tooltip,o),this._container?i.append(this._container,this._tooltip):i.before(this._node,this._tooltip),this._popper=new p(this._tooltip,{reference:this._node,arrow:t,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),{UI:r}});
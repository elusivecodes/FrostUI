!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e:Object.assign(t,e(t))}(window,(function(t){"use strict";if(!t)throw new Error("FrostUI requires a Window.");if(!("DOM"in t))throw new Error("FrostUI requires FrostDOM.");const e=t.Core,s=t.DOM,i=t.dom,o=t.QuerySet,n=t.document,r={};class a{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),i.setData(this._node,"alert",this)}destroy(){i.removeData(this._node,"alert")}close(){!this._animating&&i.triggerOne(this._node,"close.frost.alert")&&(this._animating=!0,i.fadeOut(this._node,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"closed.frost.alert"),i.remove(this._node)}).catch(t=>{}).finally(t=>{this._animating=!1}))}static init(t,e){return i.hasData(t,"alert")?i.getData(t,"alert"):new this(t,e)}}i.addEventDelegate(n,"click.frost.alert",'[data-dismiss="alert"]',t=>{t.preventDefault();const e=r.getTarget(t.currentTarget,".alert");a.init(e).close()}),a.defaults={duration:100},o&&(o.prototype.alert=function(t,...s){let i,o;e.isObject(t)?i=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=a.init(t,i);o&&n[o](...s)}return this}),r.Alert=a;class h{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),i.setData(this._node,"button",this)}destroy(){i.removeData(this._node,"button")}toggle(){i.toggleClass(this._node,"active");const t=i.hasClass(this._node,"active");i.setAttribute("aria-pressed",t)}static init(t,e){return i.hasData(t,"button")?i.getData(t,"button"):new this(t,e)}}i.addEventDelegate(n,"click.frost.button",'[data-toggle="button"]',t=>{t.preventDefault();h.init(t.currentTarget).toggle()}),h.defaults={},o&&(o.prototype.button=function(t,...s){let i,o;e.isObject(t)?i=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=h.init(t,i);o&&n[o](...s)}return this}),r.Button=h;class d{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._items=i.find(".carousel-item",this._node),this._index=this._items.findIndex(t=>i.hasClass(t,"active")),this._events(),i.setData(this._node,"carousel",this),"carousel"===this._settings.ride&&this._setTimer()}cycle(){i.isHidden(n)?this._setTimer():this.slide(1)}destroy(){this._timer&&clearTimeout(this._timer),this._settings.keyboard&&i.removeEvent(this._node,"keydown.frost.carousel"),this._settings.pause&&(i.removeEvent(this._node,"mouseenter.frost.carousel"),i.removeEvent(this._node,"mouseleave.frost.carousel")),i.removeEvent(this._node,"remove.frost.carousel"),i.removeData(this._node,"carousel")}next(){this.slide()}pause(){clearTimeout(this._timer),this._timer=null}prev(){this.slide(-1)}show(t){this._show(t)}slide(t=1){this.show(this._index+t)}static init(t,e){return i.hasData(t,"carousel")?i.getData(t,"carousel"):new this(t,e)}}i.addEventDelegate(n,"click.frost.carousel",".carousel-next, .carousel-prev, [data-slide], [data-slide-to]",t=>{t.preventDefault();const s=r.getTarget(t.currentTarget,".carousel"),o=d.init(s),n=i.getDataset(t.currentTarget,"slideTo");e.isUndefined(n)?i.hasClass(t.currentTarget,"carousel-control-prev")?o.prev():o.next():o.show(n)}),Object.assign(d.prototype,{_events(){this._settings.keyboard&&(console.log(this._node),i.addEvent(this._node,"keydown.frost.carousel",t=>{const e=t.target;if(!i.is(e,"input, select"))switch(t.key){case"ArrowLeft":t.preventDefault(),this.prev();break;case"ArrowRight":t.preventDefault(),this.next()}})),this._settings.pause&&(i.addEvent(this._node,"mouseenter.frost.carousel",t=>{this.pause()}),i.addEvent(this._node,"mouseleave.frost.carousel",t=>{this._setTimer()})),i.addEvent(this._node,"remove.frost.carousel",t=>{this.destroy()})},_setTimer(){if(this._timer)return;const t=i.getDataset(this._items[this._index],"interval");this._timer=setTimeout(t=>this.cycle(),t||this._settings.interval)},_show(t){if(this._sliding)return;if(t=parseInt(t),!this._settings.wrap&&(t<0||t>this._items.length-1))return;let e=0;if(t<0?e=-1:t>this._items.length-1&&(e=1),(t%=this._items.length)<0&&(t=this._items.length+t),t===this._index)return;const s=-1==e||0==e&&t<this._index?"left":"right",o={direction:s,relatedTarget:this._items[t],from:this._index,to:t};if(!i.triggerOne(this._node,"slide.frost.carousel",o))return;const n=this._index;this._index=t,this._sliding=!0,this.pause(),i.addClass(this._items[this._index],"active"),i.removeClass(this._items[n],"active"),i.animate(this._items[this._index],(t,e)=>this._update(t,this._items[n],e,s),{duration:this._settings.transition}).then(t=>{const e=i.find(".active[data-slide-to]",this._node),s=i.find('[data-slide-to="'+this._index+'"]',this._node);i.removeClass(e,"active"),i.addClass(s,"active"),i.triggerEvent(this._node,"slid.frost.carousel",o),this._setTimer()}).finally(t=>{this._sliding=!1})},_update(t,e,s,i){if(s>=1)return e.style.setProperty("display",""),e.style.setProperty("transform",""),void t.style.setProperty("transform","");const o="right"===i;e.style.setProperty("display","block"),e.style.setProperty("transform",`translateX(${Math.round(100*s)*(o?-1:1)}%)`),t.style.setProperty("transform",`translateX(${Math.round(100*(1-s))*(o?1:-1)}%)`)}}),d.defaults={interval:5e3,transition:500,keyboard:!0,ride:!1,pause:!0,wrap:!0},i.addEventOnce(t,"load",t=>{const e=i.find('[data-ride="carousel"]');for(const t of e)d.init(t)}),o&&(o.prototype.carousel=function(t,...s){let i,o;e.isObject(t)?i=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=d.init(t,i);o&&n[o](...s)}return this}),r.Carousel=d;class l{constructor(t,s){this._node=t;const o=this._node.getAttribute("id");this._triggers=i.find(`[data-toggle="collapse"][data-target="#${o}"]`),console.log(this._triggers),this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._settings.parent&&(this._parent=i.findOne(this._settings.parent)),i.setData(this._node,"collapse",this)}destroy(){i.removeData(this._node,"collapse")}hide(){!this._animating&&i.hasClass(this._node,"show")&&i.triggerOne(this._node,"hide.frost.collapse")&&(this._animating=!0,i.addClass(this._triggers,"collapsed"),i.squeezeOut(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then(t=>{i.removeClass(this._node,"show"),i.setAttribute(this._triggers,"aria-expanded",!1),i.triggerEvent(this._node,"hidden.frost.collapse")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){if(this._animating||i.hasClass(this._node,"show"))return;const t=[];if(this._parent){const e=i.find(".collapse.show",this._parent);for(const s of e){const e=this.constructor.init(s);if(this._parent===e._parent){if(e._animating)return;t.push(e)}}}if(i.triggerOne(this._node,"show.frost.collapse")){for(const e of t)e.hide();this._animating=!0,i.addClass(this._node,"show"),i.removeClass(this._triggers,"collapsed"),i.squeezeIn(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then(t=>{i.setAttribute(this._triggers,"aria-expanded",!0),i.triggerEvent(this._node,"shown.frost.collapse")}).catch(t=>{}).finally(t=>{this._animating=!1})}}toggle(){i.hasClass(this._node,"show")?this.hide():this.show()}static init(t,e){return i.hasData(t,"collapse")?i.getData(t,"collapse"):new this(t,e)}}i.addEventDelegate(n,"click.frost.collapse",'[data-toggle="collapse"]',t=>{t.preventDefault();const e=r.getTargetSelector(t.currentTarget),s=i.find(e);for(const t of s){l.init(t).toggle()}}),l.defaults={direction:"bottom",duration:250},o&&(o.prototype.collapse=function(t,...s){let i,o;e.isObject(t)?i=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=l.init(t,i);o&&n[o](...s)}return this}),r.Collapse=l;class c{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._menuNode=i.next(this._node,".dropdown-menu").shift(),this._settings.reference?"parent"===this._settings.reference?this._referenceNode=i.parent(this._node).shift():this._referenceNode=i.findOne(this._settings.reference):this._referenceNode=this._node,"static"!==this._settings.display&&i.closest(this._node,".navbar-nav").length&&(this._settings.display="static"),"dynamic"===this._settings.display&&(this._popper=new g(this._menuNode,{reference:this._referenceNode,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})),i.addEvent(this._node,"remove.frost.dropdown",t=>{this.destroy()}),i.setData(this._node,"dropdown",this)}destroy(){this._popper&&this._popper.destroy(),i.removeEvent(this._node,"keyup.frost.dropdown"),i.removeEvent(this._node,"remove.frost.dropdown"),i.removeData(this._node,"dropdown")}hide(){!this._animating&&i.hasClass(this._menuNode,"show")&&i.triggerOne(this._node,"hide.frost.dropdown")&&(this._animating=!0,i.fadeOut(this._menuNode,{duration:this._settings.duration}).then(t=>{i.removeClass(this._menuNode,"show"),i.setAttribute(this._node,"aria-expanded",!1),i.triggerEvent(this._node,"hidden.frost.dropdown")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){this._animating||i.hasClass(this._menuNode,"show")||!i.triggerOne(this._node,"show.frost.dropdown")||(this._animating=!0,i.addClass(this._menuNode,"show"),i.fadeIn(this._menuNode,{duration:this._settings.duration}).then(t=>{i.setAttribute(this._node,"aria-expanded",!0),i.triggerEvent(this._node,"shown.frost.dropdown")}).catch(t=>{}).finally(t=>{this._animating=!1}))}toggle(){i.hasClass(this._menuNode,"show")?this.hide():this.show()}static autoHide(t,e=!1){e||(e=i.is(t,"form"));const s=i.find(".dropdown-menu.show");for(const o of s){if(t&&i.hasDescendent(o,t)&&(e||i.closest(t,"form",o).length))continue;const s=i.prev(o).shift();if(s===t)continue;this.init(s).hide()}}static init(t,e){return i.hasData(t,"dropdown")?i.getData(t,"dropdown"):new this(t,e)}}i.addEventDelegate(n,"click.frost.dropdown keyup.frost.dropdown",'[data-toggle="dropdown"]',t=>{if(t.key&&" "!==t.key)return;t.preventDefault();c.init(t.currentTarget).toggle()}),i.addEventDelegate(n,"keydown.frost.dropdown",'[data-toggle="dropdown"]',t=>{switch(t.key){case"ArrowDown":case"ArrowUp":t.preventDefault();const e=t.currentTarget,s=c.init(e);i.hasClass(s._menuNode,"show")||s.show();const o=i.findOne('.dropdown-item:not([tabindex="-1"])',s._menuNode);i.focus(o)}}),i.addEventDelegate(n,"keydown.frost.dropdown",".dropdown-menu.show .dropdown-item",t=>{let e;switch(t.key){case"ArrowDown":e=i.nextAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').shift();break;case"ArrowUp":e=i.prevAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').pop();break;default:return}t.preventDefault(),i.focus(e)}),i.addEvent(n,"click.frost.dropdown",t=>{c.autoHide(t.target)}),i.addEvent(n,"keyup.frost.dropdown",t=>{switch(t.key){case"Tab":c.autoHide(t.target,!0);break;case"Escape":c.autoHide()}}),c.defaults={display:"dynamic",duration:100,placement:"bottom",position:"start",fixed:!1,spacing:3,minContact:!1},o&&(o.prototype.dropdown=function(t,...s){let i,o;e.isObject(t)?i=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=c.init(t,i);o&&n[o](...s)}return this}),r.Dropdown=c,r.getTarget=(t,e)=>{const s=r.getTargetSelector(t);let o;if(s&&"#"!==s?o=i.findOne(s):e&&(o=i.closest(t,e).shift()),!o)throw new Error("Target not found");return o},r.getTargetSelector=t=>i.getDataset(t,"target")||i.getAttribute(t,"href");class _{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(t),s),this._dialog=i.child(this._node,".modal-dialog").shift(),i.hasClass(this._node,"modal-left")?this._direction="left":i.hasClass(this._node,"modal-right")?this._direction="right":this._direction="top",this._settings.show&&this.show(),i.setData(this._node,"modal",this)}destroy(){i.removeData(this._node,"modal")}hide(){!this._animating&&i.hasClass(this._node,"show")&&i.triggerOne(this._node,"hide.frost.modal")&&(this._animating=!0,Promise.all([i.fadeOut(this._dialog,{duration:this._settings.duration}),i.dropOut(this._dialog,{duration:this._settings.duration,direction:this._direction}),i.fadeOut(this._backdrop,{duration:this._settings.duration})]).then(t=>{this._settings.backdrop&&(i.remove(this._backdrop),this._backdrop=null),i.removeAttribute(this._node,"aria-modal"),i.setAttribute(this._node,"aria-hidden",!0),i.removeClass(this._node,"show"),i.removeClass(n.body,"modal-open"),this._activeTarget&&i.focus(this._activeTarget),i.triggerEvent(this._node,"hidden.frost.modal")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(t){this._animating||i.hasClass(this._node,"show")||!i.triggerOne(this._node,"show.frost.modal")||(this._settings.backdrop&&(this._backdrop=i.create("div",{class:"modal-backdrop"}),i.append(n.body,this._backdrop)),this._activeTarget=t,this._animating=!0,i.addClass(this._node,"show"),i.addClass(n.body,"modal-open"),Promise.all([i.fadeIn(this._dialog,{duration:this._settings.duration}),i.dropIn(this._dialog,{duration:this._settings.duration,direction:this._direction}),i.fadeIn(this._backdrop,{duration:this._settings.duration})]).then(t=>{i.removeAttribute(this._node,"aria-hidden"),i.setAttribute(this._node,"aria-modal",!0),this._settings.focus&&i.focus(this._node),i.triggerEvent(this._node,"shown.frost.modal")}).catch(t=>{}).finally(t=>{this._animating=!1}))}toggle(){i.hasClass(this._node,"show")?this.hide():this.show()}static init(t,e){return i.hasData(t,"modal")?i.getData(t,"modal"):new this(t,e)}}i.addEventDelegate(n,"click.frost.modal",'[data-toggle="modal"]',t=>{t.preventDefault();const e=r.getTarget(t.currentTarget,".modal");_.init(e).show(t.currentTarget)}),i.addEventDelegate(n,"click.frost.modal",'[data-dismiss="modal"]',t=>{t.preventDefault();const e=r.getTarget(t.currentTarget,".modal");_.init(e).hide()}),i.addEvent(n,"click.frost.modal",t=>{if(!i.findOne(".modal-backdrop"))return;const e=i.find(".modal.show");for(const s of e){if(s!==t.target&&i.hasDescendent(s,t.target))continue;const e=_.init(s);"static"!==e._settings.backdrop&&e.hide()}}),i.addEvent(n,"keyup.frost.modal",t=>{if("Escape"!==t.key)return;const e=i.find(".modal.show");for(const t of e){const e=_.init(t);e._settings.keyboard&&e.hide()}}),_.defaults={duration:250,backdrop:!0,focus:!0,show:!1,keyboard:!0},o&&(o.prototype.modal=function(t,...s){let i,o;e.isObject(t)?i=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=_.init(t,i);o&&n[o](...s)}return this}),r.Modal=_;class p{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._modal=i.closest(this._node,".modal").shift(),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),i.setData(this._node,"popover",this)}destroy(){this._popper&&this._popper.destroy(),i.remove(this._popover),this._triggers.includes("hover")&&(i.removeEvent(this._node,"mouseover.frost.popover"),i.removeEvent(this._node,"mouseout.frost.popover")),this._triggers.includes("focus")&&(i.removeEvent(this._node,"focus.frost.popover"),i.removeEvent(this._node,"blur.frost.popover")),this._triggers.includes("click")&&i.removeEvent(this._node,"click.frost.popover"),this._modal&&i.removeEvent(this._modal,"hide.frost.modal",this._hideModalEvent),i.removeData(this._node,"popover",this)}disable(){this._enabled=!1}enable(){this._enabled=!0}hide(){this._animating&&i.stop(this._popover),i.isConnected(this._popover)&&i.triggerOne(this._node,"hide.frost.popover")&&(this._animating=!0,i.fadeOut(this._popover,{duration:this._settings.duration}).then(t=>{this._popper.destroy(),i.removeClass(this._popover,"show"),i.detach(this._popover),i.triggerEvent(this._node,"hidden.frost.popover")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){this._animating&&i.stop(this._popover),!i.isConnected(this._popover)&&i.triggerOne(this._node,"show.frost.popover")&&(this._show(),this._animating=!0,i.addClass(this._popover,"show"),i.fadeIn(this._popover,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"shown.frost.popover")}).catch(t=>{}).finally(t=>{this._animating=!1}))}toggle(){i.isConnected(this._popover)?this.hide():this.show()}update(){this._popper&&this._popper.update()}static init(t,e){return i.hasData(t,"popover")?i.getData(t,"popover"):new this(t,e)}}Object.assign(p.prototype,{_events(){this._triggers.includes("hover")&&(i.addEvent(this._node,"mouseover.frost.popover",t=>{this._enabled&&this.show()}),i.addEvent(this._node,"mouseout.frost.popover",t=>{this._enabled&&this.hide()})),this._triggers.includes("focus")&&(i.addEvent(this._node,"focus.frost.popover",t=>{this._enabled&&this.show()}),i.addEvent(this._node,"blur.frost.popover",t=>{this._enabled&&this.hide()})),this._triggers.includes("click")&&i.addEvent(this._node,"click.frost.popover",t=>{t.preventDefault(),this._enabled&&this.toggle()}),this._modal&&(this._hideModalEvent=t=>{this.hide()},i.addEvent(this._modal,"hide.frost.modal",this._hideModalEvent))},_render(){this._popover=i.parseHTML(this._settings.template).shift(),this._settings.customClass&&i.addClass(this._popover,this._settings.customClass),this._arrow=i.find(".popover-arrow",this._popover),this._popoverHeader=i.find(".popover-header",this._popover),this._popoverBody=i.find(".popover-body",this._popover)},_show(){const t=this._settings.html?"setHTML":"setText",e=i.getAttribute(this._node,"title")||this._settings.title,s=this._settings.content;i[t](this._popoverHeader,this._settings.html&&this._settings.sanitize?this._settings.sanitize(e):e),e?i.show(this._popoverHeader):i.hide(this._popoverHeader),i[t](this._popoverBody,this._settings.html&&this._settings.sanitize?this._settings.sanitize(s):s),this._container?i.append(this._container,this._popover):i.before(this._node,this._popover),this._popper=new g(this._popover,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),p.defaults={template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',customClass:null,duration:100,enable:!0,html:!1,sanitize:t=>i.sanitize(t),trigger:"click",placement:"auto",position:"center",fixed:!1,spacing:3,minContact:!1},o&&(o.prototype.popover=function(t,...s){let i,o;e.isObject(t)?i=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=p.init(t,i);o&&n[o](...s)}return this}),r.Popover=p;class g{constructor(s,o){this._node=s,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),o),this._scrollParent=this.constructor.getScrollParent(this._node),i.setStyle(this._node,{margin:0,position:"absolute",top:0,right:"initial",bottom:"initial",left:0}),this._resetStyle={},this._settings.useGpu?this._resetStyle.transform="":(this._resetStyle.marginLeft="",this._resetStyle.marginTop=""),f.add(this),this._scrollParent&&f.addOverflow(this._scrollParent,this),i.addEvent(this._node,"remove.frost.popper",t=>{this.destroy()}),t.requestAnimationFrame(t=>{this.update()}),i.setData(this._node,"popper",this)}destroy(){f.remove(this),this._scrollParent&&f.removeOverflow(this._scrollParent,this),i.removeData(this._node,"popper")}update(){if(!i.isConnected(this._node))return;i.setStyle(this._node,this._resetStyle),this._settings.beforeUpdate&&this._settings.beforeUpdate(this._node,this._settings.reference);const t=i.rect(this._node,!0),e=i.rect(this._settings.reference,!0),s=this.constructor.windowContainer();if(this.constructor.isNodeHidden(t,e,s,this._settings.spacing))return;const o=this._scrollParent?i.rect(this._scrollParent,!0):null,n=this._settings.container?i.rect(this._settings.container,!0):null,r={...s};o&&(r.top=Math.max(r.top,o.top),r.right=Math.min(r.right,o.right),r.bottom=Math.min(r.bottom,o.bottom),r.left=Math.max(r.left,o.left)),n&&(r.top=Math.max(r.top,n.top),r.right=Math.min(r.right,n.right),r.bottom=Math.min(r.bottom,n.bottom),r.left=Math.max(r.left,n.left)),(o||n)&&(r.x=r.left,r.y=r.top,r.width=r.right-r.left,r.height=r.bottom-r.top);const a=this._settings.fixed?this._settings.placement:this.constructor.getPopperPlacement(t,e,r,this._settings.placement,this._settings.spacing+2);i.setDataset(this._settings.reference,"placement",a),i.setDataset(this._node,"placement",a);const h="auto"!==this._settings.position?this._settings.position:this.constructor.getPopperPosition(t,e,r,a,this._settings.position),d={x:Math.round(e.x),y:Math.round(e.y)},l=this.constructor.getRelativeParent(this._node),c=l?i.rect(l,!0):null;c&&(d.x-=Math.round(c.x),d.y-=Math.round(c.y)),this.constructor.adjustPlacement(d,t,e,a,this._settings.spacing),this.constructor.adjustPosition(d,t,e,a,h),d.x-=parseInt(i.css(this._node,"margin-left")),d.y-=parseInt(i.css(this._node,"margin-top")),this.constructor.adjustConstrain(d,t,e,r,c,a,this._settings.minContact),this._scrollParent&&(d.x+=i.getScrollX(this._scrollParent),d.y+=i.getScrollY(this._scrollParent));const _={};if(this._settings.useGpu?_.transform="translate3d("+d.x+"px , "+d.y+"px , 0)":(_.marginLeft=d.x,_.marginTop=d.y),i.setStyle(this._node,_),this._settings.arrow){const t=i.rect(this._node,!0);this._updateArrow(t,e,a,h)}this._settings.afterUpdate&&this._settings.afterUpdate(this._node,this._settings.reference,a,h)}_updateArrow(t,s,o,n){const r={position:"absolute",top:"",right:"",bottom:"",left:""};i.setStyle(this._settings.arrow,r);const a=i.rect(this._settings.arrow,!0);if(["top","bottom"].includes(o)){r["top"===o?"bottom":"top"]=-a.height;const i=(s.width-t.width)/2;let h=t.width/2-a.width/2;"start"===n?h+=i:"end"===n&&(h-=i),r.left=e.clamp(h,Math.max(s.left,t.left)-a.left,Math.min(s.right,t.right)-a.left-a.width)}else{r["right"===o?"left":"right"]=-a.width;const i=(s.height-t.height)/2;let h=t.height/2-a.height;"start"===n?h+=i:"end"===n&&(h-=i),r.top=e.clamp(h,Math.max(s.top,t.top)-a.top,Math.min(s.bottom,t.bottom)-a.top-a.height)}i.setStyle(this._settings.arrow,r)}}class f{static add(e){this._poppers.push(e),this._running||(i.addEvent(t,"resize.frost.popper scroll.frost.popper",s.debounce(t=>{for(const t of this._poppers)t.update()})),this._running=!0)}static addOverflow(t,e){this._popperOverflows.has(t)||(this._popperOverflows.set(t,[]),i.addEvent(t,"scroll.frost.popper",s.debounce(e=>{for(const e of this._popperOverflows.get(t))e.update()}))),this._popperOverflows.get(t).push(e)}static remove(e){this._poppers=this._poppers.filter(t=>t!==e),this._poppers.length||(i.removeEvent(t,"resize.frost.popper scroll.frost.popper"),this._running=!1)}static removeOverflow(t,e){if(!this._popperOverflows.has(t))return;const s=this._popperOverflows.get(t).filter(t=>t!==e);s.length?this._popperOverflows.set(t,s):(this._popperOverflows.delete(t),i.removeEvent(t,"scroll.frost.popper"))}}Object.assign(g,{adjustConstrain(t,e,s,i,o,n,r){if(["left","right"].includes(n)){let n=t.y,a=s.top;o&&(n+=o.top,a-=o.top);const h=!1!==r?r:s.height;if(n+e.height>i.bottom){const s=n+e.height-i.bottom;t.y=Math.max(a-e.height+h,t.y-s)}else if(n<i.top){const e=n-i.top;t.y=Math.min(a+s.height-h,t.y-e)}}else{let n=t.x,a=s.left;o&&(n+=o.left,a-=o.left);const h=!1!==r?r:s.width;if(n+e.width>i.right){const s=n+e.width-i.right;t.x=Math.max(a-e.width+h,t.x-s)}else if(n<i.left){const e=n-i.left;t.x=Math.min(a+s.width-h,t.x-e)}}},adjustPlacement(t,e,s,i,o){"top"===i?t.y-=Math.round(e.height)+o:"right"===i?t.x+=Math.round(s.width)+o:"bottom"===i?t.y+=Math.round(s.height)+o:"left"===i&&(t.x-=Math.round(e.width)+o)},adjustPosition(t,e,s,i,o){if("start"!==o)if(["top","bottom"].includes(i)){const i=Math.round(e.width)-Math.round(s.width);"center"===o?t.x-=Math.round(i/2):"end"===o&&(t.x-=i)}else{const i=Math.round(e.height)-Math.round(s.height);"center"===o?t.y-=Math.round(i/2):"end"===o&&(t.y-=i)}},getPopperPlacement(t,e,s,i,o){const n=e.top-s.top,r=s.right-e.right,a=s.bottom-e.bottom,h=e.left-s.left;if("top"===i){if(n<t.height+o&&a>n)return"bottom"}else if("right"===i){if(r<t.width+o&&h>r)return"left"}else if("bottom"===i){if(a<t.height+o&&n>a)return"top"}else if("left"===i){if(h<t.width+o&&r>h)return"right"}else if("auto"===i){const s=Math.max(n,a),i=Math.max(r,h),d=Math.min(n,a);if(i>s&&i>=t.width+o&&d+e.height>=t.height+o-Math.max(0,t.height-e.height))return h>r?"left":"right";const l=Math.min(r,h);if(s>=t.height+o&&l+e.width>=t.width+o-Math.max(0,t.width-e.width))return a>n?"bottom":"top";const c=Math.max(s,i);return a===c&&a>=t.height+o?"bottom":n===c&&n>=t.height+o?"top":r===c&&r>=t.width+o?"right":h===c&&h>=t.width+o?"left":"bottom"}return i},getPopperPosition(t,e,s,i,o){const n=t.width-e.width,r=t.height-e.height;if(["bottom","top"].includes(i)){const t=e.left-s.left,i=s.right-e.right;if("start"===o){if(i<n){if(t>=n/2&&i>=n/2)return"center";if(t>=n)return"end"}}else if("center"===o){if(t<n/2||i<n/2){if(i>=n)return"start";if(t>=n)return"end"}}else if("end"===o&&t<n){if(t>=n/2&&i>=n/2)return"center";if(i>=n)return"start"}}else{const t=e.top-s.top,i=s.bottom-e.bottom;if("start"===o){if(i<r){if(i>=r/2&&t>=r/2)return"center";if(t>=r)return"end"}}else if("center"===o){if(t<r/2||i<r/2){if(i>=r)return"start";if(t>=r)return"end"}}else if("end"===o&&t<r){if(t>=r/2&&i>=r/2)return"center";if(i>=r)return"start"}}return o},getRelativeParent:t=>i.closest(t,t=>"relative"===i.css(t,"position"),n.body).shift(),getScrollParent:t=>i.closest(t,t=>!!["overflow","overflowX","overflowY"].find(e=>!!["auto","scroll"].find(s=>new RegExp(s).test(i.css(t,e)))),n.body).shift(),isNodeHidden:(t,e,s,i)=>s.top>e.bottom+t.height+i||s.left>e.right+t.width+i||s.bottom<e.top-t.height-i||s.right<e.left-t.width-i,windowContainer(){const e=i.getScrollX(t),s=i.getScrollY(t),o=i.width(n),r=i.height(n);return{x:e,y:s,width:o,height:r,top:s,right:e+o,bottom:s+r,left:e}}}),g.defaults={reference:null,container:null,arrow:null,afterUpdate:null,beforeUpdate:null,placement:"bottom",position:"center",fixed:!1,spacing:0,minContact:null,useGpu:!0},f._poppers=[],f._popperOverflows=new Map,r.Popper=g,r.PopperSet=f,i.addEventDelegate(n,"mousedown.frost.ripple",".ripple",t=>{const e=i.position(t.currentTarget,!0);r.ripple(t.currentTarget,t.pageX-e.x,t.pageY-e.y)}),r.ripple=(t,e,s,o=500)=>{const n=i.width(t),r=i.height(t),a=6*Math.max(n,r),h=i.create("span",{class:"ripple-effect",style:{left:e,top:s}});i.append(t,h),i.animate(h,(t,e)=>{i.setStyle(t,{transform:"scale("+Math.floor(e*a)+")",opacity:1-Math.pow(e,2)})},{duration:o}).finally(t=>{i.remove(h)})};class u{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s);const o=r.getTargetSelector(this._node);this._target=i.findOne(o),this._siblings=i.siblings(this._node),i.setData(this._node,"tab",this)}destroy(){i.removeData(this._node,"tab")}hide(){!this._animating&&i.hasClass(this._target,"active")&&i.triggerOne(this._node,"hide.frost.tab")&&(this._animating=!0,i.fadeOut(this._target,{duration:this._settings.duration}).then(t=>{i.removeClass(this._target,"active"),i.removeClass(this._node,"active"),i.setAttribute(this._node,"aria-selected",!1),i.triggerEvent(this._node,"hidden.frost.tab")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){if(this._animating||i.hasClass(this._target,"active")||!i.triggerOne(this._node,"show.frost.tab"))return;const t=this._siblings.find(t=>i.hasClass(t,"active"));let e;if(t&&(e=this.constructor.init(t),e._animating))return;if(!i.triggerOne(this._node,"show.frost.tab"))return;const s=t=>{this._animating=!0,i.addClass(this._target,"active"),i.addClass(this._node,"active"),i.fadeIn(this._target,{duration:this._settings.duration}).then(t=>{i.setAttribute(this._node,"aria-selected",!0),i.triggerEvent(this._node,"shown.frost.tab")}).catch(t=>{}).finally(t=>{this._animating=!1})};if(!e)return s();i.triggerOne(t,"hide.frost.tab")&&(i.addEventOnce(t,"hidden.frost.tab",t=>{s()}),e.hide())}static init(t,e){return i.hasData(t,"tab")?i.getData(t,"tab"):new this(t,e)}}u.defaults={duration:100},i.addEventDelegate(n,"click.frost.tab",'[data-toggle="tab"]',t=>{t.preventDefault();u.init(t.currentTarget).show()}),o&&(o.prototype.tab=function(t,...s){let i,o;e.isObject(t)?i=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=u.init(t,i);o&&n[o](...s)}return this}),r.Tab=u,i.addEventDelegate(n,"input",".text-expand",t=>{const e=t.currentTarget;i.setStyle(e,"height","inherit");const s=i.css(e,"borderTop"),o=i.css(e,"borderBottom"),n=i.scrollHeight(e)+parseInt(s)+parseInt(o);i.setStyle(e,"height",n)});class m{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._settings.autohide&&setTimeout(t=>this.hide(),this._settings.delay),i.setData(this._node,"toast",this)}destroy(){i.removeData(this._node,"toast")}hide(){!this._animating&&i.isVisible(this._node)&&i.triggerOne(this._node,"hide.frost.toast")&&(this._animating=!0,i.fadeOut(this._node,{duration:this._settings.duration}).then(t=>{i.hide(this._node),i.removeClass(this._node,"show"),i.triggerEvent(this._node,"hidden.frost.toast")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){this._animating||i.isVisible(this._node)||!i.triggerOne(this._node,"show.frost.toast")||(this._animating=!0,i.show(this._node),i.addClass(this._node,"show"),i.fadeIn(this._node,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"shown.frost.toast")}).catch(t=>{}).finally(t=>{this._animating=!1}))}static init(t,e){return i.hasData(t,"toast")?i.getData(t,"toast"):new this(t,e)}}m.defaults={autohide:!0,delay:5e3,duration:100},i.addEventDelegate(n,"click.frost.toast",'[data-dismiss="toast"]',t=>{t.preventDefault();const e=r.getTarget(t.currentTarget,".toast");m.init(e,{autohide:!1}).hide()}),o&&(o.prototype.toast=function(t,...s){let i,o;e.isObject(t)?i=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=m.init(t,i);o&&n[o](...s)}return this}),r.Toast=m;class v{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,i.getDataset(this._node),s),this._modal=i.closest(this._node,".modal").shift(),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),i.setData(this._node,"tooltip",this)}destroy(){this._popper&&this._popper.destroy(),i.remove(this._tooltip),this._triggers.includes("hover")&&(i.removeEvent(this._node,"mouseover.frost.tooltip"),i.removeEvent(this._node,"mouseout.frost.tooltip")),this._triggers.includes("focus")&&(i.removeEvent(this._node,"focus.frost.tooltip"),i.removeEvent(this._node,"blur.frost.tooltip")),this._triggers.includes("click")&&i.removeEvent(this._node,"click.frost.tooltip"),this._modal&&i.removeEvent(this._modal,"hide.frost.modal",this._hideModalEvent),i.removeData(this._node,"tooltip",this)}disable(){this._enabled=!1}enable(){this._enabled=!0}hide(){this._animating&&i.stop(this._tooltip),i.isConnected(this._tooltip)&&i.triggerOne(this._node,"hide.frost.tooltip")&&(this._animating=!0,i.fadeOut(this._tooltip,{duration:this._settings.duration}).then(t=>{this._popper.destroy(),i.removeClass(this._tooltip,"show"),i.detach(this._tooltip),i.triggerEvent(this._node,"hidden.frost.tooltip")}).catch(t=>{}).finally(t=>{this._animating=!1}))}show(){this._animating&&i.stop(this._tooltip),!i.isConnected(this._tooltip)&&i.triggerOne(this._node,"show.frost.tooltip")&&(this._show(),this._animating=!0,i.addClass(this._tooltip,"show"),i.fadeIn(this._tooltip,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"shown.frost.tooltip")}).catch(t=>{}).finally(t=>{this._animating=!1}))}toggle(){i.isConnected(this._tooltip)?this.hide():this.show()}update(){this._popper&&this._popper.update()}static init(t,e){return i.hasData(t,"tooltip")?i.getData(t,"tooltip"):new this(t,e)}}return Object.assign(v.prototype,{_events(){this._triggers.includes("hover")&&(i.addEvent(this._node,"mouseover.frost.popover",t=>{this._enabled&&this.show()}),i.addEvent(this._node,"mouseout.frost.popover",t=>{this._enabled&&this.hide()})),this._triggers.includes("focus")&&(i.addEvent(this._node,"focus.frost.popover",t=>{this._enabled&&this.show()}),i.addEvent(this._node,"blur.frost.popover",t=>{this._enabled&&this.hide()})),this._triggers.includes("click")&&i.addEvent(this._node,"click.frost.popover",t=>{t.preventDefault(),this._enabled&&this.toggle()}),this._modal&&(this._hideModalEvent=t=>{this.hide()},i.addEvent(this._modal,"hide.frost.modal",this._hideModalEvent))},_render(){this._tooltip=i.parseHTML(this._settings.template).shift(),this._settings.customClass&&i.addClass(this._tooltip,this._settings.customClass),this._arrow=i.find(".tooltip-arrow",this._tooltip),this._tooltipInner=i.find(".tooltip-inner",this._tooltip)},_show(){const t=i.getAttribute(this._node,"title")||this._settings.title,e=this._settings.html?"setHTML":"setText";i[e](this._tooltipInner,this._settings.html&&this._settings.sanitize?this._settings.sanitize(t):t),this._container?i.append(this._container,this._tooltip):i.before(this._node,this._tooltip),this._popper=new g(this._tooltip,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),v.defaults={template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',customClass:null,duration:100,enable:!0,html:!1,trigger:"hover focus",sanitize:t=>i.sanitize(t),placement:"auto",position:"center",fixed:!1,spacing:2,minContact:!1},o&&(o.prototype.tooltip=function(t,...s){let i,o;e.isObject(t)?i=t:e.isString(t)&&(o=t);for(const t of this){if(!e.isElement(t))continue;const n=v.init(t,i);o&&n[o](...s)}return this}),r.Tooltip=v,{UI:r}}));
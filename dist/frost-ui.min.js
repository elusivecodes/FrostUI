!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e:Object.assign(t,e(t))}(window,(function(t){"use strict";if(!t)throw new Error("FrostUI requires a Window.");if(!("DOM"in t))throw new Error("FrostUI requires FrostDOM.");const e=t.Core,i=t.DOM,s=t.dom,o=t.QuerySet,n=t.document,r={};class h{constructor(t,i){this._node=t,this._settings=e.extend({},this.constructor.defaults,r.getDataset(this._node),i),s.addEvent(this._node,this.constructor.REMOVE_EVENT,t=>{this.dispose()}),s.setData(this._node,this.constructor.DATA_KEY,this)}dispose(){s.removeEvent(this._node,this.constructor.REMOVE_EVENT),s.removeData(this._node,this.constructor.DATA_KEY),this._node=null,this._settings=null}static init(t,...e){return s.hasData(t,this.DATA_KEY)?s.getData(t,this.DATA_KEY):new this(t,...e)}}r.BaseComponent=h,r.getDataset=t=>{const e=s.getDataset(t),i={};for(const t in e)if(/ui[A-Z]/.test(t)){i[t.slice(2,3).toLowerCase()+t.slice(3)]=e[t]}return i},r.getTarget=(t,e)=>{const i=r.getTargetSelector(t);let o;if(i&&"#"!==i?o=s.findOne(i):e&&(o=s.closest(t,e).shift()),!o)throw new Error("Target not found");return o},r.getTargetSelector=t=>s.getDataset(t,"uiTarget")||s.getAttribute(t,"href"),r.initComponent=(t,i)=>{i.DATA_KEY=t,i.REMOVE_EVENT="remove.ui."+t,o.prototype[t]=function(t,...s){let o,n,r;e.isObject(t)?o=t:e.isString(t)&&(n=t);for(const[t,h]of[...this].entries()){if(!e.isElement(h))continue;let a=i.init(h,o);n&&(a=a[n](...s)),0===t&&(r=a)}return r}};class a extends h{close(){return this._animating||!s.triggerOne(this._node,"close.ui.alert")||(this._animating=!0,s.fadeOut(this._node,{duration:this._settings.duration}).then(t=>{s.detach(this._node),s.triggerEvent(this._node,"closed.ui.alert"),s.remove(this._node)}).catch(t=>{}).finally(t=>{this._animating=!1})),this}}s.addEventDelegate(n,"click.ui.alert",'[data-ui-dismiss="alert"]',t=>{t.preventDefault();const e=r.getTarget(t.currentTarget,".alert");a.init(e).close()}),a.defaults={duration:100},r.initComponent("alert",a),r.Alert=a;class d extends h{toggle(){s.toggleClass(this._node,"active");const t=s.hasClass(this._node,"active");return s.setAttribute(this._node,"aria-pressed",t),this}}s.addEventDelegate(n,"click.ui.button",'[data-ui-toggle="button"]',t=>{t.preventDefault();d.init(t.currentTarget).toggle()}),d.defaults={},r.initComponent("button",d),r.Button=d;class l extends h{constructor(t,e){super(t,e),this._items=s.find(".carousel-item",this._node),this._index=this._items.findIndex(t=>s.hasClass(t,"active")),this._events(),"carousel"===this._settings.ride&&this._setTimer()}cycle(){return s.isHidden(n)?this._setTimer():this.slide(1),this}dispose(){this._timer&&clearTimeout(this._timer),this._settings.keyboard&&s.removeEvent(this._node,"keydown.ui.carousel"),this._settings.pause&&(s.removeEvent(this._node,"mouseenter.ui.carousel"),s.removeEvent(this._node,"mouseleave.ui.carousel")),this._items=null,super.dispose()}next(){return this.slide()}pause(){return clearTimeout(this._timer),this._timer=null,this}prev(){return this.slide(-1)}show(t){return this._show(t),this}slide(t=1){return this.show(this._index+t)}}s.addEvent(t,"load",t=>{const e=s.find('[data-ui-ride="carousel"]');for(const t of e)l.init(t)}),s.addEventDelegate(n,"click.ui.carousel","[data-ui-slide]",t=>{t.preventDefault();const e=r.getTarget(t.currentTarget,".carousel"),i=l.init(e);"prev"===s.getDataset(t.currentTarget,"uiSlide")?i.prev():i.next()}),s.addEventDelegate(n,"click.ui.carousel","[data-ui-slide-to]",t=>{t.preventDefault();const e=r.getTarget(t.currentTarget,".carousel"),i=l.init(e),o=s.getDataset(t.currentTarget,"uiSlideTo");i.show(o)}),Object.assign(l.prototype,{_events(){this._settings.keyboard&&s.addEvent(this._node,"keydown.ui.carousel",t=>{const e=t.target;if(!s.is(e,"input, select"))switch(t.code){case"ArrowLeft":t.preventDefault(),this.prev();break;case"ArrowRight":t.preventDefault(),this.next()}}),this._settings.pause&&(s.addEvent(this._node,"mouseenter.ui.carousel",t=>{this.pause()}),s.addEvent(this._node,"mouseleave.ui.carousel",t=>{this._setTimer()}))},_setTimer(){if(this._timer)return;const t=s.getDataset(this._items[this._index],"uiInterval");this._timer=setTimeout(t=>this.cycle(),t||this._settings.interval)},_show(t){if(this._sliding)return;if(t=parseInt(t),!this._settings.wrap&&(t<0||t>this._items.length-1))return;let e=0;if(t<0?e=-1:t>this._items.length-1&&(e=1),(t%=this._items.length)<0&&(t=this._items.length+t),t===this._index)return;const i=-1==e||0==e&&t<this._index?"left":"right",o={direction:i,relatedTarget:this._items[t],from:this._index,to:t};if(!s.triggerOne(this._node,"slide.ui.carousel",o))return;const n=this._index;this._index=t,this._sliding=!0,this.pause(),s.addClass(this._items[this._index],"active"),s.removeClass(this._items[n],"active"),s.animate(this._items[this._index],(t,e)=>this._update(t,this._items[n],e,i),{duration:this._settings.transition}).then(t=>{const e=s.find(".active[data-ui-slide-to]",this._node),i=s.find('[data-ui-slide-to="'+this._index+'"]',this._node);s.removeClass(e,"active"),s.addClass(i,"active"),s.triggerEvent(this._node,"slid.ui.carousel",o),this._setTimer()}).finally(t=>{this._sliding=!1})},_update(t,e,i,s){if(i>=1)return e.style.setProperty("display",""),e.style.setProperty("transform",""),void t.style.setProperty("transform","");const o="right"===s;e.style.setProperty("display","block"),e.style.setProperty("transform",`translateX(${Math.round(100*i)*(o?-1:1)}%)`),t.style.setProperty("transform",`translateX(${Math.round(100*(1-i))*(o?1:-1)}%)`)}}),l.defaults={interval:5e3,transition:500,keyboard:!0,ride:!1,pause:!0,wrap:!0},r.initComponent("carousel",l),r.Carousel=l;class p extends h{constructor(t,e){super(t,e);const i=this._node.getAttribute("id");this._triggers=s.find(`[data-ui-toggle="collapse"][data-ui-target="#${i}"]`),this._settings.parent&&(this._parent=s.findOne(this._settings.parent))}dispose(){this._triggers=null,this._parent=null,super.dispose()}hide(){return!this._animating&&s.hasClass(this._node,"show")&&s.triggerOne(this._node,"hide.ui.collapse")?(this._animating=!0,s.addClass(this._triggers,"collapsed"),s.squeezeOut(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then(t=>{s.removeClass(this._node,"show"),s.setAttribute(this._triggers,"aria-expanded",!1),s.triggerEvent(this._node,"hidden.ui.collapse")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this}show(){if(this._animating||s.hasClass(this._node,"show"))return this;const t=[];if(this._parent){const e=s.find(".collapse.show",this._parent);for(const i of e){const e=this.constructor.init(i);if(this._parent===e._parent){if(e._animating)return;t.push(e)}}}if(!s.triggerOne(this._node,"show.ui.collapse"))return this;for(const e of t)e.hide();return this._animating=!0,s.addClass(this._node,"show"),s.removeClass(this._triggers,"collapsed"),s.squeezeIn(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then(t=>{s.setAttribute(this._triggers,"aria-expanded",!0),s.triggerEvent(this._node,"shown.ui.collapse")}).catch(t=>{}).finally(t=>{this._animating=!1}),this}toggle(){return s.hasClass(this._node,"show")?this.hide():this.show()}}s.addEventDelegate(n,"click.ui.collapse",'[data-ui-toggle="collapse"]',t=>{t.preventDefault();const e=r.getTargetSelector(t.currentTarget),i=s.find(e);for(const t of i){p.init(t).toggle()}}),p.defaults={direction:"bottom",duration:250},r.initComponent("collapse",p),r.Collapse=p;class u extends h{constructor(t,e){super(t,e),this._menuNode=s.next(this._node,".dropdown-menu").shift(),this._settings.reference?"parent"===this._settings.reference?this._referenceNode=s.parent(this._node).shift():this._referenceNode=s.findOne(this._settings.reference):this._referenceNode=this._node,"static"!==this._settings.display&&s.closest(this._node,".navbar-nav").length&&(this._settings.display="static"),"dynamic"===this._settings.display&&(this._popper=new g(this._menuNode,{reference:this._referenceNode,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact}))}dispose(){this._popper&&(this._popper.dispose(),this._popper=null),this._menuNode=null,this._referenceNode=null,super.dispose()}hide(){return!this._animating&&s.hasClass(this._menuNode,"show")&&s.triggerOne(this._node,"hide.ui.dropdown")?(this._animating=!0,s.fadeOut(this._menuNode,{duration:this._settings.duration}).then(t=>{s.removeClass(this._menuNode,"show"),s.setAttribute(this._node,"aria-expanded",!1),s.triggerEvent(this._node,"hidden.ui.dropdown")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this}show(){return this._animating||s.hasClass(this._menuNode,"show")||!s.triggerOne(this._node,"show.ui.dropdown")||(this._animating=!0,s.addClass(this._menuNode,"show"),this.update(),s.fadeIn(this._menuNode,{duration:this._settings.duration}).then(t=>{s.setAttribute(this._node,"aria-expanded",!0),s.triggerEvent(this._node,"shown.ui.dropdown")}).catch(t=>{}).finally(t=>{this._animating=!1})),this}toggle(){return s.hasClass(this._menuNode,"show")?this.hide():this.show()}update(){return"dynamic"===this._settings.display&&this._popper.update(),this}static autoHide(t,e=!1){e||(e=s.is(t,"form"));const i=s.find(".dropdown-menu.show");for(const o of i){if(t&&s.hasDescendent(o,t)&&(e||s.closest(t,"form",o).length))continue;const i=s.prev(o).shift();if(s.isSame(t,i))continue;this.init(i).hide()}}}s.addEventDelegate(n,"click.ui.dropdown keyup.ui.dropdown",'[data-ui-toggle="dropdown"]',t=>{if(t.code&&"Space"!==t.code)return;t.preventDefault();u.init(t.currentTarget).toggle()}),s.addEventDelegate(n,"keydown.ui.dropdown",'[data-ui-toggle="dropdown"]',t=>{switch(t.code){case"ArrowDown":case"ArrowUp":t.preventDefault();const e=t.currentTarget,i=u.init(e);s.hasClass(i._menuNode,"show")||i.show();const o=s.findOne('.dropdown-item:not([tabindex="-1"])',i._menuNode);s.focus(o)}}),s.addEventDelegate(n,"keydown.ui.dropdown",".dropdown-menu.show .dropdown-item",t=>{let e;switch(t.code){case"ArrowDown":e=s.nextAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').shift();break;case"ArrowUp":e=s.prevAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').pop();break;default:return}t.preventDefault(),s.focus(e)}),s.addEvent(n,"click.ui.dropdown",t=>{u.autoHide(t.target)}),s.addEvent(n,"keyup.ui.dropdown",t=>{switch(t.code){case"Tab":u.autoHide(t.target,!0);break;case"Escape":u.autoHide()}}),u.defaults={display:"dynamic",duration:100,placement:"bottom",position:"start",fixed:!1,spacing:3,minContact:!1},r.initComponent("dropdown",u),r.Dropdown=u;class _ extends h{constructor(t,e){super(t,e),this._dialog=s.child(this._node,".modal-dialog").shift(),s.hasClass(this._node,"modal-left")?this._direction="left":s.hasClass(this._node,"modal-right")?this._direction="right":this._direction="top",this._settings.show&&this.show()}dispose(){this._dialog=null,this._activeTarget=null,this._backdrop=null,super.dispose()}hide(){return!this._animating&&s.hasClass(this._node,"show")&&s.triggerOne(this._node,"hide.ui.modal")?(this._animating=!0,Promise.all([s.fadeOut(this._dialog,{duration:this._settings.duration}),s.dropOut(this._dialog,{duration:this._settings.duration,direction:this._direction}),s.fadeOut(this._backdrop,{duration:this._settings.duration})]).then(t=>{s.removeAttribute(this._node,"aria-modal"),s.setAttribute(this._node,"aria-hidden",!0),s.removeClass(this._node,"show"),s.removeClass(n.body,"modal-open"),this._settings.backdrop&&(s.remove(this._backdrop),this._backdrop=null),this._activeTarget&&s.focus(this._activeTarget),s.triggerEvent(this._node,"hidden.ui.modal")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this}show(t){return this._animating||s.hasClass(this._node,"show")||!s.triggerOne(this._node,"show.ui.modal")||(this._activeTarget=t,this._animating=!0,s.addClass(this._node,"show"),s.addClass(n.body,"modal-open"),this._settings.backdrop&&(this._backdrop=s.create("div",{class:"modal-backdrop"}),s.append(n.body,this._backdrop)),Promise.all([s.fadeIn(this._dialog,{duration:this._settings.duration}),s.dropIn(this._dialog,{duration:this._settings.duration,direction:this._direction}),s.fadeIn(this._backdrop,{duration:this._settings.duration})]).then(t=>{s.removeAttribute(this._node,"aria-hidden"),s.setAttribute(this._node,"aria-modal",!0),this._settings.focus&&s.focus(this._node),s.triggerEvent(this._node,"shown.ui.modal")}).catch(t=>{}).finally(t=>{this._animating=!1})),this}toggle(){return s.hasClass(this._node,"show")?this.hide():this.show()}}s.addEventDelegate(n,"click.ui.modal",'[data-ui-toggle="modal"]',t=>{t.preventDefault();const e=r.getTarget(t.currentTarget,".modal");_.init(e).show(t.currentTarget)}),s.addEventDelegate(n,"click.ui.modal",'[data-ui-dismiss="modal"]',t=>{t.preventDefault();const e=r.getTarget(t.currentTarget,".modal");_.init(e).hide()}),s.addEvent(n,"click.ui.modal",t=>{if(!s.findOne(".modal-backdrop"))return;const e=s.find(".modal.show");for(const i of e){if(i!==t.target&&s.hasDescendent(i,t.target))continue;const e=_.init(i);"static"!==e._settings.backdrop&&e.hide()}}),s.addEvent(n,"keyup.ui.modal",t=>{if("Escape"!==t.code)return;const e=s.find(".modal.show");for(const t of e){const e=_.init(t);e._settings.keyboard&&e.hide()}}),_.defaults={duration:250,backdrop:!0,focus:!0,show:!1,keyboard:!0},r.initComponent("modal",_),r.Modal=_;class c extends h{constructor(t,e){super(t,e),this._modal=s.closest(this._node,".modal").shift(),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),this.refresh()}dispose(){if(s.hasDataset(this._node,"uiOriginalTitle")){const t=s.getDataset(this._node,"uiOriginalTitle");s.setAttribute(this._node,"title",t),s.removeDataset(this._node,"uiOriginalTitle")}this._popper&&(this._popper.dispose(),this._popper=null),s.remove(this._popover),this._triggers.includes("hover")&&(s.removeEvent(this._node,"mouseover.ui.popover"),s.removeEvent(this._node,"mouseout.ui.popover")),this._triggers.includes("focus")&&(s.removeEvent(this._node,"focus.ui.popover"),s.removeEvent(this._node,"blur.ui.popover")),this._triggers.includes("click")&&s.removeEvent(this._node,"click.ui.popover"),this._modal&&s.removeEvent(this._modal,"hide.ui.modal",this._hideModalEvent),this._modal=null,this._triggers=null,this._popover=null,this._popoverHeader=null,this._popoverBody=null,this._arrow=null,super.dispose()}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}hide(){return this._enabled?(this._animating&&s.stop(this._popover),s.isConnected(this._popover)&&s.triggerOne(this._node,"hide.ui.popover")?(this._animating=!0,s.fadeOut(this._popover,{duration:this._settings.duration}).then(t=>{this._popper.dispose(),this._popper=null,s.removeClass(this._popover,"show"),s.detach(this._popover),s.triggerEvent(this._node,"hidden.ui.popover")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this):this}refresh(){if(s.hasAttribute(this._node,"title")){const t=s.getAttribute(this._node,"title");s.setDataset(this._node,"uiOriginalTitle",t),s.removeAttribute(this._node,"title")}let t="";s.hasDataset(this._node,"uiTitle")?t=s.getDataset(this._node,"uiTitle"):this._settings.title?t=this._settings.title:s.hasDataset(this._node,"uiOriginalTitle")&&(t=s.getDataset(this._node,"uiOriginalTitle",t));let e="";s.hasDataset(this._node,"uiContent")?e=s.getDataset(this._node,"uiContent"):this._settings.content&&(e=this._settings.content);const i=this._settings.html?"setHTML":"setText";return s[i](this._popoverHeader,this._settings.html&&this._settings.sanitize?this._settings.sanitize(t):t),t?s.show(this._popoverHeader):s.hide(this._popoverHeader),s[i](this._popoverBody,this._settings.html&&this._settings.sanitize?this._settings.sanitize(e):e),this.update()}show(){return this._enabled?(this._animating&&s.stop(this._popover),s.isConnected(this._popover)||!s.triggerOne(this._node,"show.ui.popover")||(this._animating=!0,s.addClass(this._popover,"show"),this.refresh(),this._show(),s.fadeIn(this._popover,{duration:this._settings.duration}).then(t=>{s.triggerEvent(this._node,"shown.ui.popover")}).catch(t=>{}).finally(t=>{this._animating=!1})),this):this}toggle(){return s.isConnected(this._popover)?this.hide():this.show()}update(){return this._popper&&this._popper.update(),this}}Object.assign(c.prototype,{_events(){this._triggers.includes("hover")&&(s.addEvent(this._node,"mouseover.ui.popover",t=>{this.show()}),s.addEvent(this._node,"mouseout.ui.popover",t=>{this.hide()})),this._triggers.includes("focus")&&(s.addEvent(this._node,"focus.ui.popover",t=>{this.show()}),s.addEvent(this._node,"blur.ui.popover",t=>{this.hide()})),this._triggers.includes("click")&&s.addEvent(this._node,"click.ui.popover",t=>{t.preventDefault(),this.toggle()}),this._modal&&s.addEvent(this._modal,"hide.ui.modal",t=>{this.hide()})}}),Object.assign(c.prototype,{_render(){this._popover=s.parseHTML(this._settings.template).shift(),this._settings.customClass&&s.addClass(this._popover,this._settings.customClass),this._arrow=s.find(".popover-arrow",this._popover),this._popoverHeader=s.find(".popover-header",this._popover),this._popoverBody=s.find(".popover-body",this._popover)},_show(){this._settings.appendTo?s.append(this._settings.appendTo,this._popover):s.after(this._node,this._popover),this._popper=new g(this._popover,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),c.defaults={template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',customClass:null,duration:100,enable:!0,html:!1,appendTo:null,sanitize:t=>s.sanitize(t),trigger:"click",placement:"auto",position:"center",fixed:!1,spacing:3,minContact:!1},r.initComponent("popover",c),r.Popover=c;class g extends h{constructor(e,i){super(e,i),s.setStyle(this._node,{margin:0,position:"absolute",top:0,right:"initial",bottom:"initial",left:0}),this._resetStyle={},this._settings.useGpu?this._resetStyle.transform="":(this._resetStyle.marginLeft="",this._resetStyle.marginTop=""),m.add(this),this._scrollParent=this.constructor._getScrollParent(this._node),this._scrollParent&&m.addOverflow(this._scrollParent,this),t.requestAnimationFrame(t=>{this.update()}),this.update()}dispose(){m.remove(this),this._scrollParent&&m.removeOverflow(this._scrollParent,this),this._resetStyle=null,this._scrollParent=null,super.dispose()}update(){if(!s.isConnected(this._node))return this;s.setStyle(this._node,this._resetStyle),this._settings.beforeUpdate&&this._settings.beforeUpdate(this._node,this._settings.reference);const t=s.rect(this._node,!0),e=s.rect(this._settings.reference,!0),i=this.constructor._windowContainer();if(this.constructor._isNodeHidden(t,e,i,this._settings.spacing))return this;const o=this._scrollParent?s.rect(this._scrollParent,!0):null,n=this._settings.container?s.rect(this._settings.container,!0):null,r={...i};o&&(r.top=Math.max(r.top,o.top),r.right=Math.min(r.right,o.right),r.bottom=Math.min(r.bottom,o.bottom),r.left=Math.max(r.left,o.left)),n&&(r.top=Math.max(r.top,n.top),r.right=Math.min(r.right,n.right),r.bottom=Math.min(r.bottom,n.bottom),r.left=Math.max(r.left,n.left)),(o||n)&&(r.x=r.left,r.y=r.top,r.width=r.right-r.left,r.height=r.bottom-r.top);const h=this._settings.fixed?this._settings.placement:this.constructor._getPopperPlacement(t,e,r,this._settings.placement,this._settings.spacing+2);s.setDataset(this._settings.reference,"uiPlacement",h),s.setDataset(this._node,"uiPlacement",h);const a="auto"!==this._settings.position?this._settings.position:this.constructor._getPopperPosition(t,e,r,h,this._settings.position),d={x:Math.round(e.x),y:Math.round(e.y)},l=this.constructor._getRelativeParent(this._node),p=l?s.rect(l,!0):null;p&&(d.x-=Math.round(p.x),d.y-=Math.round(p.y)),this.constructor._adjustPlacement(d,t,e,h,this._settings.spacing),this.constructor._adjustPosition(d,t,e,h,a),d.x-=parseInt(s.css(this._node,"margin-left")),d.y-=parseInt(s.css(this._node,"margin-top")),this.constructor._adjustConstrain(d,t,e,r,p,h,this._settings.minContact),this._scrollParent&&(d.x+=s.getScrollX(this._scrollParent),d.y+=s.getScrollY(this._scrollParent));const u={};if(this._settings.useGpu?u.transform="translate3d("+d.x+"px , "+d.y+"px , 0)":(u.marginLeft=d.x,u.marginTop=d.y),s.setStyle(this._node,u),this._settings.arrow){const t=s.rect(this._node,!0);this._updateArrow(t,e,h,a)}return this._settings.afterUpdate&&this._settings.afterUpdate(this._node,this._settings.reference,h,a),this}}class m{static add(e){this._poppers.push(e),this._running||(s.addEvent(t,"resize.ui.popper scroll.ui.popper",i.debounce(t=>{for(const t of this._poppers)t.update()})),this._running=!0)}static addOverflow(t,e){this._popperOverflows.has(t)||(this._popperOverflows.set(t,[]),s.addEvent(t,"scroll.ui.popper",i.debounce(e=>{for(const e of this._popperOverflows.get(t))e.update()}))),this._popperOverflows.get(t).push(e)}static remove(e){this._poppers=this._poppers.filter(t=>t!==e),this._poppers.length||(s.removeEvent(t,"resize.ui.popper scroll.ui.popper"),this._running=!1)}static removeOverflow(t,e){if(!this._popperOverflows.has(t))return;const i=this._popperOverflows.get(t).filter(t=>t!==e);i.length?this._popperOverflows.set(t,i):(this._popperOverflows.delete(t),s.removeEvent(t,"scroll.ui.popper"))}}Object.assign(g.prototype,{_updateArrow(t,i,o,n){const r={position:"absolute",top:"",right:"",bottom:"",left:""};s.setStyle(this._settings.arrow,r);const h=s.rect(this._settings.arrow,!0);if(["top","bottom"].includes(o)){r["top"===o?"bottom":"top"]=-h.height;const s=(i.width-t.width)/2;let a=t.width/2-h.width/2;"start"===n?a+=s:"end"===n&&(a-=s);let d=Math.max(i.left,t.left)-h.left,l=Math.min(i.right,t.right)-h.left-h.width;i.width<h.width&&(d-=h.width/2-i.width/2,l-=h.width/2-i.width/2),r.left=e.clamp(a,d,l)}else{r["right"===o?"left":"right"]=-h.width;const s=(i.height-t.height)/2;let a=t.height/2-h.height;"start"===n?a+=s:"end"===n&&(a-=s);let d=Math.max(i.top,t.top)-h.top,l=Math.min(i.bottom,t.bottom)-h.top-h.height;i.height<2*h.height&&(d-=h.height-i.height/2,l-=h.height-i.height/2),r.top=e.clamp(a,d,l)}s.setStyle(this._settings.arrow,r)}}),Object.assign(g,{_adjustConstrain(t,e,i,s,o,n,r){if(["left","right"].includes(n)){let n=t.y,h=i.top;o&&(n+=o.top,h-=o.top);const a=!1!==r?r:i.height;if(n+e.height>s.bottom){const i=n+e.height-s.bottom;t.y=Math.max(h-e.height+a,t.y-i)}else if(n<s.top){const e=n-s.top;t.y=Math.min(h+i.height-a,t.y-e)}}else{let n=t.x,h=i.left;o&&(n+=o.left,h-=o.left);const a=!1!==r?r:i.width;if(n+e.width>s.right){const i=n+e.width-s.right;t.x=Math.max(h-e.width+a,t.x-i)}else if(n<s.left){const e=n-s.left;t.x=Math.min(h+i.width-a,t.x-e)}}},_adjustPlacement(t,e,i,s,o){"top"===s?t.y-=Math.round(e.height)+o:"right"===s?t.x+=Math.round(i.width)+o:"bottom"===s?t.y+=Math.round(i.height)+o:"left"===s&&(t.x-=Math.round(e.width)+o)},_adjustPosition(t,e,i,s,o){if("start"!==o)if(["top","bottom"].includes(s)){const s=Math.round(e.width)-Math.round(i.width);"center"===o?t.x-=Math.round(s/2):"end"===o&&(t.x-=s)}else{const s=Math.round(e.height)-Math.round(i.height);"center"===o?t.y-=Math.round(s/2):"end"===o&&(t.y-=s)}},_getPopperPlacement(t,e,i,s,o){const n=e.top-i.top,r=i.right-e.right,h=i.bottom-e.bottom,a=e.left-i.left;if("top"===s){if(n<t.height+o&&h>n)return"bottom"}else if("right"===s){if(r<t.width+o&&a>r)return"left"}else if("bottom"===s){if(h<t.height+o&&n>h)return"top"}else if("left"===s){if(a<t.width+o&&r>a)return"right"}else if("auto"===s){const i=Math.max(n,h),s=Math.max(r,a),d=Math.min(n,h);if(s>i&&s>=t.width+o&&d+e.height>=t.height+o-Math.max(0,t.height-e.height))return a>r?"left":"right";const l=Math.min(r,a);if(i>=t.height+o&&l+e.width>=t.width+o-Math.max(0,t.width-e.width))return h>n?"bottom":"top";const p=Math.max(i,s);return h===p&&h>=t.height+o?"bottom":n===p&&n>=t.height+o?"top":r===p&&r>=t.width+o?"right":a===p&&a>=t.width+o?"left":"bottom"}return s},_getPopperPosition(t,e,i,s,o){const n=t.width-e.width,r=t.height-e.height;if(["bottom","top"].includes(s)){const t=e.left-i.left,s=i.right-e.right;if("start"===o){if(s<n){if(t>=n/2&&s>=n/2)return"center";if(t>=n)return"end"}}else if("center"===o){if(t<n/2||s<n/2){if(s>=n)return"start";if(t>=n)return"end"}}else if("end"===o&&t<n){if(t>=n/2&&s>=n/2)return"center";if(s>=n)return"start"}}else{const t=e.top-i.top,s=i.bottom-e.bottom;if("start"===o){if(s<r){if(s>=r/2&&t>=r/2)return"center";if(t>=r)return"end"}}else if("center"===o){if(t<r/2||s<r/2){if(s>=r)return"start";if(t>=r)return"end"}}else if("end"===o&&t<r){if(t>=r/2&&s>=r/2)return"center";if(s>=r)return"start"}}return o},_getRelativeParent:t=>s.closest(t,t=>"relative"===s.css(t,"position"),n.body).shift(),_getScrollParent:t=>s.closest(t,t=>!!["overflow","overflowX","overflowY"].find(e=>!!["auto","scroll"].find(i=>new RegExp(i).test(s.css(t,e)))),n.body).shift(),_isNodeHidden:(t,e,i,s)=>i.top>e.bottom+t.height+s||i.left>e.right+t.width+s||i.bottom<e.top-t.height-s||i.right<e.left-t.width-s,_windowContainer(){const e=s.getScrollX(t),i=s.getScrollY(t),o=s.width(n),r=s.height(n);return{x:e,y:i,width:o,height:r,top:i,right:e+o,bottom:i+r,left:e}}}),g.defaults={reference:null,container:null,arrow:null,afterUpdate:null,beforeUpdate:null,placement:"bottom",position:"center",fixed:!1,spacing:0,minContact:null,useGpu:!0},m._poppers=[],m._popperOverflows=new Map,r.initComponent("popper",g),r.Popper=g,r.PopperSet=m;class f extends h{constructor(t,e){super(t,e);const i=r.getTargetSelector(this._node);this._target=s.findOne(i),this._siblings=s.siblings(this._node)}dispose(){this._target=null,this._siblings=null,super.dispose()}hide(){return!this._animating&&s.hasClass(this._target,"active")&&s.triggerOne(this._node,"hide.ui.tab")?(this._animating=!0,s.fadeOut(this._target,{duration:this._settings.duration}).then(t=>{s.removeClass(this._target,"active"),s.removeClass(this._node,"active"),s.setAttribute(this._node,"aria-selected",!1),s.triggerEvent(this._node,"hidden.ui.tab")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this}show(){if(this._animating||s.hasClass(this._target,"active")||!s.triggerOne(this._node,"show.ui.tab"))return this;const t=this._siblings.find(t=>s.hasClass(t,"active"));let e;if(t&&(e=this.constructor.init(t),e._animating))return this;if(!s.triggerOne(this._node,"show.ui.tab"))return this;const i=t=>{this._animating=!0,s.addClass(this._target,"active"),s.addClass(this._node,"active"),s.fadeIn(this._target,{duration:this._settings.duration}).then(t=>{s.setAttribute(this._node,"aria-selected",!0),s.triggerEvent(this._node,"shown.ui.tab")}).catch(t=>{}).finally(t=>{this._animating=!1})};return e?s.triggerOne(t,"hide.ui.tab")?(s.addEventOnce(t,"hidden.ui.tab",t=>{i()}),e.hide(),this):this:(i(),this)}}s.addEventDelegate(n,"click.ui.tab",'[data-ui-toggle="tab"]',t=>{t.preventDefault();f.init(t.currentTarget).show()}),f.defaults={duration:100},r.initComponent("tab",f),r.Tab=f;class v extends h{constructor(t,e){super(t,e),this._settings.autohide&&setTimeout(t=>this.hide(),this._settings.delay)}hide(){return!this._animating&&s.isVisible(this._node)&&s.triggerOne(this._node,"hide.ui.toast")?(this._animating=!0,s.fadeOut(this._node,{duration:this._settings.duration}).then(t=>{s.setStyle(this._node,"display","none",!0),s.removeClass(this._node,"show"),s.triggerEvent(this._node,"hidden.ui.toast")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this}show(){return this._animating||s.isVisible(this._node)||!s.triggerOne(this._node,"show.ui.toast")||(this._animating=!0,s.setStyle(this._node,"display",""),s.addClass(this._node,"show"),s.fadeIn(this._node,{duration:this._settings.duration}).then(t=>{s.triggerEvent(this._node,"shown.ui.toast")}).catch(t=>{}).finally(t=>{this._animating=!1})),this}}s.addEventDelegate(n,"click.ui.toast",'[data-ui-dismiss="toast"]',t=>{t.preventDefault();const e=r.getTarget(t.currentTarget,".toast");v.init(e,{autohide:!1}).hide()}),v.defaults={autohide:!0,delay:5e3,duration:100},r.initComponent("toast",v),r.Toast=v;class w extends h{constructor(t,e){super(t,e),this._modal=s.closest(this._node,".modal").shift(),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),this.refresh()}dispose(){if(s.hasDataset(this._node,"uiOriginalTitle")){const t=s.getDataset(this._node,"uiOriginalTitle");s.setAttribute(this._node,"title",t),s.removeDataset(this._node,"uiOriginalTitle")}this._popper&&(this._popper.dispose(),this._popper=null),s.remove(this._tooltip),this._triggers.includes("hover")&&(s.removeEvent(this._node,"mouseover.ui.tooltip"),s.removeEvent(this._node,"mouseout.ui.tooltip")),this._triggers.includes("focus")&&(s.removeEvent(this._node,"focus.ui.tooltip"),s.removeEvent(this._node,"blur.ui.tooltip")),this._triggers.includes("click")&&s.removeEvent(this._node,"click.ui.tooltip"),this._modal&&s.removeEvent(this._modal,"hide.ui.modal"),this._modal=null,this._triggers=null,this._tooltip=null,this._tooltipInner=null,this._arrow=null,super.dispose()}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}hide(){return this._enabled?(this._animating&&s.stop(this._tooltip),s.isConnected(this._tooltip)&&s.triggerOne(this._node,"hide.ui.tooltip")?(this._animating=!0,s.fadeOut(this._tooltip,{duration:this._settings.duration}).then(t=>{this._popper.dispose(),this._popper=null,s.removeClass(this._tooltip,"show"),s.detach(this._tooltip),s.triggerEvent(this._node,"hidden.ui.tooltip")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this):this}refresh(){if(s.hasAttribute(this._node,"title")){const t=s.getAttribute(this._node,"title");s.setDataset(this._node,"uiOriginalTitle",t),s.removeAttribute(this._node,"title")}let t="";s.hasDataset(this._node,"uiTitle")?t=s.getDataset(this._node,"uiTitle"):this._settings.title?t=this._settings.title:s.hasDataset(this._node,"uiOriginalTitle")&&(t=s.getDataset(this._node,"uiOriginalTitle",t));const e=this._settings.html?"setHTML":"setText";return s[e](this._tooltipInner,this._settings.html&&this._settings.sanitize?this._settings.sanitize(t):t),this.update()}show(){return this._enabled?(this._animating&&s.stop(this._tooltip),s.isConnected(this._tooltip)||!s.triggerOne(this._node,"show.ui.tooltip")||(this._animating=!0,s.addClass(this._tooltip,"show"),this.refresh(),this._show(),s.fadeIn(this._tooltip,{duration:this._settings.duration}).then(t=>{s.triggerEvent(this._node,"shown.ui.tooltip")}).catch(t=>{}).finally(t=>{this._animating=!1})),this):this}toggle(){return s.isConnected(this._tooltip)?this.hide():this.show()}update(){return this._popper&&this._popper.update(),this}}return Object.assign(w.prototype,{_events(){this._triggers.includes("hover")&&(s.addEvent(this._node,"mouseover.ui.tooltip",t=>{this.show()}),s.addEvent(this._node,"mouseout.ui.tooltip",t=>{this.hide()})),this._triggers.includes("focus")&&(s.addEvent(this._node,"focus.ui.tooltip",t=>{this.show()}),s.addEvent(this._node,"blur.ui.tooltip",t=>{this.hide()})),this._triggers.includes("click")&&s.addEvent(this._node,"click.ui.tooltip",t=>{t.preventDefault(),this.toggle()}),this._modal&&s.addEvent(this._modal,"hide.ui.modal",t=>{this.hide()})}}),Object.assign(w.prototype,{_render(){this._tooltip=s.parseHTML(this._settings.template).shift(),this._settings.customClass&&s.addClass(this._tooltip,this._settings.customClass),this._arrow=s.find(".tooltip-arrow",this._tooltip),this._tooltipInner=s.find(".tooltip-inner",this._tooltip)},_show(){this._settings.appendTo?s.append(this._settings.appendTo,this._tooltip):s.after(this._node,this._tooltip),this._popper=new g(this._tooltip,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),w.defaults={template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',customClass:null,duration:100,enable:!0,html:!1,trigger:"hover focus",appendTo:null,sanitize:t=>s.sanitize(t),placement:"auto",position:"center",fixed:!1,spacing:2,minContact:!1},r.initComponent("tooltip",w),r.Tooltip=w,s.addEventDelegate(n,"click",'[data-ui-toggle="clipboard"]',t=>{t.preventDefault();const i=t.currentTarget,o=e.extend({action:"copy",text:!1},r.getDataset(i));if(!["copy","cut"].includes(o.action))throw new Error("Invalid clipboard action");let h,a;if(o.text)h=o.text;else{const t=r.getTarget(i);s.is(t,"input, textarea")?a=t:h=s.getText(t)}const d=!a;d&&(a=s.create("textarea",{class:"visually-hidden position-fixed",value:h}),s.append(n.body,a)),s.select(a),s.exec(o.action)&&s.triggerEvent(i,"copied.ui.clipboard",{detail:{action:o.action,text:s.getValue(a)}}),d&&s.remove(a)}),s.addEventDelegate(n,"mousedown.ui.ripple",".ripple",t=>{const e=s.position(t.currentTarget,!0);r.ripple(t.currentTarget,t.pageX-e.x,t.pageY-e.y)}),r.ripple=(t,e,i,o=500)=>{const n=s.width(t),r=s.height(t),h=3*Math.max(n,r),a=s.create("span",{class:"ripple-effect",style:{left:e,top:i}});s.append(t,a),s.animate(a,(t,e)=>{s.setStyle(t,{transform:"scale("+Math.floor(e*h)+")",opacity:1-Math.pow(e,2)})},{duration:o}).finally(t=>{s.remove(a)})},s.addEventDelegate(n,"input.ui.text-expand",".text-expand",t=>{const e=t.currentTarget;s.setStyle(e,"height","inherit");const i=s.css(e,"borderTop"),o=s.css(e,"borderBottom"),n=s.scrollHeight(e)+parseInt(i)+parseInt(o);s.setStyle(e,"height",n)}),{UI:r}}));
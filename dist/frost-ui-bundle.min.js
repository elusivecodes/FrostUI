!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e:e(t)}(this,(function(t){"use strict";var e,s;return"object"==typeof module&&(module.exports=null),e=this||t,s=function(t){const e={diff:(t,...s)=>(s=s.map(e.unique),t.filter(t=>!s.some(e=>e.includes(t)))),intersect:(...t)=>e.unique(t.reduce((s,i,o)=>(i=e.unique(i),e.merge(s,i.filter(e=>t.every((t,s)=>o==s||t.includes(e))))),[])),merge:(t=[],...e)=>e.reduce((e,s)=>(Array.prototype.push.apply(e,s),t),t),randomValue:t=>t.length?t[e.randomInt(t.length)]:null,range:(t,s,i=1)=>{const o=Math.sign(s-t);return new Array(Math.abs(s-t)/i+1|0).fill().map((s,r)=>t+e.toStep(r*i*o,i))},unique:t=>Array.from(new Set(t)),wrap:t=>e.isUndefined(t)?[]:e.isArray(t)?t:e.isArrayLike(t)?e.merge([],t):[t],animation:(s,i)=>{let o,r,n;const a=(...t)=>{r=t,n||(i&&s(...r),n=!0,o=e._requestAnimationFrame(t=>{i||s(...r),n=!1,o=null}))};return a.cancel=e=>{o&&("requestAnimationFrame"in t?t.cancelAnimationFrame(o):clearTimeout(o),n=!1,o=null)},a},compose:(...t)=>e=>t.reduceRight((t,e)=>e(t),e),curry:t=>{const e=(...s)=>s.length>=t.length?t(...s):(...t)=>e(...s.concat(t));return e},debounce:(t,e=0,s=!1,i=!0)=>{let o,r,n;const a=(...a)=>{const h=Date.now(),d=r?h-r:null;if(s&&(null===d||d>=e))return r=h,void t(...a);n=a,i&&(o&&clearTimeout(o),o=setTimeout(e=>{r=Date.now(),t(...n),o=null},e))};return a.cancel=t=>{o&&(clearTimeout(o),o=null)},a},evaluate:t=>e.isFunction(t)?t():t,once:t=>{let e,s;return(...i)=>(e||(e=!0,s=t(...i)),s)},partial:(t,...s)=>(...i)=>t(...s.slice().map(t=>e.isUndefined(t)?i.shift():t).concat(i)),pipe:(...t)=>e=>t.reduce((t,e)=>e(t),e),throttle:(t,e=0,s=!0,i=!0)=>{let o,r,n,a;const h=(...h)=>{const d=Date.now(),l=r?d-r:null;if(s&&(null===l||l>=e))return r=d,void t(...h);n=h,!a&&i&&(a=!0,o=setTimeout(e=>{r=Date.now(),t(...n),a=!1,o=null},null===l?e:e-l))};return h.cancel=t=>{o&&(clearTimeout(o),a=!1,o=null)},h},times:(t,e)=>{for(;e--&&!1!==t(););}};return e._requestAnimationFrame="requestAnimationFrame"in t?(...e)=>t.requestAnimationFrame(...e):t=>setTimeout(t,1e3/60),e._splitString=t=>(""+t).split(/[^a-zA-Z0-9']|(?=[A-Z])/).reduce((t,e)=>((e=e.replace(/[^\w]/,"").toLowerCase())&&t.push(e),t),[]),e.clamp=(t,e=0,s=1)=>Math.max(e,Math.min(s,t)),e.clampPercent=t=>e.clamp(t,0,100),e.dist=(t,s,i,o)=>e.len(t-i,s-o),e.inverseLerp=(t,e,s)=>(s-t)/(e-t),e.len=Math.hypot,e.lerp=(t,e,s)=>t*(1-s)+e*s,e.map=(t,e,s,i,o)=>(t-e)*(o-i)/(s-e)+i,e.random=(t=1,s=null)=>e.isNull(s)?Math.random()*t:e.map(Math.random(),0,1,t,s),e.randomInt=(t=1,s=null)=>0|e.random(t,s),e.toStep=(t,e=.01)=>parseFloat((Math.round(t/e)*e).toFixed((""+e).replace("d*.?/","").length)),e.extend=(t,...s)=>s.reduce((t,s)=>{for(const i in s)e.isArray(s[i])?t[i]=e.extend(e.isArray(t[i])?t[i]:[],s[i]):e.isPlainObject(s[i])?t[i]=e.extend(e.isPlainObject(t[i])?t[i]:{},s[i]):t[i]=s[i];return t},t),e.forgetDot=(t,s)=>{const i=s.split(".");for(;(s=i.shift())&&e.isObject(t)&&s in t;)i.length?t=t[s]:delete t[s]},e.getDot=(t,s,i)=>{const o=s.split(".");for(;s=o.shift();){if(!e.isObject(t)||!(s in t))return i;t=t[s]}return t},e.hasDot=(t,s)=>{const i=s.split(".");for(;s=i.shift();){if(!e.isObject(t)||!(s in t))return!1;t=t[s]}return!0},e.pluckDot=(t,s,i)=>t.map(t=>e.getDot(t,s,i)),e.setDot=(t,s,i,o=!0)=>{const r=s.split(".");for(;s=r.shift();){if("*"===s){for(const s in t)e.setDot(t,[s].concat(r).join("."),i,o);return}r.length?(e.isObject(t[s])&&s in t||(t[s]={}),t=t[s]):!o&&s in t||(t[s]=i)}},e.camelCase=t=>e._splitString(t).map((t,s)=>s?e.capitalize(t):t).join(""),e.capitalize=t=>t.charAt(0).toUpperCase()+t.substring(1).toLowerCase(),e.escape=t=>t.replace(e._escapeRegExp,t=>e._escapeChars[t]),e.escapeRegExp=t=>t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.humanize=t=>e.capitalize(e._splitString(t).join(" ")),e.kebabCase=t=>e._splitString(t).join("-").toLowerCase(),e.pascalCase=t=>e._splitString(t).map(t=>t.charAt(0).toUpperCase()+t.substring(1)).join(""),e.randomString=(t=16,s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWYXZ0123456789")=>new Array(t).fill().map(t=>s[0|e.random(s.length)]).join(""),e.snakeCase=t=>e._splitString(t).join("_").toLowerCase(),e.unescape=t=>t.replace(e._unescapeRegExp,(t,s)=>e._unescapeChars[s]),e.isArray=Array.isArray,e.isArrayLike=t=>e.isArray(t)||e.isObject(t)&&!e.isFunction(t)&&!e.isWindow(t)&&!e.isElement(t)&&(Symbol.iterator in t&&e.isFunction(t[Symbol.iterator])||"length"in t&&e.isNumeric(t.length)&&(!t.length||t.length-1 in t)),e.isBoolean=t=>t===!!t,e.isDocument=t=>!!t&&t.nodeType===e.DOCUMENT_NODE,e.isElement=t=>!!t&&t.nodeType===e.ELEMENT_NODE,e.isFragment=t=>!!t&&t.nodeType===e.DOCUMENT_FRAGMENT_NODE&&!t.host,e.isFunction=t=>"function"==typeof t,e.isNaN=Number.isNaN,e.isNode=t=>!!t&&(t.nodeType===e.ELEMENT_NODE||t.nodeType===e.TEXT_NODE||t.nodeType===e.COMMENT_NODE),e.isNull=t=>null===t,e.isNumeric=t=>!isNaN(parseFloat(t))&&isFinite(t),e.isPlainObject=t=>!!t&&t.constructor===Object,e.isObject=t=>!!t&&t===Object(t),e.isShadow=t=>!!t&&t.nodeType===e.DOCUMENT_FRAGMENT_NODE&&!!t.host,e.isString=t=>t===""+t,e.isUndefined=t=>void 0===t,e.isWindow=t=>!!t&&!!t.document&&t.document.defaultView===t,e.ELEMENT_NODE=1,e.TEXT_NODE=3,e.COMMENT_NODE=8,e.DOCUMENT_NODE=9,e.DOCUMENT_FRAGMENT_NODE=11,e._escapeRegExp=/[&<>"']/g,e._unescapeRegExp=/\&(amp|lt|gt|quot|apos);/g,e._escapeChars={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},e._unescapeChars={amp:"&",lt:"<",gt:">",quot:'"',apos:"'"},e},"object"==typeof module&&"object"==typeof module.exports?module.exports=s(e):e.Core=s(e),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e:Object.assign(t,e(t))}(this||t,(function(t){if(!t)throw new Error("FrostDOM requires a Window.");if(!("Core"in t))throw new Error("FrostDOM requires FrostCore.");const e=t.Core,s=t.document;let i;class o{constructor(s){this._options=e.extend({},this.constructor.defaults,s),this._options.url||(this._options.url=t.location.href),this._options.cache||(this._options.url=this.constructor.appendQueryString(this._options.url,"_",Date.now())),!("Content-Type"in this._options.headers)&&this._options.contentType&&(this._options.headers["Content-Type"]=this._options.contentType),null===this._options.isLocal&&(this._options.isLocal=this.constructor._localRegExp.test(location.protocol)),this._options.isLocal||"X-Requested-With"in this._options.headers||(this._options.headers["X-Requested-With"]="XMLHttpRequest"),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this.promise=new Promise((t,e)=>{this._resolve=e=>{this._isResolved=!0,t(e)},this._reject=t=>{this._isRejected=!0,e(t)}}),this._build(),this._events(),this._send()}cancel(t="Request was cancelled"){this._isResolved||this._isRejected||this._isCancelled||(this._xhr.abort(),this._isCancelled=!0,this._options.rejectOnCancel&&this._reject({status:this._xhr.status,xhr:this._xhr,reason:t}))}catch(t){return this.promise.catch(t)}finally(t){return this.promise.finally(t)}then(t,e){return this.promise.then(t,e)}}class r{constructor(){this.data={headers:{}},this.status=200,this.timeout=0,this.upload={},this._response="Test"}abort(){clearTimeout(this._uploadTimer),clearTimeout(this._progressTimer),clearTimeout(this._completeTimer)}open(t,e,s=!0,i,o){this.data.method=t,this.data.url=e,this.data.async=s,this.data.username=i,this.data.password=o}overrideMimeType(t){this.data.mimeType=t}send(t=null){this.data.body=t,this.responseType&&(this.data.responseType=this.responseType),this.timeout&&(this.data.timeout=this.timeout),this.upload&&this.upload.onprogress&&(this._uploadTimer=setTimeout(t=>{this._uploadTimer=null;const e=new Event("progress");e.loaded=5e3,e.total=1e4,this.upload.onprogress(e)},10)),this.onprogress&&(this._progressTimer=setTimeout(t=>{this._progressTimer=null;const e=new Event("progress");e.loaded=500,e.total=1e3,this.onprogress(e)},10)),this._completeTimer=setTimeout(t=>{if(this._completeTimer=null,this.forceError){if(this.onerror){const t=new Event("error");this.onerror(t)}}else if(this.data.status=this.status,this.response=this._response,this.onload){const t=new Event("load");this.onload(t)}},20)}setRequestHeader(t,e){this.data.headers[t]=e}}Object.assign(o.prototype,{_build(){this._xhr=this.constructor.useMock?new r:new XMLHttpRequest,this._xhr.open(this._options.method,this._options.url,!0,this._options.username,this._options.password);for(const t in this._options.headers)this._xhr.setRequestHeader(t,this._options.headers[t]);this._options.responseType&&(this._xhr.responseType=this._options.responseType),this._options.mimeType&&this._xhr.overrideMimeType(this._options.mimeType),this._options.timeout&&(this._xhr.timeout=this._options.timeout)},_events(){this._xhr.onload=t=>{this._xhr.status>400?this._reject({status:this._xhr.status,xhr:this._xhr,event:t}):this._resolve({response:this._xhr.response,xhr:this._xhr,event:t})},this._isLocal||(this._xhr.onerror=t=>this._reject({status:this._xhr.status,xhr:this._xhr,event:t})),this._options.onProgress&&(this._xhr.onprogress=t=>this._options.onProgress(t.loaded/t.total,this._xhr,t)),this._options.onUploadProgress&&(this._xhr.upload.onprogress=t=>this._options.onUploadProgress(t.loaded/t.total,this._xhr,t))},_send(){this._options.beforeSend&&this._options.beforeSend(this._xhr),this._options.data&&this._options.processData&&e.isObject(this._options.data)&&("application/json"===this._options.contentType?this._options.data=JSON.stringify(this._options.data):"application/x-www-form-urlencoded"===this._options.contentType?this._options.data=this.constructor._parseParams(this._options.data):this._options.data=this.constructor._parseFormData(this._options.data)),this._xhr.send(this._options.data),this._options.afterSend&&this._options.afterSend(this._xhr)}}),Object.assign(o,{appendQueryString(e,s,i){const o=(t.location.origin+t.location.pathname).replace(/\/$/,""),r=new URL(e,o);r.searchParams.append(s,i);let n=r.toString();if(n.substring(0,e.length)===e)return n;const a=n.indexOf(e);return n.substring(a)},_parseFormData(t){const e=this._parseValues(t),s=new FormData;for(const[t,i]of e)"[]"===t.substring(t.length-2)?s.append(t,i):s.set(t,i);return s},_parseParams(t){const e=this._parseValues(t).map(([t,e])=>`${t}=${e}`).join("&");return encodeURI(e)},_parseValue(t,s){if(e.isArray(s)){"[]"!==t.substring(t.length-2)&&(t+="[]");const e=[];for(const i of s)e.push(...this._parseValue(t,i));return e}if(e.isObject(s)){const e=[];for(const i in s)e.push(...this._parseValue(`${t}[${i}]`,s[i]));return e}return[[t,s]]},_parseValues(t){if(e.isArray(t)){const e=[];for(const s of t)e.push(...this._parseValue(s.name,s.value));return e}if(e.isObject(t)){const e=[];for(const s in t)e.push(...this._parseValue(s,t[s]));return e}return t}}),Object.assign(o,{defaults:{afterSend:null,beforeSend:null,cache:!0,contentType:"application/x-www-form-urlencoded",data:null,headers:{},isLocal:null,method:"GET",onProgress:null,onUploadProgress:null,processData:!0,rejectOnCancel:!0,responseType:null,url:null},useMock:!1,_localRegExp:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/}),Object.setPrototypeOf(o.prototype,Promise.prototype);class n{constructor(t,e,i){this._node=t,this._callback=e,this._options={...this.constructor.defaults,...i},"start"in this._options||(this._options.start=s.timeline?s.timeline.currentTime:performance.now()),this._options.debug&&(this._node.dataset.animationStart=this._options.start),this.promise=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.constructor._animations.has(t)?this.constructor._animations.get(t).push(this):this.constructor._animations.set(t,[this])}catch(t){return this.promise.catch(t)}finally(t){return this.promise.finally(t)}stop(t=!0){const e=this.constructor._animations.get(this._node).filter(t=>t!==this);e.length?this.constructor._animations.set(this._node,e):this.constructor._animations.delete(this._node),this.update(!0,t)}then(t,e){return this.promise.then(t,e)}update(t=!1,i=!1){if(t&&!i)return this._reject(this._node),!0;const o=s.timeline?s.timeline.currentTime:performance.now();let r;return i?r=1:(r=(o-this._options.start)/this._options.duration,this._options.infinite?r%=1:r=e.clamp(r),"ease-in"===this._options.type?r=r**2:"ease-out"===this._options.type?r=Math.sqrt(r):"ease-in-out"===this._options.type&&(r=r<=.5?r**2*2:1-(1-r)**2*2)),this._options.debug&&(this._node.dataset.animationNow=o,this._node.dataset.animationProgress=r),this._callback(this._node,r,this._options),r<1?void 0:(this._options.debug&&(delete this._node.dataset.animationStart,delete this._node.dataset.animationNow,delete this._node.dataset.animationProgress),this._resolve(this._node),!0)}}class a{constructor(t){this._animations=t,this.promise=Promise.all(t)}catch(t){return this.promise.catch(t)}finally(t){return this.promise.finally(t)}stop(t=!0){for(const e of this._animations)e.stop(t)}then(t,e){return this.promise.then(t,e)}}Object.assign(n,{clone(t,e){if(!this._animations.has(t))return;const s=this._animations.get(t).map(t=>new n(e,t._callback,t._options));this._animations.set(e,s)},start(){this._animating||(this._animating=!0,this.update())},stop(t,e=!0){if(!this._animations.has(t))return;const s=this._animations.get(t);for(const t of s)t.update(!0,e);this._animations.delete(t)},update(){for(let[t,e]of this._animations)e=e.filter(t=>!t.update()),e.length?this._animations.set(t,e):this._animations.delete(t);this._animations.size?this.useTimeout?setTimeout(t=>this.update(),1e3/60):t.requestAnimationFrame(t=>this.update()):this._animating=!1}}),Object.assign(n,{defaults:{duration:1e3,type:"ease-in-out",infinite:!1,debug:!1},useTimeout:!1,_animating:!1,_animations:new Map}),Object.setPrototypeOf(n.prototype,Promise.prototype),Object.setPrototypeOf(a.prototype,Promise.prototype);class h{constructor(t=s){if(!e.isDocument(t))throw new Error("Invalid document");this._context=t}}Object.assign(h.prototype,{animate(t,e,s){const i=(t=this.parseNodes(t)).map(t=>new n(t,e,s));return n.start(),new a(i)},stop(t,e=!0){t=this.parseNodes(t);for(const s of t)n.stop(s,e)}}),Object.assign(h.prototype,{dropIn(t,e){return this.slideIn(t,{direction:"top",...e})},dropOut(t,e){return this.slideOut(t,{direction:"top",...e})},fadeIn(t,e){return this.animate(t,(t,e)=>t.style.setProperty("opacity",e<1?e.toFixed(2):""),e)},fadeOut(t,e){return this.animate(t,(t,e)=>t.style.setProperty("opacity",e<1?(1-e).toFixed(2):""),e)},rotateIn(t,e){return this.animate(t,(t,e,s)=>{const i=((90-90*e)*(s.inverse?-1:1)).toFixed(2);t.style.setProperty("transform",e<1?`rotate3d(${s.x}, ${s.y}, ${s.z}, ${i}deg)`:"")},{x:0,y:1,z:0,...e})},rotateOut(t,e){return this.animate(t,(t,e,s)=>{const i=(90*e*(s.inverse?-1:1)).toFixed(2);t.style.setProperty("transform",e<1?`rotate3d(${s.x}, ${s.y}, ${s.z}, ${i}deg)`:"")},{x:0,y:1,z:0,...e})},slideIn(t,s){return this.animate(t,(t,s,i)=>{if(1===s)return t.style.setProperty("overflow",""),void(i.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));const o=e.evaluate(i.direction);let r,n,a;["top","bottom"].includes(o)?(r=i.useGpu?"Y":"margin-top",n=this.constructor._height(t),a="top"===o):(r=i.useGpu?"X":"margin-left",n=this.constructor._width(t),a="left"===o);const h=((n-n*s)*(a?-1:1)).toFixed(2);i.useGpu?t.style.setProperty("transform",`translate${r}(${h}px)`):t.style.setProperty(r,h+"px")},{direction:"bottom",useGpu:!0,...s})},slideOut(t,s){return this.animate(t,(t,s,i)=>{if(1===s)return t.style.setProperty("overflow",""),void(i.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));const o=e.evaluate(i.direction);let r,n,a;["top","bottom"].includes(o)?(r=i.useGpu?"Y":"margin-top",n=this.constructor._height(t),a="top"===o):(r=i.useGpu?"X":"margin-left",n=this.constructor._width(t),a="left"===o);const h=(n*s*(a?-1:1)).toFixed(2);i.useGpu?t.style.setProperty("transform",`translate${r}(${h}px)`):t.style.setProperty(r,h+"px")},{direction:"bottom",useGpu:!0,...s})},squeezeIn(t,s){t=this.parseNodes(t),s={direction:"bottom",useGpu:!0,...s};const i=t.map(t=>{const i=t.style.height,o=t.style.width;return t.style.setProperty("overflow","hidden"),new n(t,(t,s,r)=>{if(t.style.setProperty("height",i),t.style.setProperty("width",o),1===s)return t.style.setProperty("overflow",""),void(r.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));const n=e.evaluate(r.direction);let a,d;["top","bottom"].includes(n)?(a="height","top"===n&&(d=r.useGpu?"Y":"margin-top")):(a="width","left"===n&&(d=r.useGpu?"X":"margin-left"));const l=h["_"+a](t),c=(l*s).toFixed(2);if(t.style.setProperty(a,c+"px"),d){const e=(l-c).toFixed(2);r.useGpu?t.style.setProperty("transform",`translate${d}(${e}px)`):t.style.setProperty(d,e+"px")}},s)});return n.start(),new a(i)},squeezeOut(t,s){t=this.parseNodes(t),s={direction:"bottom",useGpu:!0,...s};const i=t.map(t=>{const i=t.style.height,o=t.style.width;return t.style.setProperty("overflow","hidden"),new n(t,(t,s,r)=>{if(t.style.setProperty("height",i),t.style.setProperty("width",o),1===s)return t.style.setProperty("overflow",""),void(r.useGpu?t.style.setProperty("transform",""):(t.style.setProperty("margin-left",""),t.style.setProperty("margin-top","")));const n=e.evaluate(r.direction);let a,d;["top","bottom"].includes(n)?(a="height","top"===n&&(d=r.useGpu?"Y":"margin-top")):(a="width","left"===n&&(d=r.useGpu?"X":"margin-left"));const l=h["_"+a](t),c=(l-l*s).toFixed(2);if(t.style.setProperty(a,c+"px"),d){const e=(l-c).toFixed(2);r.useGpu?t.style.setProperty("transform",`translate${d}(${e}px)`):t.style.setProperty(d,e+"px")}},s)});return n.start(),new a(i)}}),Object.assign(h.prototype,{clearQueue(t,e="default"){t=this.parseNodes(t);for(const s of t)this.constructor._clearQueue(s,e)},queue(t,e,s="default"){t=this.parseNodes(t);for(const i of t)this.constructor._queue(i,e,s)}}),Object.assign(h.prototype,{getAttribute(t,e){const s=this.parseNode(t);if(s)return e?s.getAttribute(e):this.constructor._getAttributes(s,e)},getDataset(t,s){const i=this.parseNode(t);if(!i)return;if(s)return s=e.camelCase(s),this.constructor._parseDataset(i.dataset[s]);const o={};for(const t in i.dataset)o[t]=this.constructor._parseDataset(i.dataset[t]);return o},getHTML(t){return this.getProperty(t,"innerHTML")},getProperty(t,e){const s=this.parseNode(t);if(s)return s[e]},getText(t){return this.getProperty(t,"textContent")},getValue(t){return this.getProperty(t,"value")},removeAttribute(t,e){t=this.parseNodes(t);for(const s of t)s.removeAttribute(e)},removeDataset(t,s){t=this.parseNodes(t);for(const i of t)s=e.camelCase(s),delete i.dataset[s]},removeProperty(t,e){t=this.parseNodes(t);for(const s of t)delete s[e]},setAttribute(t,e,s){t=this.parseNodes(t);const i=this.constructor._parseData(e,s);for(const e of t)this.constructor._setAttributes(e,i)},setDataset(t,e,s){t=this.parseNodes(t);const i=this.constructor._parseData(e,s,!0);for(const e of t)this.constructor._setDataset(e,i)},setHTML(t,e){this.empty(t),this.setProperty(t,"innerHTML",e)},setProperty(t,e,s){t=this.parseNodes(t);const i=this.constructor._parseData(e,s);for(const e of t)for(const t in i)e[t]=i[t]},setText(t,e){this.empty(t),this.setProperty(t,"textContent",e)},setValue(t,e){this.setProperty(t,"value",e)}}),Object.assign(h.prototype,{cloneData(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{fragment:!0,shadow:!0,document:!0,window:!0});for(const s of t)for(const t of e)this.constructor._cloneData(s,t)},getData(t,e){const s=this.parseNode(t,{fragment:!0,shadow:!0,document:!0,window:!0});if(s)return this.constructor._getData(s,e)},removeData(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0});for(const s of t)this.constructor._removeData(s,e)},setData(t,e,s){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0});const i=this.constructor._parseData(e,s);for(const e of t)this.constructor._setData(e,i)}}),Object.assign(h.prototype,{center(t,e){const s=this.rect(t,e);if(s)return{x:s.left+s.width/2,y:s.top+s.height/2}},constrain(e,s){const i=this.rect(s);if(!i)return;e=this.parseNodes(e);const o=this.width(this._context,h.SCROLL_BOX)>this.width(t),r=this.height(this._context,h.SCROLL_BOX)>this.height(t);for(const t of e){const e=this.constructor._rect(t),s={};let o,r;if(e.height>i.height&&(s.height=i.height),e.width>i.width&&(s.width=i.width),e.left-i.left<0?o=e.left-i.left:e.right-i.right>0&&(o=e.right-i.right),o){const e=this.constructor._css(t,"left"),i=e&&"auto"!==e?parseFloat(e):0;s.left=i-o+"px"}if(e.top-i.top<0?r=e.top-i.top:e.bottom-i.bottom>0&&(r=e.bottom-i.bottom),r){const e=this.constructor._css(t,"top"),i=e&&"auto"!==e?parseFloat(e):0;s.top=i-r+"px"}"static"===this.constructor._css(t,"position")&&(s.position="relative"),this.constructor._setStyles(t,s)}const n=this.width(this._context,h.SCROLL_BOX)>this.width(t),a=this.height(this._context,h.SCROLL_BOX)>this.height(t);o===n&&r===a||this.constrain(e,s)},distTo(t,s,i,o){const r=this.center(t,o);if(r)return e.dist(r.x,r.y,s,i)},distToNode(t,e){const s=this.center(e);if(s)return this.distTo(t,s.x,s.y)},nearestTo(t,e,s,i){let o,r=Number.MAX_VALUE;t=this.parseNodes(t);for(const n of t){const t=this.distTo(n,e,s,i);t&&t<r&&(r=t,o=n)}return o},nearestToNode(t,e){const s=this.center(e);if(s)return this.nearestTo(t,s.x,s.y)},percentX(t,s,i,o=!0){const r=this.rect(t,i);if(!r)return;const n=(s-r.left)/r.width*100;return o?e.clampPercent(n):n},percentY(t,s,i,o=!0){const r=this.rect(t,i);if(!r)return;const n=(s-r.top)/r.height*100;return o?e.clampPercent(n):n},position(t,e){const s=this.parseNode(t);if(s)return this.constructor._forceShow(s,t=>{const s={x:t.offsetLeft,y:t.offsetTop};if(e){let e=t;for(;e=e.offsetParent;)s.x+=e.offsetLeft,s.y+=e.offsetTop}return s})},rect(t,e){const s=this.parseNode(t);if(s)return this.constructor._rect(s,e)}}),Object.assign(h.prototype,{getScrollX(t){const s=this.parseNode(t,{document:!0,window:!0});if(s)return e.isWindow(s)?s.scrollX:e.isDocument(s)?s.scrollingElement.scrollLeft:s.scrollLeft},getScrollY(t){const s=this.parseNode(t,{document:!0,window:!0});if(s)return e.isWindow(s)?s.scrollY:e.isDocument(s)?s.scrollingElement.scrollTop:s.scrollTop},setScroll(t,s,i){t=this.parseNodes(t,{document:!0,window:!0});for(const o of t)e.isWindow(o)?o.scroll(s,i):e.isDocument(o)?(o.scrollingElement.scrollLeft=s,o.scrollingElement.scrollTop=i):(o.scrollLeft=s,o.scrollTop=i)},setScrollX(t,s){t=this.parseNodes(t,{document:!0,window:!0});for(const i of t)e.isWindow(i)?i.scroll(s,i.scrollY):e.isDocument(i)?i.scrollingElement.scrollLeft=s:i.scrollLeft=s},setScrollY(t,s){t=this.parseNodes(t,{document:!0,window:!0});for(const i of t)e.isWindow(i)?i.scroll(i.scrollX,s):e.isDocument(i)?i.scrollingElement.scrollTop=s:i.scrollTop=s}}),Object.assign(h.prototype,{height(t,s){const i=this.parseNode(t,{document:!0,window:!0});if(i)return e.isWindow(i)?s?i.outerHeight:i.innerHeight:(e.isUndefined(s)&&(s=this.constructor.PADDING_BOX),this.constructor._height(i,s))},width(t,s){const i=this.parseNode(t,{document:!0,window:!0});if(i)return e.isWindow(i)?s?i.outerWidth:i.innerWidth:(e.isUndefined(s)&&(s=this.constructor.PADDING_BOX),this.constructor._width(i,s))}}),Object.assign(h.prototype,{addClass(t,...e){if(t=this.parseNodes(t),(e=this.constructor._parseClasses(e)).length)for(const s of t)s.classList.add(...e)},css(t,e){const s=this.parseNode(t);if(s)return this.constructor._css(s,e)},getStyle(t,s){const i=this.parseNode(t);if(!i)return;if(s)return s=e.kebabCase(s),i.style[s];const o={};for(const t of i.style)o[t]=i.style[t];return o},hide(t){this.setStyle(t,"display","none")},removeClass(t,...e){if(t=this.parseNodes(t),(e=this.constructor._parseClasses(e)).length)for(const s of t)s.classList.remove(...e)},setStyle(t,e,s,i){t=this.parseNodes(t);const o=this.constructor._parseData(e,s);for(const e of t)this.constructor._setStyles(e,o,i)},show(t){this.setStyle(t,"display","")},toggle(t){t=this.parseNodes(t);for(const e of t)e.style.setProperty("display","none"===e.style.display?"":"none")},toggleClass(t,...e){if(t=this.parseNodes(t),(e=this.constructor._parseClasses(e)).length)for(const s of t)for(const t of e)s.classList.toggle(t)}}),Object.assign(h.prototype,{getCookie(t){const e=this._context.cookie.split(";").find(e=>e.trimStart().substring(0,t.length)===t).trimStart();return e?decodeURIComponent(e.substring(t.length+1)):null},removeCookie(t,e){if(!t)return;let s=t+"=;expires=Thu, 01 Jan 1970 00:00:00 UTC";e&&(e.path&&(s+=";path="+e.path),e.secure&&(s+=";secure")),this._context.cookie=s},setCookie(t,e,s){if(!t)return;let i=`${t}=${e}`;if(s){if(s.expires){const t=new Date;t.setTime(t.getTime()+1e3*s.expires),i+=";expires="+t.toUTCString()}s.path&&(i+=";path="+s.path),s.secure&&(i+=";secure")}this._context.cookie=i}}),Object.assign(h.prototype,{mouseDragFactory(e,s,i,o=!0){return s&&o&&(s=this.constructor.debounce(s),i&&(i=this.constructor.debounce(i))),o=>{if(e&&!1===e(o))return!1;s&&this.addEvent(t,"mousemove",s),(s||i)&&this.addEventOnce(t,"mouseup",e=>{s&&this.removeEvent(t,"mousemove",s),i&&i(e)})}}}),Object.assign(h.prototype,{blur(t){const e=this.parseNode(t);e&&e.blur()},click(t){const e=this.parseNode(t);e&&e.click()},focus(t){const e=this.parseNode(t);e&&e.focus()},ready(e){"complete"!==this._context.readyState?t.addEventListener("DOMContentLoaded",e,{once:!0}):e()}}),Object.assign(h.prototype,{addEvent(t,e,s,i,o){t=this.parseNodes(t,{shadow:!0,document:!0,window:!i});for(const r of t)for(const t of this.constructor._parseEvents(e))this.constructor._addEvent(r,t,s,i,o)},addEventDelegate(t,e,s,i){this.addEvent(t,e,i,s)},addEventDelegateOnce(t,e,s,i){this.addEvent(t,e,i,s,!0)},addEventOnce(t,e,s){this.addEvent(t,e,s,null,!0)},cloneEvents(t,e){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.parseNodes(e,{shadow:!0,document:!0,window:!0});for(const s of t)for(const t of e)this.constructor._cloneEvents(s,t)},removeEvent(t,e,s,i){t=this.parseNodes(t,{shadow:!0,document:!0,window:!i}),e=!!e&&this.constructor._parseEvents(e);for(const o of t)if(this.constructor._events.has(o))if(e)for(const t of e)this.constructor._removeEvent(o,t,s,i);else this.constructor._removeEvent(o,e,s,i)},removeEventDelegate(t,e,s,i){this.removeEvent(t,e,i,s)},triggerEvent(t,e,s){t=this.parseNodes(t,{shadow:!0,document:!0,window:!0}),e=this.constructor._parseEvents(e);for(const i of t)for(const t of e)this.constructor._triggerEvent(i,t,s)},triggerOne(t,e,s){const i=this.parseNode(t,{shadow:!0,document:!0,window:!0});return this.constructor._triggerEvent(i,e,s)}}),Object.assign(h.prototype,{attachShadow(t,e=!0){const s=this.parseNode(t);if(s)return s.attachShadow({mode:e?"open":"closed"})},create(t="div",s){const i=this._context.createElement(t);if(!s)return i;if("html"in s?i.innerHTML=s.html:"text"in s&&(i.textContent=s.text),"class"in s&&i.classList.add(...this.constructor._parseClasses(e.wrap(s.class))),"style"in s&&this.constructor._setStyles(i,s.style),"value"in s&&(i.value=s.value),"attributes"in s&&this.constructor._setAttributes(i,s.attributes),"properties"in s)for(const t in s.properties)i[t]=s.properties[t];if("dataset"in s){const t=this.constructor._parseData(s.dataset,null,!0);this.constructor._setDataset(i,t)}return i},createComment(t){return this._context.createComment(t)},createFragment(){return this._context.createDocumentFragment()},createRange(){return this._context.createRange()},createText(t){return this._context.createTextNode(t)},parseHTML(t){return e.wrap(this.createRange().createContextualFragment(t).children)}}),Object.assign(h.prototype,{clone(t,e){return e={deep:!0,...e},(t=this.parseNodes(t,{node:!0,fragment:!0})).map(t=>this.constructor._clone(t,e))},detach(t){t=this.parseNodes(t,{node:!0});for(const e of t)e.remove();return t},empty(t){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0});for(const e of t)this.constructor._empty(e)},remove(t){t=this.parseNodes(t,{node:!0});for(const e of t)this.constructor._remove(e),e.remove()},replaceAll(t,e){this.replaceWith(e,t)},replaceWith(t,s){t=this.parseNodes(t,{node:!0}),s=this.parseNodes(s,{node:!0,fragment:!0,html:!0});const i=this.createFragment();for(const t of s)i.insertBefore(t,null);s=e.wrap(i.childNodes);const o=(t=t.filter(e=>!s.includes(e)&&!t.some(t=>!t.isSameNode(e)&&t.contains(e))))[t.length-1];for(const e of t){const t=e.parentNode;if(t)for(const i of s)t.insertBefore(e.isSameNode(o)?i:this.constructor._clone(i,{deep:!0,events:!0,data:!0,animations:!0}),e)}for(const e of t)this.constructor._remove(e),e.remove()}}),Object.assign(h.prototype,{after(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();const s=t[t.length-1];for(const i of t){const t=i.parentNode;if(t)for(const o of e)t.insertBefore(i.isSameNode(s)?o:this.constructor._clone(o,{deep:!0,events:!0,data:!0,animations:!0}),i.nextSibling)}},append(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});const s=t[t.length-1];for(const i of t)for(const t of e)i.insertBefore(i.isSameNode(s)?t:this.constructor._clone(t,{deep:!0,events:!0,data:!0,animations:!0}),null)},appendTo(t,e){this.append(e,t)},before(t,e){t=this.parseNodes(t,{node:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});const s=t[t.length-1];for(const i of t){const t=i.parentNode;if(t)for(const o of e)t.insertBefore(i.isSameNode(s)?o:this.constructor._clone(o,{deep:!0,events:!0,data:!0,animations:!0}),i)}},insertAfter(t,e){this.after(e,t)},insertBefore(t,e){this.before(e,t)},prepend(t,e){t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}),e=this.parseNodes(e,{node:!0,fragment:!0,html:!0});const s=t[t.length-1];for(const i of t){const t=i.firstChild;for(const o of e)i.insertBefore(i.isSameNode(s)?o:this.constructor._clone(o,{deep:!0,events:!0,data:!0,animations:!0}),t)}},prependTo(t,e){this.prepend(e,t)}}),Object.assign(h.prototype,{unwrap(t,s){t=this.parseNodes(t,{node:!0}),s=this.parseFilter(s);const i=[];for(const e of t){const t=e.parentNode;t&&(i.includes(t)||s&&!s(t)||i.push(t))}for(const t of i){const s=t.parentNode;if(!s)continue;const i=e.wrap(t.childNodes);for(const e of i)s.insertBefore(e,t);this.constructor._remove(t),t.remove()}},wrap(t,s){t=this.parseNodes(t,{node:!0}),s=this.parseNodes(s,{fragment:!0,html:!0});for(const i of t){const t=i.parentNode;if(!t)continue;const o=s.map(t=>this.constructor._clone(t,{deep:!0,events:!0,data:!0,animations:!0})),r=o.slice().shift(),n=this.constructor._deepest(e.isFragment(r)?r.firstChild:r);for(const e of o)t.insertBefore(e,i);n.insertBefore(i,null)}},wrapAll(t,s){t=this.parseNodes(t,{node:!0}),s=this.parseNodes(s,{fragment:!0,html:!0});const i=this.clone(s,{events:!0,data:!0,animations:!0}),o=t[0];if(!o)return;const r=o.parentNode;if(!r)return;const n=i[0],a=this.constructor._deepest(e.isFragment(n)?n.firstChild:n);for(const t of i)r.insertBefore(t,o);for(const e of t)a.insertBefore(e,null)},wrapInner(t,s){t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}),s=this.parseNodes(s,{fragment:!0,html:!0});for(const i of t){const t=e.wrap(i.childNodes),o=s.map(t=>this.constructor._clone(t,{deep:!0,events:!0,data:!0,animatinos:!0})),r=o.slice().shift(),n=this.constructor._deepest(e.isFragment(r)?r.firstChild:r);for(const t of o)i.insertBefore(t,null);for(const e of t)n.insertBefore(e,null)}}}),Object.assign(h.prototype,{query(t,s=null,i=!1){if(e.isFunction(t))return this.ready(t);const o=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0,html:!0,context:s||this._context});return i?new d(o,this):new l(o,this)},queryMutable(t,e=null){return this.query(t,e,!0)},queryOne(t,e=null,s=!1){const i=[this.parseNode(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0,html:!0,context:e||this._context})].filter(t=>t);return s?new d(i,this):new l(i,this)},queryOneMutable(t,e=null){return this.queryOne(t,e,!0)}}),Object.assign(h.prototype,{loadScript(t,e,s=!0){return e={src:t,type:"text/javascript",...e},s||(e.src=o.appendQueryString(e.src,"_",Date.now())),new Promise((t,s)=>{const i=this.create("script",{attributes:e});i.onload=e=>t(),i.onerror=t=>s(),this._context.head.appendChild(i)})},loadScripts(t,s=!0){return Promise.all(t.map(t=>e.isString(t)?this.loadScript(t,null,s):this.loadScript(null,t,s)))}}),Object.assign(h.prototype,{loadStyle(t,e,s=!0){return e={href:t,rel:"stylesheet",...e},s||(e.href=o.appendQueryString(e.href,"_",Date.now())),new Promise((t,s)=>{const i=this.create("link",{attributes:e});i.onload=e=>t(),i.onerror=t=>s(),this._context.head.appendChild(i)})},loadStyles(t,s=!0){return Promise.all(t.map(t=>e.isString(t)?this.loadStyle(t,null,s):this.loadStyle(null,t,s)))}}),Object.assign(h.prototype,{connected(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter(t=>t.isConnected)},equal(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter(t=>e.some(e=>t.isEqualNode(e)))},filter(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((t,s)=>!e||e(t,s))},filterOne(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find((t,s)=>!e||e(t,s))||null},fixed(t){return this.parseNodes(t,{node:!0}).filter(t=>e.isElement(t)&&"fixed"===this.constructor._css(t,"position")||this.constructor._parents(t,t=>e.isElement(t)&&"fixed"===this.constructor._css(t,"position"),!1,!0).length)},hidden(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter(t=>!this.constructor._isVisible(t))},not(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter((t,s)=>e&&!e(t,s))},notOne(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).find((t,s)=>e&&!e(t,s))||null},same(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).filter(t=>e.some(e=>t.isSameNode(e)))},visible(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).filter(t=>this.constructor._isVisible(t))},withAnimation(t){return this.parseNodes(t).filter(t=>n._animations.has(t))},withAttribute(t,e){return this.parseNodes(t).filter(t=>t.hasAttribute(e))},withChildren(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter(t=>!!t.childElementCount)},withClass(t,...e){return e=this.constructor._parseClasses(e),this.parseNodes(t).filter(t=>e.some(e=>t.classList.contains(e)))},withCSSAnimation(t){return this.parseNodes(t).filter(t=>this.constructor._hasCSSAnimation(t))},withCSSTransition(t){return this.parseNodes(t).filter(t=>this.constructor._hasCSSTransition(t))},withData(t,e){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0}).filter(t=>this.constructor._hasData(t,e))},withDescendent(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).filter((t,s)=>!e||e(t,s))},withProperty(t,e){return this.parseNodes(t).filter(t=>t.hasOwnProperty(e))}}),Object.assign(h.prototype,{find(t,s=this._context){const i=t.match(this.constructor._fastRegExp);return i?"#"===i[1]?this.findById(i[2],s):"."===i[1]?this.findByClass(i[2],s):this.findByTag(i[2],s):e.isDocument(s)||e.isElement(s)||e.isFragment(s)||e.isShadow(s)?e.wrap(s.querySelectorAll(t)):(s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector(t,s))},findByClass(t,s=this._context){if(e.isDocument(s)||e.isElement(s))return e.wrap(s.getElementsByClassName(t));if(e.isFragment(s)||e.isShadow(s))return e.wrap(s.querySelectorAll("."+t));s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0});const i=[];for(const o of s)e.merge(i,e.isFragment(o)||e.isShadow(o)?o.querySelectorAll("."+t):o.getElementsByClassName(t));return s.length>1&&i.length>1?e.unique(i):i},findById(t,s=this._context){return e.isDocument(s)||e.isElement(s)||e.isFragment(s)||e.isShadow(s)?e.wrap(s.querySelectorAll("#"+t)):(s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0}),this.constructor._findBySelector("#"+t,s))},findByTag(t,s=this._context){if(e.isDocument(s)||e.isElement(s))return e.wrap(s.getElementsByTagName(t));if(e.isFragment(s)||e.isShadow(s))return e.wrap(s.querySelectorAll(t));s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0});const i=[];for(const o of s)e.merge(i,e.isFragment(o)||e.isShadow(o)?o.querySelectorAll(t):o.getElementsByTagName(t));return s.length>1&&i.length>1?e.unique(i):i},findOne(t,s=this._context){const i=t.match(this.constructor._fastRegExp);return i?"#"===i[1]?this.findOneById(i[2],s):"."===i[1]?this.findOneByClass(i[2],s):this.findOneByTag(i[2],s):e.isDocument(s)||e.isElement(s)||e.isFragment(s)||e.isShadow(s)?s.querySelector(t):(s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector(t,s):void 0},findOneByClass(t,s=this._context){if(e.isDocument(s)||e.isElement(s))return s.getElementsByClassName(t).item(0);if(e.isFragment(s)||e.isShadow(s))return s.querySelector("."+t);if((s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0})).length){for(const i of s){const s=e.isFragment(i)||e.isShadow(i)?i.querySelector("."+t):i.getElementsByClassName(t).item(0);if(s)return s}return null}},findOneById(t,s=this._context){return e.isDocument(s)?s.getElementById(t):e.isElement(s)||e.isFragment(s)||e.isShadow(s)?s.querySelector("#"+t):(s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0})).length?this.constructor._findOneBySelector("#"+t,s):void 0},findOneByTag(t,s=this._context){if(e.isDocument(s)||e.isElement(s))return s.getElementsByTagName(t).item(0);if(e.isFragment(s)||e.isShadow(s))return s.querySelector(t);if((s=this.parseNodes(s,{fragment:!0,shadow:!0,document:!0})).length){for(const i of s){const s=e.isFragment(i)||e.isShadow(i)?i.querySelector(t):i.getElementsByTagName(t).item(0);if(s)return s}return null}}}),Object.assign(h.prototype,{child(t,e){return this.children(t,e,!0)},children(t,s,i=!1,o=!0){if(s=this.parseFilter(s),e.isElement(t)||e.isDocument(t)||e.isFragment(t)||e.isShadow(t))return this.constructor._children(t,s,i,o);t=this.parseNodes(t,{fragment:!0,shadow:!0,document:!0});const r=[];for(const n of t)e.merge(r,this.constructor._children(n,s,i,o));return t.length>1&&r.length>1?e.unique(r):r},closest(t,e,s){return this.parents(t,e,s,!0)},commonAncestor(t){if(!(t=this.sort(t)).length)return;if(t.some(t=>!t.parentNode))return;const e=this.createRange();return 1===t.length?e.selectNode(t.shift()):(e.setStartBefore(t.shift()),e.setEndAfter(t.pop())),e.commonAncestorContainer},contents(t){return this.children(t,!1,!1,!1)},fragment(t){const e=this.parseNode(t);if(e)return e.content},next(t,s){if(s=this.parseFilter(s),e.isNode(t))return this.constructor._next(t,s);t=this.parseNodes(t,{node:!0});const i=[];for(const o of t)e.merge(i,this.constructor._nextAll(o,s,null,!0));return t.length>1&&i.length>1?e.unique(i):i},nextAll(t,s,i,o=!1){if(s=this.parseFilter(s),i=this.parseFilter(i),e.isNode(t))return this.constructor._nextAll(t,s,i,o);t=this.parseNodes(t,{node:!0});const r=[];for(const n of t)e.merge(r,this.constructor._nextAll(n,s,i,o));return t.length>1&&r.length>1?e.unique(r):r},offsetParent(t){return this.forceShow(t,t=>t.offsetParent)},parent(t,s){if(s=this.parseFilter(s),e.isNode(t))return this.constructor._parent(t,s);t=this.parseNodes(t,{node:!0});const i=[];for(const o of t)e.merge(i,this.constructor._parent(o,s));return t.length>1&&i.length>1?e.unique(i):i},parents(t,s,i,o=!1){if(s=this.parseFilter(s),i=this.parseFilter(i),e.isNode(t))return this.constructor._parents(t,s,i,o);t=this.parseNodes(t,{node:!0});const r=[];for(const n of t)e.merge(r,this.constructor._parents(n,s,i,o));return t.length>1&&r.length>1?e.unique(r):r},prev(t,s){if(s=this.parseFilter(s),e.isNode(t))return this.constructor._prev(t,s);t=this.parseNodes(t,{node:!0});const i=[];for(const o of t)e.merge(i,this.constructor._prev(o,s));return t.length>1&&i.length>1?e.unique(i):i},prevAll(t,s,i,o=!1){if(s=this.parseFilter(s),i=this.parseFilter(i),e.isNode(t))return this.constructor._prevAll(t,s,i,o);t=this.parseNodes(t,{node:!0});const r=[];for(const n of t)e.merge(r,this.constructor._prevAll(n,s,i,o));return t.length>1&&r.length>1?e.unique(r):r},shadow(t){const e=this.parseNode(t);if(e)return e.shadowRoot},siblings(t,s,i=!0){if(s=this.parseFilter(s),e.isNode(t))return this.constructor._siblings(t,s,i);t=this.parseNodes(t,{node:!0});const o=[];for(const r of t)e.merge(o,this.constructor._siblings(r,s,i));return t.length>1&&o.length>1?e.unique(o):o}}),Object.assign(h.prototype,{parseFilter(t){return!!t&&(e.isFunction(t)?t:e.isString(t)?s=>e.isElement(s)&&s.matches(t):e.isNode(t)||e.isFragment(t)||e.isShadow(t)?e=>e.isSameNode(t):!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&(e=>t.includes(e)))},parseFilterContains(t){return!!t&&(e.isFunction(t)?s=>e.wrap(s.querySelectorAll("*")).some(t):e.isString(t)?e=>!!this.findOne(t,e):e.isNode(t)||e.isFragment(t)||e.isShadow(t)?e=>e.contains(t):!!(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0})).length&&(e=>t.some(t=>e.contains(t))))},parseNode(t,e={}){const s=this.constructor.parseNodesFactory(e);return this._parseNodesDeep(t,e.context||this._context,s,e.html,!0)},parseNodes(t,e={}){const s=this.constructor.parseNodesFactory(e);return this._parseNodesDeep(t,e.context||this._context,s,e.html)},_parseNodesDeep(t,s,i,o=!1,r=!1){if(!t)return r?null:[];if(e.isString(t)){if(o&&"<"===t.trim().charAt(0))return this.parseHTML(t);if(!r)return this.find(t,s);const e=this.findOne(t,s);return e||null}if(i(t))return r?t:[t];if(t instanceof d){if(!r)return t.get().filter(i);const e=t.get(0);return e&&i(e)?e:null}if(t instanceof HTMLCollection)return r?t.length?t.item(0):null:e.wrap(t);if(e.isArray(t)){const e=this.constructor.parseNodesFactory({node:!0,fragment:!0,shadow:!0,document:!0,window:!0});t=t.flatMap(t=>this._parseNodesDeep(t,s,e,o))}else t=e.wrap(t);if(t.length&&(t=e.unique(t)),!r)return t.filter(i);const n=t.shift();return n&&i(n)?n:null}}),Object.assign(h.prototype,{afterSelection(e){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();const s=t.getSelection();if(!s.rangeCount)return;const i=s.getRangeAt(0);s.removeAllRanges(),i.collapse();for(const t of e)i.insertNode(t)},beforeSelection(e){e=this.parseNodes(e,{node:!0,fragment:!0,html:!0}).reverse();const s=t.getSelection();if(!s.rangeCount)return;const i=s.getRangeAt(0);s.removeAllRanges();for(const t of e)i.insertNode(t)},extractSelection(){const s=t.getSelection();if(!s.rangeCount)return[];const i=s.getRangeAt(0);s.removeAllRanges();const o=i.extractContents();return e.wrap(o.childNodes)},getSelection(){const s=t.getSelection();if(!s.rangeCount)return[];const i=s.getRangeAt(0),o=e.wrap(i.commonAncestorContainer.querySelectorAll("*"));if(!o.length)return[i.commonAncestorContainer];if(1===o.length)return o;const r=i.startContainer,n=i.endContainer,a=e.isElement(r)?r:r.parentNode,h=e.isElement(n)?n:n.parentNode,d=o.slice(o.indexOf(a),o.indexOf(h)+1),l=[];let c;for(const t of d)c&&c.contains(t)||(c=t,l.push(t));return l},select(e){const s=this.parseNode(e,{node:!0});if(s&&"select"in s)return s.select();const i=t.getSelection();if(i.rangeCount>0&&i.removeAllRanges(),!s)return;const o=this.createRange();o.selectNode(s),i.addRange(o)},selectAll(e){e=this.sort(e);const s=t.getSelection();if(s.rangeCount&&s.removeAllRanges(),!e.length)return;const i=this.createRange();1==e.length?i.selectNode(e.shift()):(i.setStartBefore(e.shift()),i.setEndAfter(e.pop())),s.addRange(i)},wrapSelection(s){s=this.parseNodes(s,{fragment:!0,html:!0});const i=t.getSelection();if(!i.rangeCount)return;const o=i.getRangeAt(0);i.removeAllRanges();const r=o.extractContents(),n=this.constructor._deepest(s.slice().shift()),a=e.wrap(r.childNodes);for(const t of a)n.insertBefore(t,null);for(const t of s)o.insertNode(t)}}),Object.assign(h.prototype,{hasAnimation(t){return this.parseNodes(t).some(t=>n._animations.has(t))},hasAttribute(t,e){return this.parseNodes(t).some(t=>t.hasAttribute(e))},hasChildren(t){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some(t=>!!t.childElementCount)},hasClass(t,...e){return e=this.constructor._parseClasses(e),this.parseNodes(t).some(t=>e.some(e=>t.classList.contains(e)))},hasCSSAnimation(t){return this.parseNodes(t).some(t=>this.constructor._hasCSSAnimation(t))},hasCSSTransition(t){return this.parseNodes(t).some(t=>this.constructor._hasCSSTransition(t))},hasData(t,e){return this.parseNodes(t,{fragment:!0,shadow:!0,document:!0,window:!0}).some(t=>this.constructor._hasData(t,e))},hasDataset(t,s){return s=e.camelCase(s),this.parseNodes(t).some(t=>!!t.dataset[s])},hasDescendent(t,e){return e=this.parseFilterContains(e),this.parseNodes(t,{fragment:!0,shadow:!0,document:!0}).some(t=>!e||e(t))},hasFragment(t){return this.parseNodes(t).some(t=>!!t.content)},hasProperty(t,e){return this.parseNodes(t).some(t=>t.hasOwnProperty(e))},hasShadow(t){return this.parseNodes(t).some(t=>!!t.shadowRoot)},is(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some(t=>!e||e(t))},isConnected(t){return this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some(t=>t.isConnected)},isEqual(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some(t=>e.some(e=>t.isEqualNode(e)))},isFixed(t){return this.parseNodes(t,{node:!0}).some(t=>e.isElement(t)&&"fixed"===this.constructor._css(t,"position")||this.constructor._parents(t,t=>e.isElement(t)&&"fixed"===this.constructor._css(t,"position"),!1,!0).length)},isHidden(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).some(t=>!this.constructor._isVisible(t))},isSame(t,e){return e=this.parseNodes(e,{node:!0,fragment:!0,shadow:!0}),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).some(t=>e.some(e=>t.isSameNode(e)))},isVisible(t){return this.parseNodes(t,{node:!0,document:!0,window:!0}).some(t=>this.constructor._isVisible(t))}}),Object.assign(h.prototype,{exec(t,e=null){return this._context.execCommand(t,!1,e)},forceShow(t,e){const s=this.parseNode(t,{node:!0});if(s)return this.constructor._forceShow(s,e)},index(t){const s=this.parseNode(t,{node:!0});if(s)return e.wrap(s.parentNode.children).indexOf(s)},indexOf(t,e){return e=this.parseFilter(e),this.parseNodes(t,{node:!0,fragment:!0,shadow:!0}).findIndex(t=>!e||e(t))},normalize(t){t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0});for(const e of t)e.normalize()},sanitize(t,e=h.allowedTags){const s=this.create("template",{html:t}),i=s.content,o=this.constructor._children(i,null,!1,!0);for(const t of o)this.constructor._sanitize(t,e);return this.getHTML(s)},serialize(t){return o._parseParams(this.serializeArray(t))},serializeArray(t){return this.parseNodes(t,{fragment:!0,shadow:!0}).reduce((t,s)=>{if(e.isElement(s)&&s.matches("form")||e.isFragment(s)||e.isShadow(s))return t.concat(this.serializeArray(s.querySelectorAll("input, select, textarea")));if(e.isElement(s)&&s.matches("[disabled], input[type=submit], input[type=reset], input[type=file], input[type=radio]:not(:checked), input[type=checkbox]:not(:checked)"))return t;const i=s.getAttribute("name");if(!i)return t;if(e.isElement(s)&&s.matches("select[multiple]"))for(const e of s.selectedOptions)t.push({name:i,value:e.value||""});else t.push({name:i,value:s.value||""});return t},[])},sort(t){return(t=this.parseNodes(t,{node:!0,fragment:!0,shadow:!0,document:!0,window:!0})).sort((t,s)=>{if(e.isWindow(t))return 1;if(e.isWindow(s))return-1;if(e.isDocument(t))return 1;if(e.isDocument(s))return-1;if(e.isFragment(s))return 1;if(e.isFragment(t))return-1;if(e.isShadow(t)&&(t=t.host),e.isShadow(s)&&(s=s.host),t.isSameNode(s))return 0;const i=t.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS?1:0})},tagName(t){const e=this.parseNode(t);if(e)return e.tagName.toLowerCase()}}),Object.assign(h,{ajax:t=>new o(t),delete:(t,e)=>new o({url:t,method:"DELETE",...e}),get:(t,e,s)=>new o({url:t,data:e,...s}),patch:(t,e,s)=>new o({url:t,data:e,method:"PATCH",...s}),post:(t,e,s)=>new o({url:t,data:e,method:"POST",...s}),put:(t,e,s)=>new o({url:t,data:e,method:"PUT",...s})}),Object.assign(h,{_clearQueue(t,e){const s=this._queues.get(t);if(s&&(!e||e in s)){for(const t in s)e&&t!==e||delete s[t];Object.keys(s).length||this._queues.delete(t)}},_dequeue(t,e){const s=this._queues.get(t);if(!s||!(e in s))return;const i=s[e].shift();if(!i)return this._clearQueue(t,e);Promise.resolve(i(t)).then(s=>this._dequeue(t,e)).catch(s=>this._clearQueue(t,e))},_queue(t,e,s){this._queues.has(t)||this._queues.set(t,{});const i=this._queues.get(t),o=s in i;o||(i[s]=[t=>new Promise(t=>setTimeout(t,0))]),i[s].push(e),o||this._dequeue(t,s)}}),Object.assign(h,{_getAttributes(t){const e={};for(const s of t.attributes)e[s.nodeName]=s.nodeValue;return e},_setAttributes(t,e){for(const s in e)t.setAttribute(s,e[s])},_setDataset(t,s){for(const i in s){const o=e.camelCase(i);t.dataset[o]=s[i]}}}),Object.assign(h,{_cloneData(t,e){this._data.has(t)&&this._setData(e,{...this._data.get(t)})},_getData(t,e){if(this._data.has(t))return e?this._data.get(t)[e]:this._data.get(t)},_removeData(t,e){if(this._data.has(t)){if(e){const s=this._data.get(t);if(delete s[e],Object.keys(s).length)return}this._data.delete(t)}},_setData(t,e){this._data.has(t)||this._data.set(t,{}),Object.assign(this._data.get(t),e)}}),Object.assign(h,{_rect(e,s){return this._forceShow(e,e=>{const i=e.getBoundingClientRect();return s&&(i.x+=t.scrollX,i.y+=t.scrollY),i})}}),Object.assign(h,{_height(t,s=1){return this._forceShow(t,t=>{if(e.isDocument(t)&&(t=t.documentElement),s===this.SCROLL_BOX)return t.scrollHeight;let i=t.clientHeight;return s===this.CONTENT_BOX&&(i-=parseInt(this._css(t,"padding-top"))+parseInt(this._css(t,"padding-bottom"))),s>=this.BORDER_BOX&&(i+=parseInt(this._css(t,"border-top-width"))+parseInt(this._css(t,"border-bottom-width"))),s===this.MARGIN_BOX&&(i+=parseInt(this._css(t,"margin-top"))+parseInt(this._css(t,"margin-bottom"))),i})},_width(t,s=1){return this._forceShow(t,t=>{if(e.isDocument(t)&&(t=t.documentElement),s===this.SCROLL_BOX)return t.scrollWidth;let i=t.clientWidth;return s===this.CONTENT_BOX&&(i-=parseInt(this._css(t,"padding-left"))+parseInt(this._css(t,"padding-right"))),s>=this.BORDER_BOX&&(i+=parseInt(this._css(t,"border-left-width"))+parseInt(this._css(t,"border-right-width"))),s===this.MARGIN_BOX&&(i+=parseInt(this._css(t,"margin-left"))+parseInt(this._css(t,"margin-right"))),i})}}),Object.assign(h,{_css(s,i){return this._styles.has(s)||this._styles.set(s,t.getComputedStyle(s)),i?(i=e.kebabCase(i),this._styles.get(s).getPropertyValue(i)):{...this._styles.get(s)}},_setStyles(t,s,i){for(let o in s){let r=s[o];o=e.kebabCase(o),r&&e.isNumeric(r)&&!this.cssNumberProperties.includes(o)&&(r+="px"),t.style.setProperty(o,r,i?"important":"")}}}),Object.assign(h,{_delegateFactory(t,s,i){const o=s.match(this._scopeRegExp)?this._getDelegateContainsFactory(t,s):this._getDelegateMatchFactory(t,s);return s=>{if(t.isSameNode(s.target))return;const r=o(s.target);if(!r)return;const n={};for(const t in s)n[t]=e.isFunction(s[t])?(...e)=>s[t](...e):s[t];return n.currentTarget=r,n.delegateTarget=t,n.originalEvent=s,Object.freeze(n),i(n)}},_getDelegateContainsFactory(t,s){return i=>{const o=e.wrap(t.querySelectorAll(s));return!!o.length&&(o.includes(i)?i:this._parents(i,t=>o.includes(t),e=>e.isSameNode(t),!0).shift())}},_getDelegateMatchFactory(t,e){return s=>s.matches(e)?s:this._parents(s,t=>t.matches(e),e=>e.isSameNode(t),!0).shift()},_namespaceFactory:(t,e)=>s=>{if(!("namespaceRegExp"in s)||s.namespaceRegExp.test(t))return e(s)},_preventFactory:t=>e=>{!1===t(e)&&e.preventDefault()},_selfDestructFactory(t,e,s,i){return o=>(this._removeEvent(t,e,i,s),i(o))}}),Object.assign(h,{_addEvent(t,e,s,i,o){this._events.has(t)||this._events.set(t,{});const r=this._events.get(t),n={delegate:i,callback:s,selfDestruct:o},a=this._parseEvent(e);let h=s;o&&(h=this._selfDestructFactory(t,e,i,h)),h=this._preventFactory(h),i&&(h=this._delegateFactory(t,i,h)),h=this._namespaceFactory(e,h),n.realCallback=h,n.event=e,n.realEvent=a,r[a]||(r[a]=[]),r[a].push(n),t.addEventListener(a,h)},_cloneEvents(t,e){if(!this._events.has(t))return;const s=this._events.get(t);for(const t in s)for(const i of s[t])this._addEvent(e,i.event,i.callback,i.delegate,i.selfDestruct)},_removeEvent(t,e,s,i){if(!this._events.has(t))return;const o=this._events.get(t);if(!e){const e=Object.keys(o);for(const o of e)this._removeEvent(t,o,s,i);return}const r=this._parseEvent(e);o[r]&&(o[r]=o[r].filter(o=>{if(i&&i!==o.delegate||s&&s!==o.callback)return!0;if(r!==e){const t=this._eventNamespacedRegExp(e);if(!o.event.match(t))return!0}return t.removeEventListener(o.realEvent,o.realCallback),!1}),o[r].length||delete o[r],Object.keys(o).length||this._events.delete(t))},_triggerEvent(t,e,s){const i=this._parseEvent(e),o=new CustomEvent(i,{bubbles:!0,cancelable:!0,...s});return i!==e&&(o.namespace=e.substring(i.length+1),o.namespaceRegExp=this._eventNamespacedRegExp(e)),t.dispatchEvent(o)}}),Object.assign(h,{debounce(t){let e;return(...s)=>{e||(e=!0,Promise.resolve().then(i=>{t(...s),e=!1}))}},_eventNamespacedRegExp:t=>new RegExp(`^${e.escapeRegExp(t)}(?:\\.|$)`,"i"),_parseClasses:t=>t.flat().flatMap(t=>t.split(" ")).filter(t=>!!t),_parseData(t,s,i=!1){const o=e.isObject(t)?t:{[t]:s},r={};for(const t in o){const s=o[t];r[t]=i&&(e.isObject(s)||e.isArray(s))?JSON.stringify(s):s}return r},_parseDataset(t){if(e.isUndefined(t))return t;const s=t.toLowerCase().trim();if(["true","on"].includes(s))return!0;if(["false","off"].includes(s))return!1;if("null"===s)return null;if(e.isNumeric(s))return parseFloat(s);if(["{","["].includes(s.charAt(0)))try{return JSON.parse(t)}catch(t){}return t},_parseEvent:t=>t.split(".").shift(),_parseEvents:t=>t.split(" ")}),Object.assign(h,{_clone(t,e){const s=t.cloneNode(e.deep);return e.events&&this._cloneEvents(t,s),e.data&&this._cloneData(t,s),e.animations&&n.clone(t,s),e.deep&&this._deepClone(t,s,e),s},_deepClone(t,e,s){for(let i=0;i<t.childNodes.length;i++){const o=t.childNodes.item(i),r=e.childNodes.item(i);s.events&&this._cloneEvents(o,r),s.data&&this._cloneData(o,r),s.animations&&n.clone(o,r),this._deepClone(o,r,s)}},_empty(t,s=!0){const i=e.wrap(t.childNodes);for(const t of i)this._remove(t),s&&t.remove();t.shadowRoot&&this._remove(t.shadowRoot),t.content&&this._remove(t.content)},_remove(t){const s=new Event("remove");t.dispatchEvent(s),this._empty(t,!1),e.isElement(t)&&(this._clearQueue(t),n.stop(t),this._styles.has(t)&&this._styles.delete(t)),this._removeEvent(t),this._removeData(t)}}),Object.assign(h,{parseHTML:t=>(new DOMParser).parseFromString(t,"text/html"),parseXML:t=>(new DOMParser).parseFromString(t,"application/xml")}),Object.assign(h,{_findBySelector(t,s){const i=[];for(const o of s)e.merge(i,o.querySelectorAll(t));return s.length>1&&i.length>1?e.unique(i):i},_findOneBySelector(t,e){for(const s of e){const e=s.querySelector(t);if(e)return e}return null}}),Object.assign(h,{_children(t,e,s=!1,i=!0){const o=i?t.children:t.childNodes,r=[];let n;for(n of o)if((!e||e(n))&&(r.push(n),s))break;return r},_deepest:t=>e.wrap(t.querySelectorAll("*")).find(t=>!t.childElementCount)||t,_next(t,s){const i=[];for(;t=t.nextSibling;)if(e.isElement(t)){s&&!s(t)||i.push(t);break}return i},_nextAll(t,s,i,o=!1){const r=[];for(;t=t.nextSibling;)if(e.isElement(t)){if(i&&i(t))break;if((!s||s(t))&&(r.push(t),o))break}return r},_parent(t,e){const s=[],i=t.parentNode;return i?(e&&!e(i)||s.push(i),s):s},_parents(t,s,i,o=!1){const r=[];for(;(t=t.parentNode)&&!e.isDocument(t)&&(!i||!i(t))&&(s&&!s(t)||(r.unshift(t),!o)););return r},_prev(t,s){const i=[];for(;t=t.previousSibling;)if(e.isElement(t)){s&&!s(t)||i.push(t);break}return i},_prevAll(t,s,i,o=!1){const r=[];for(;t=t.previousSibling;)if(e.isElement(t)){if(i&&i(t))break;if((!s||s(t))&&(r.unshift(t),o))break}return r},_siblings(t,e,s=!0){const i=[],o=t.parentNode;if(!o)return i;const r=s?o.children:o.childNodes;let n;for(n of r)t.isSameNode(n)||e&&!e(n)||i.push(n);return i}}),Object.assign(h,{parseNodesFactory:t=>t?s=>(t.node?e.isNode(s):e.isElement(s))||t.fragment&&e.isFragment(s)||t.shadow&&e.isShadow(s)||t.document&&e.isDocument(s)||t.window&&e.isWindow(s):e.isElement}),Object.assign(h,{_hasCSSAnimation(t){return!!parseFloat(this._css(t,"animation-duration"))},_hasCSSTransition(t){return!!parseFloat(this._css(t,"transition-duration"))},_hasData(t,e){return this._data.has(t)&&(!e||this._data.get(t).hasOwnProperty(e))},_isVisible:t=>e.isWindow(t)?"visible"===t.document.visibilityState:e.isDocument(t)?"visible"===t.visibilityState:!!t.offsetParent}),Object.assign(h,{_forceShow(t,s){if(this._isVisible(t))return s(t);const i=[];e.isElement(t)&&"none"===this._css(t,"display")&&i.push(t),e.merge(i,this._parents(t,t=>e.isElement(t)&&"none"===this._css(t,"display")));const o=new Map;for(const t of i)o.set(t,t.getAttribute("style")),t.style.setProperty("display","initial","important");const r=s(t);for(const[t,e]of o)e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"));return r},_sanitize(t,e=this.allowedTags){const s=t.tagName.toLowerCase();if(!(s in e))return t.remove();const i=[];"*"in e&&e["*"].length&&i.push(...e["*"]),e[s].length&&i.push(...e[s]);const o=this._getAttributes(t);for(const e in o){!!i.find(t=>e.match(t))||t.removeAttribute(e)}const r=this._children(t,null,!1,!0);for(const t of r)this._sanitize(t,e)}}),Object.assign(h,{_queues:new WeakMap,_data:new WeakMap,_events:new WeakMap,_styles:new WeakMap,allowedTags:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},cssNumberProperties:["font-weight","line-height","opacity","orphans","scale","widows","z-index"],CONTENT_BOX:0,PADDING_BOX:1,BORDER_BOX:2,MARGIN_BOX:3,SCROLL_BOX:4,_fastRegExp:/^([\#\.]?)([\w\-]+)$/,_scopeRegExp:/(?:^\s*\:scope|\,(?=(?:(?:[^"']*["']){2})*[^"']*$)\s*\:scope)/});class d{constructor(t,e=i){this._dom=e,this._nodes=t}get length(){return this._nodes.length}pushNode(t){return this.pushStack([t].filter(t=>t))}pushStack(t){return this._nodes=t,this}}class l extends d{pushStack(t){return new l(t)}}return Object.assign(d.prototype,{animate(t,e){return this.queue(s=>this._dom.animate(s,t,e))},stop(t=!0){return this.clearQueue(),this._dom.stop(this,t),this}}),Object.assign(d.prototype,{dropIn(t){return this.queue(e=>this._dom.dropIn(e,t))},dropOut(t){return this.queue(e=>this._dom.dropOut(e,t))},fadeIn(t){return this.queue(e=>this._dom.fadeIn(e,t))},fadeOut(t){return this.queue(e=>this._dom.fadeOut(e,t))},rotateIn(t){return this.queue(e=>this._dom.rotateIn(e,t))},rotateOut(t){return this.queue(e=>this._dom.rotateOut(e,t))},slideIn(t){return this.queue(e=>this._dom.slideIn(e,t))},slideOut(t){return this.queue(e=>this._dom.slideOut(e,t))},squeezeIn(t){return this.queue(e=>this._dom.squeezeIn(e,t))},squeezeOut(t){return this.queue(e=>this._dom.squeezeOut(e,t))}}),Object.assign(d.prototype,{clearQueue(t="default"){return this._dom.clearQueue(this,t),this},delay(t,e="default"){return this.queue(e=>new Promise(e=>setTimeout(e,t)),e)},queue(t,e="default"){return this._dom.queue(this,t,e),this}}),Object.assign(d.prototype,{getAttribute(t){return this._dom.getAttribute(this,t)},getDataset(t){return this._dom.getDataset(this,t)},getHTML(){return this._dom.getHTML(this)},getProperty(t){return this._dom.getProperty(this,t)},getText(){return this._dom.getText(this)},getValue(){return this._dom.getValue(this)},removeAttribute(t){return this._dom.removeAttribute(this,t),this},removeDataset(t){return this._dom.removeDataset(this,t),this},removeProperty(t){return this._dom.removeProperty(this,t),this},setAttribute(t,e){return this._dom.setAttribute(this,t,e),this},setDataset(t,e){return this._dom.setDataset(this,t,e),this},setHTML(t){return this._dom.setHTML(this,t),this},setProperty(t,e){return this._dom.setProperty(this,t,e),this},setText(t){return this._dom.setText(this,t),this},setValue(t){return this._dom.setValue(this,t),this}}),Object.assign(d.prototype,{cloneData(t){return this._dom.cloneData(this,t),this},getData(t){return this._dom.getData(this,t)},removeData(t){return this._dom.removeData(this,t),this},setData(t,e){return this._dom.setData(this,t,e),this}}),Object.assign(d.prototype,{center(t){return this._dom.center(this,t)},constrain(t){return this._dom.constrain(this,t),this},distTo(t,e,s){return this._dom.distTo(this,t,e,s)},distToNode(t){return this._dom.distToNode(this,t)},nearestTo(t,e,s){const i=this._dom.nearestTo(this,t,e,s);return new this.constructor([i].filter(t=>t))},nearestToNode(t){const e=this._dom.nearestToNode(this,t);return new this.constructor([e].filter(t=>t))},percentX(t,e,s=!0){return this._dom.percentX(this,t,e,s)},percentY(t,e,s=!0){return this._dom.percentY(this,t,e,s)},position(t){return this._dom.position(this,t)},rect(t){return this._dom.rect(this,t)}}),Object.assign(d.prototype,{getScrollX(){return this._dom.getScrollX(this)},getScrollY(){return this._dom.getScrollY(this)},setScroll(t,e){return this._dom.setScroll(this,t,e),this},setScrollX(t){return this._dom.setScrollX(this,t),this},setScrollY(t){return this._dom.setScrollY(this,t),this}}),Object.assign(d.prototype,{height(t){return this._dom.height(this,t)},width(t){return this._dom.width(this,t)}}),Object.assign(d.prototype,{addClass(...t){return this._dom.addClass(this,...t),this},css(t){return this._dom.css(this,t)},getStyle(t){return this._dom.getStyle(this,t)},hide(){return this._dom.hide(this),this},removeClass(...t){return this._dom.removeClass(this,...t),this},setStyle(t,e,s){return this._dom.setStyle(this,t,e,s),this},show(){return this._dom.show(this),this},toggle(){return this._dom.toggle(this),this},toggleClass(...t){return this._dom.toggleClass(this,...t),this}}),Object.assign(d.prototype,{blur(){return this._dom.blur(this),this},click(){return this._dom.click(this),this},focus(){return this._dom.focus(this),this}}),Object.assign(d.prototype,{addEvent(t,e){return this._dom.addEvent(this,t,e),this},addEventDelegate(t,e,s){return this._dom.addEventDelegate(this,t,e,s),this},addEventDelegateOnce(t,e,s){return this._dom.addEventDelegateOnce(this,t,e,s),this},addEventOnce(t,e){return this._dom.addEventOnce(this,t,e),this},cloneEvents(t){return this._dom.cloneEvents(this,t),this},removeEvent(t,e){return this._dom.removeEvent(this,t,e),this},removeEventDelegate(t,e,s){return this._dom.removeEventDelegate(this,t,e,s),this},triggerEvent(t,e){return this._dom.triggerEvent(this,t,e),this},triggerOne(t,e){return this._dom.triggerOne(this,t,e)}}),Object.assign(d.prototype,{attachShadow(t=!0){const e=[],s=this._dom.attachShadow(this,t);return s&&e.push(s),new this.constructor(e,this._dom)}}),Object.assign(d.prototype,{clone(t){return new this.constructor(this._dom.clone(this,t))},detach(){return this._dom.detach(this),this},empty(){return this._dom.empty(this),this},remove(){return this._dom.remove(this),this.pushStack([])},replaceAll(t){return this._dom.replaceAll(this,t),this},replaceWith(t){return this._dom.replaceWith(this,t),this}}),Object.assign(d.prototype,{after(t){return this._dom.after(this,t),this},append(t){return this._dom.append(this,t),this},appendTo(t){return this._dom.appendTo(this,t),this},before(t){return this._dom.before(this,t),this},insertAfter(t){return this._dom.insertAfter(this,t),this},insertBefore(t){return this._dom.insertBefore(this,t),this},prepend(t){return this._dom.prepend(this,t),this},prependTo(t){return this._dom.prependTo(this,t),this}}),Object.assign(d.prototype,{unwrap(t){return this._dom.unwrap(this,t),this},wrap(t){return this._dom.wrap(this,t),this},wrapAll(t){return this._dom.wrapAll(this,t),this},wrapInner(t){return this._dom.wrapInner(this,t),this}}),Object.assign(d.prototype,{connected(){return this.pushStack(this._dom.connected(this))},equal(t){return this.pushStack(this._dom.equal(this,t))},filter(t){return this.pushStack(this._dom.filter(this,t))},filterOne(t){return this.pushNode(this._dom.filterOne(this,t))},fixed(){return this.pushStack(this._dom.fixed(this))},hidden(){return this.pushStack(this._dom.hidden(this))},not(t){return this.pushStack(this._dom.not(this,t))},notOne(t){return this.pushNode(this._dom.notOne(this,t))},same(t){return this.pushStack(this._dom.same(this,t))},visible(){return this.pushStack(this._dom.visible(this))},withAnimation(){return this.pushStack(this._dom.withAnimation(this))},withAttribute(t){return this.pushStack(this._dom.withAttribute(this,t))},withChildren(){return this.pushStack(this._dom.withChildren(this))},withClass(t){return this.pushStack(this._dom.withClass(this,t))},withCSSAnimation(){return this.pushStack(this._dom.withCSSAnimation(this))},withCSSTransition(){return this.pushStack(this._dom.withCSSTransition(this))},withData(t){return this.pushStack(this._dom.withData(this,t))},withDescendent(t){return this.pushStack(this._dom.withDescendent(this,t))},withProperty(t){return this.pushStack(this._dom.withProperty(this,t))}}),Object.assign(d.prototype,{find(t){return this.pushStack(this._dom.find(t,this))},findByClass(t){return this.pushStack(this._dom.findByClass(t,this))},findById(t){return this.pushStack(this._dom.findById(t,this))},findByTag(t){return this.pushStack(this._dom.findByTag(t,this))},findOne(t){return this.pushNode(this._dom.findOne(t,this))},findOneByClass(t){return this.pushNode(this._dom.findOneByClass(t,this))},findOneById(t){return this.pushNode(this._dom.findOneById(t,this))},findOneByTag(t){return this.pushNode(this._dom.findOneByTag(t,this))}}),Object.assign(d.prototype,{child(t){return this.pushStack(this._dom.child(this,t))},children(t){return this.pushStack(this._dom.children(this,t))},closest(t,e){return this.pushStack(this._dom.closest(this,t,e))},commonAncestor(){return this.pushNode(this._dom.commonAncestor(this))},contents(){return this.pushStack(this._dom.contents(this))},fragment(){return this.pushNode(this._dom.fragment(this))},next(t){return this.pushStack(this._dom.next(this,t))},nextAll(t,e){return this.pushStack(this._dom.nextAll(this,t,e))},offsetParent(){return this.pushNode(this._dom.offsetParent(this))},parent(t){return this.pushStack(this._dom.parent(this,t))},parents(t,e){return this.pushStack(this._dom.parents(this,t,e))},prev(t){return this.pushStack(this._dom.prev(this,t))},prevAll(t,e){return this.pushStack(this._dom.prevAll(this,t,e))},shadow(){return this.pushNode(this._dom.shadow(this))},siblings(t){return this.pushStack(this._dom.siblings(this,t))}}),Object.assign(d.prototype,{afterSelection(){return this._dom.afterSelection(this),this},beforeSelection(){return this._dom.beforeSelection(this),this},select(){return this._dom.select(this),this},selectAll(){return this._dom.selectAll(this),this},wrapSelection(){return this._dom.wrapSelection(this),this}}),Object.assign(d.prototype,{hasAnimation(){return this._dom.hasAnimation(this)},hasAttribute(t){return this._dom.hasAttribute(this,t)},hasChildren(){return this._dom.hasChildren(this)},hasClass(...t){return this._dom.hasClass(this,...t)},hasCSSAnimation(){return this._dom.hasCSSAnimation(this)},hasCSSTransition(){return this._dom.hasCSSTransition(this)},hasData(t){return this._dom.hasData(this,t)},hasDataset(t){return this._dom.hasDataset(this,t)},hasDescendent(t){return this._dom.hasDescendent(this,t)},hasFragment(){return this._dom.hasFragment(this)},hasProperty(t){return this._dom.hasProperty(this,t)},hasShadow(){return this._dom.hasShadow(this)},is(t){return this._dom.is(this,t)},isConnected(){return this._dom.isConnected(this)},isEqual(t){return this._dom.isEqual(this,t)},isFixed(){return this._dom.isFixed(this)},isHidden(){return this._dom.isHidden(this)},isSame(t){return this._dom.isSame(this,t)},isVisible(){return this._dom.isVisible(this)}}),Object.assign(d.prototype,{add(t,s=null){return this.pushStack(e.unique(e.merge([],this._nodes,this._dom.query(t,s).get()))).sort()},each(t){return this._nodes.forEach((e,s)=>t(e,s)),this},eq(t){return this.pushNode(this.get(t))},first(){return this.eq(0)},forceShow(t){return this._dom.forceShow(this,t)},get(t=null){return null===t?this._nodes:t<0?this._nodes[t+this._nodes.length]:this._nodes[t]},index(){return this._dom.index(this)},indexOf(t){return this._dom.indexOf(this,t)},last(){return this.eq(-1)},map(t){return new this.constructor(this._nodes.map((e,s)=>t(e,s)))},normalize(){return this._dom.normalize(this),this},serialize(){return this._dom.serialize(this)},serializeArray(){return this._dom.serializeArray(this)},slice(t,e){return new this.constructor(this._nodes.slice(t,e))},sort(){return this.pushStack(this._dom.sort(this))},tagName(){return this._dom.tagName(this)},[Symbol.iterator](){return this._nodes.values()}}),i=new h,{AjaxRequest:o,Animation:n,AnimationSet:a,DOM:h,dom:i,QuerySet:d,QuerySetImmutable:l}})),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e:Object.assign(t,e(t))}(t,(function(t){if(!t)throw new Error("FrostUI requires a Window.");if(!("DOM"in t))throw new Error("FrostUI requires FrostDOM.");const e=t.Core,s=t.DOM,i=t.dom,o=t.QuerySet,r=t.document,n={};class a{constructor(t,s){this._node=t,this._settings=e.extend({},this.constructor.defaults,n.getDataset(this._node),s),i.addEvent(this._node,this.constructor.REMOVE_EVENT,t=>{this.dispose()}),i.setData(this._node,this.constructor.DATA_KEY,this)}dispose(){i.removeEvent(this._node,this.constructor.REMOVE_EVENT),i.removeData(this._node,this.constructor.DATA_KEY),this._node=null,this._settings=null}static init(t,...e){return i.hasData(t,this.DATA_KEY)?i.getData(t,this.DATA_KEY):new this(t,...e)}}n.BaseComponent=a,n.getDataset=t=>{const e=i.getDataset(t),s={};for(const t in e)if(/ui[A-Z]/.test(t)){s[t.slice(2,3).toLowerCase()+t.slice(3)]=e[t]}return s},n.getTarget=(t,e)=>{const s=n.getTargetSelector(t);let o;if(s&&"#"!==s?o=i.findOne(s):e&&(o=i.closest(t,e).shift()),!o)throw new Error("Target not found");return o},n.getTargetSelector=t=>i.getDataset(t,"uiTarget")||i.getAttribute(t,"href"),n.initComponent=(t,s)=>{s.DATA_KEY=t,s.REMOVE_EVENT="remove.ui."+t,o.prototype[t]=function(t,...i){let o,r,n;e.isObject(t)?o=t:e.isString(t)&&(r=t);for(const[t,a]of[...this].entries()){if(!e.isElement(a))continue;let h=s.init(a,o);r&&(h=h[r](...i)),0===t&&(n=h)}return n}};class h extends a{close(){return this._animating||!i.triggerOne(this._node,"close.ui.alert")||(this._animating=!0,i.fadeOut(this._node,{duration:this._settings.duration}).then(t=>{i.detach(this._node),i.triggerEvent(this._node,"closed.ui.alert"),i.remove(this._node)}).catch(t=>{}).finally(t=>{this._animating=!1})),this}}i.addEventDelegate(r,"click.ui.alert",'[data-ui-dismiss="alert"]',t=>{t.preventDefault();const e=n.getTarget(t.currentTarget,".alert");h.init(e).close()}),h.defaults={duration:100},n.initComponent("alert",h),n.Alert=h;class d extends a{toggle(){i.toggleClass(this._node,"active");const t=i.hasClass(this._node,"active");return i.setAttribute(this._node,"aria-pressed",t),this}}i.addEventDelegate(r,"click.ui.button",'[data-ui-toggle="button"]',t=>{t.preventDefault();d.init(t.currentTarget).toggle()}),d.defaults={},n.initComponent("button",d),n.Button=d;class l extends a{constructor(t,e){super(t,e),this._items=i.find(".carousel-item",this._node),this._index=this._items.findIndex(t=>i.hasClass(t,"active")),this._events(),"carousel"===this._settings.ride&&this._setTimer()}cycle(){return i.isHidden(r)?this._setTimer():this.slide(1),this}dispose(){this._timer&&clearTimeout(this._timer),this._settings.keyboard&&i.removeEvent(this._node,"keydown.ui.carousel"),this._settings.pause&&(i.removeEvent(this._node,"mouseenter.ui.carousel"),i.removeEvent(this._node,"mouseleave.ui.carousel")),this._items=null,super.dispose()}next(){return this.slide()}pause(){return clearTimeout(this._timer),this._timer=null,this}prev(){return this.slide(-1)}show(t){return this._show(t),this}slide(t=1){return this.show(this._index+t)}}i.addEvent(t,"load",t=>{const e=i.find('[data-ui-ride="carousel"]');for(const t of e)l.init(t)}),i.addEventDelegate(r,"click.ui.carousel","[data-ui-slide]",t=>{t.preventDefault();const e=n.getTarget(t.currentTarget,".carousel"),s=l.init(e);"prev"===i.getDataset(t.currentTarget,"uiSlide")?s.prev():s.next()}),i.addEventDelegate(r,"click.ui.carousel","[data-ui-slide-to]",t=>{t.preventDefault();const e=n.getTarget(t.currentTarget,".carousel"),s=l.init(e),o=i.getDataset(t.currentTarget,"uiSlideTo");s.show(o)}),Object.assign(l.prototype,{_events(){this._settings.keyboard&&i.addEvent(this._node,"keydown.ui.carousel",t=>{const e=t.target;if(!i.is(e,"input, select"))switch(t.code){case"ArrowLeft":t.preventDefault(),this.prev();break;case"ArrowRight":t.preventDefault(),this.next()}}),this._settings.pause&&(i.addEvent(this._node,"mouseenter.ui.carousel",t=>{this.pause()}),i.addEvent(this._node,"mouseleave.ui.carousel",t=>{this._setTimer()}))},_setTimer(){if(this._timer)return;const t=i.getDataset(this._items[this._index],"uiInterval");this._timer=setTimeout(t=>this.cycle(),t||this._settings.interval)},_show(t){if(this._sliding)return;if(t=parseInt(t),!this._settings.wrap&&(t<0||t>this._items.length-1))return;let e=0;if(t<0?e=-1:t>this._items.length-1&&(e=1),(t%=this._items.length)<0&&(t=this._items.length+t),t===this._index)return;const s=-1==e||0==e&&t<this._index?"left":"right",o={direction:s,relatedTarget:this._items[t],from:this._index,to:t};if(!i.triggerOne(this._node,"slide.ui.carousel",o))return;const r=this._index;this._index=t,this._sliding=!0,this.pause(),i.addClass(this._items[this._index],"active"),i.removeClass(this._items[r],"active"),i.animate(this._items[this._index],(t,e)=>this._update(t,this._items[r],e,s),{duration:this._settings.transition}).then(t=>{const e=i.find(".active[data-ui-slide-to]",this._node),s=i.find('[data-ui-slide-to="'+this._index+'"]',this._node);i.removeClass(e,"active"),i.addClass(s,"active"),i.triggerEvent(this._node,"slid.ui.carousel",o),this._setTimer()}).finally(t=>{this._sliding=!1})},_update(t,e,s,i){if(s>=1)return e.style.setProperty("display",""),e.style.setProperty("transform",""),void t.style.setProperty("transform","");const o="right"===i;e.style.setProperty("display","block"),e.style.setProperty("transform",`translateX(${Math.round(100*s)*(o?-1:1)}%)`),t.style.setProperty("transform",`translateX(${Math.round(100*(1-s))*(o?1:-1)}%)`)}}),l.defaults={interval:5e3,transition:500,keyboard:!0,ride:!1,pause:!0,wrap:!0},n.initComponent("carousel",l),n.Carousel=l;class c extends a{constructor(t,e){super(t,e);const s=this._node.getAttribute("id");this._triggers=i.find(`[data-ui-toggle="collapse"][data-ui-target="#${s}"]`),this._settings.parent&&(this._parent=i.findOne(this._settings.parent))}dispose(){this._triggers=null,this._parent=null,super.dispose()}hide(){return!this._animating&&i.hasClass(this._node,"show")&&i.triggerOne(this._node,"hide.ui.collapse")?(this._animating=!0,i.addClass(this._triggers,"collapsed"),i.squeezeOut(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then(t=>{i.removeClass(this._node,"show"),i.setAttribute(this._triggers,"aria-expanded",!1),i.triggerEvent(this._node,"hidden.ui.collapse")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this}show(){if(this._animating||i.hasClass(this._node,"show"))return this;const t=[];if(this._parent){const e=i.find(".collapse.show",this._parent);for(const s of e){const e=this.constructor.init(s);if(this._parent===e._parent){if(e._animating)return;t.push(e)}}}if(!i.triggerOne(this._node,"show.ui.collapse"))return this;for(const e of t)e.hide();return this._animating=!0,i.addClass(this._node,"show"),i.removeClass(this._triggers,"collapsed"),i.squeezeIn(this._node,{direction:this._settings.direction,duration:this._settings.duration}).then(t=>{i.setAttribute(this._triggers,"aria-expanded",!0),i.triggerEvent(this._node,"shown.ui.collapse")}).catch(t=>{}).finally(t=>{this._animating=!1}),this}toggle(){return i.hasClass(this._node,"show")?this.hide():this.show()}}i.addEventDelegate(r,"click.ui.collapse",'[data-ui-toggle="collapse"]',t=>{t.preventDefault();const e=n.getTargetSelector(t.currentTarget),s=i.find(e);for(const t of s){c.init(t).toggle()}}),c.defaults={direction:"bottom",duration:250},n.initComponent("collapse",c),n.Collapse=c;class u extends a{constructor(t,e){super(t,e),this._menuNode=i.next(this._node,".dropdown-menu").shift(),this._settings.reference?"parent"===this._settings.reference?this._referenceNode=i.parent(this._node).shift():this._referenceNode=i.findOne(this._settings.reference):this._referenceNode=this._node,"static"!==this._settings.display&&i.closest(this._node,".navbar-nav").length&&(this._settings.display="static"),"dynamic"===this._settings.display&&(this._popper=new m(this._menuNode,{reference:this._referenceNode,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact}))}dispose(){this._popper&&(this._popper.dispose(),this._popper=null),this._menuNode=null,this._referenceNode=null,super.dispose()}hide(){return!this._animating&&i.hasClass(this._menuNode,"show")&&i.triggerOne(this._node,"hide.ui.dropdown")?(this._animating=!0,i.fadeOut(this._menuNode,{duration:this._settings.duration}).then(t=>{i.removeClass(this._menuNode,"show"),i.setAttribute(this._node,"aria-expanded",!1),i.triggerEvent(this._node,"hidden.ui.dropdown")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this}show(){return this._animating||i.hasClass(this._menuNode,"show")||!i.triggerOne(this._node,"show.ui.dropdown")||(this._animating=!0,i.addClass(this._menuNode,"show"),this.update(),i.fadeIn(this._menuNode,{duration:this._settings.duration}).then(t=>{i.setAttribute(this._node,"aria-expanded",!0),i.triggerEvent(this._node,"shown.ui.dropdown")}).catch(t=>{}).finally(t=>{this._animating=!1})),this}toggle(){return i.hasClass(this._menuNode,"show")?this.hide():this.show()}update(){return"dynamic"===this._settings.display&&this._popper.update(),this}static autoHide(t,e=!1){e||(e=i.is(t,"form"));const s=i.find(".dropdown-menu.show");for(const o of s){if(t&&i.hasDescendent(o,t)&&(e||i.closest(t,"form",o).length))continue;const s=i.prev(o).shift();if(i.isSame(t,s))continue;this.init(s).hide()}}}i.addEventDelegate(r,"click.ui.dropdown keyup.ui.dropdown",'[data-ui-toggle="dropdown"]',t=>{if(t.code&&"Space"!==t.code)return;t.preventDefault();u.init(t.currentTarget).toggle()}),i.addEventDelegate(r,"keydown.ui.dropdown",'[data-ui-toggle="dropdown"]',t=>{switch(t.code){case"ArrowDown":case"ArrowUp":t.preventDefault();const e=t.currentTarget,s=u.init(e);i.hasClass(s._menuNode,"show")||s.show();const o=i.findOne('.dropdown-item:not([tabindex="-1"])',s._menuNode);i.focus(o)}}),i.addEventDelegate(r,"keydown.ui.dropdown",".dropdown-menu.show .dropdown-item",t=>{let e;switch(t.code){case"ArrowDown":e=i.nextAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').shift();break;case"ArrowUp":e=i.prevAll(t.currentTarget,'.dropdown-item:not([tabindex="-1"])').pop();break;default:return}t.preventDefault(),i.focus(e)}),i.addEvent(r,"click.ui.dropdown",t=>{u.autoHide(t.target)}),i.addEvent(r,"keyup.ui.dropdown",t=>{switch(t.code){case"Tab":u.autoHide(t.target,!0);break;case"Escape":u.autoHide()}}),u.defaults={display:"dynamic",duration:100,placement:"bottom",position:"start",fixed:!1,spacing:3,minContact:!1},n.initComponent("dropdown",u),n.Dropdown=u;class p extends a{constructor(t,e){super(t,e),this._dialog=i.child(this._node,".modal-dialog").shift(),i.hasClass(this._node,"modal-left")?this._direction="left":i.hasClass(this._node,"modal-right")?this._direction="right":this._direction="top",this._settings.show&&this.show()}dispose(){this._dialog=null,this._activeTarget=null,this._backdrop=null,super.dispose()}hide(){return!this._animating&&i.hasClass(this._node,"show")&&i.triggerOne(this._node,"hide.ui.modal")?(this._animating=!0,Promise.all([i.fadeOut(this._dialog,{duration:this._settings.duration}),i.dropOut(this._dialog,{duration:this._settings.duration,direction:this._direction}),i.fadeOut(this._backdrop,{duration:this._settings.duration})]).then(t=>{i.removeAttribute(this._node,"aria-modal"),i.setAttribute(this._node,"aria-hidden",!0),i.removeClass(this._node,"show"),i.removeClass(r.body,"modal-open"),this._settings.backdrop&&(i.remove(this._backdrop),this._backdrop=null),this._activeTarget&&i.focus(this._activeTarget),i.triggerEvent(this._node,"hidden.ui.modal")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this}show(t){return this._animating||i.hasClass(this._node,"show")||!i.triggerOne(this._node,"show.ui.modal")||(this._activeTarget=t,this._animating=!0,i.addClass(this._node,"show"),i.addClass(r.body,"modal-open"),this._settings.backdrop&&(this._backdrop=i.create("div",{class:"modal-backdrop"}),i.append(r.body,this._backdrop)),Promise.all([i.fadeIn(this._dialog,{duration:this._settings.duration}),i.dropIn(this._dialog,{duration:this._settings.duration,direction:this._direction}),i.fadeIn(this._backdrop,{duration:this._settings.duration})]).then(t=>{i.removeAttribute(this._node,"aria-hidden"),i.setAttribute(this._node,"aria-modal",!0),this._settings.focus&&i.focus(this._node),i.triggerEvent(this._node,"shown.ui.modal")}).catch(t=>{}).finally(t=>{this._animating=!1})),this}toggle(){return i.hasClass(this._node,"show")?this.hide():this.show()}}i.addEventDelegate(r,"click.ui.modal",'[data-ui-toggle="modal"]',t=>{t.preventDefault();const e=n.getTarget(t.currentTarget,".modal");p.init(e).show(t.currentTarget)}),i.addEventDelegate(r,"click.ui.modal",'[data-ui-dismiss="modal"]',t=>{t.preventDefault();const e=n.getTarget(t.currentTarget,".modal");p.init(e).hide()}),i.addEvent(r,"click.ui.modal",t=>{if(!i.findOne(".modal-backdrop"))return;const e=i.find(".modal.show");for(const s of e){if(s!==t.target&&i.hasDescendent(s,t.target))continue;const e=p.init(s);"static"!==e._settings.backdrop&&e.hide()}}),i.addEvent(r,"keyup.ui.modal",t=>{if("Escape"!==t.code)return;const e=i.find(".modal.show");for(const t of e){const e=p.init(t);e._settings.keyboard&&e.hide()}}),p.defaults={duration:250,backdrop:!0,focus:!0,show:!1,keyboard:!0},n.initComponent("modal",p),n.Modal=p;class _ extends a{constructor(t,e){super(t,e),this._modal=i.closest(this._node,".modal").shift(),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),this.refresh()}dispose(){if(i.hasDataset(this._node,"uiOriginalTitle")){const t=i.getDataset(this._node,"uiOriginalTitle");i.setAttribute(this._node,"title",t),i.removeDataset(this._node,"uiOriginalTitle")}this._popper&&(this._popper.dispose(),this._popper=null),i.remove(this._popover),this._triggers.includes("hover")&&(i.removeEvent(this._node,"mouseover.ui.popover"),i.removeEvent(this._node,"mouseout.ui.popover")),this._triggers.includes("focus")&&(i.removeEvent(this._node,"focus.ui.popover"),i.removeEvent(this._node,"blur.ui.popover")),this._triggers.includes("click")&&i.removeEvent(this._node,"click.ui.popover"),this._modal&&i.removeEvent(this._modal,"hide.ui.modal",this._hideModalEvent),this._modal=null,this._triggers=null,this._popover=null,this._popoverHeader=null,this._popoverBody=null,this._arrow=null,super.dispose()}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}hide(){return this._enabled?(this._animating&&i.stop(this._popover),i.isConnected(this._popover)&&i.triggerOne(this._node,"hide.ui.popover")?(this._animating=!0,i.fadeOut(this._popover,{duration:this._settings.duration}).then(t=>{this._popper.dispose(),this._popper=null,i.removeClass(this._popover,"show"),i.detach(this._popover),i.triggerEvent(this._node,"hidden.ui.popover")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this):this}refresh(){if(i.hasAttribute(this._node,"title")){const t=i.getAttribute(this._node,"title");i.setDataset(this._node,"uiOriginalTitle",t),i.removeAttribute(this._node,"title")}let t="";i.hasDataset(this._node,"uiTitle")?t=i.getDataset(this._node,"uiTitle"):this._settings.title?t=this._settings.title:i.hasDataset(this._node,"uiOriginalTitle")&&(t=i.getDataset(this._node,"uiOriginalTitle",t));let e="";i.hasDataset(this._node,"uiContent")?e=i.getDataset(this._node,"uiContent"):this._settings.content&&(e=this._settings.content);const s=this._settings.html?"setHTML":"setText";return i[s](this._popoverHeader,this._settings.html&&this._settings.sanitize?this._settings.sanitize(t):t),t?i.show(this._popoverHeader):i.hide(this._popoverHeader),i[s](this._popoverBody,this._settings.html&&this._settings.sanitize?this._settings.sanitize(e):e),this.update()}show(){return this._enabled?(this._animating&&i.stop(this._popover),i.isConnected(this._popover)||!i.triggerOne(this._node,"show.ui.popover")||(this._animating=!0,i.addClass(this._popover,"show"),this.refresh(),this._show(),i.fadeIn(this._popover,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"shown.ui.popover")}).catch(t=>{}).finally(t=>{this._animating=!1})),this):this}toggle(){return i.isConnected(this._popover)?this.hide():this.show()}update(){return this._popper&&this._popper.update(),this}}Object.assign(_.prototype,{_events(){this._triggers.includes("hover")&&(i.addEvent(this._node,"mouseover.ui.popover",t=>{this.show()}),i.addEvent(this._node,"mouseout.ui.popover",t=>{this.hide()})),this._triggers.includes("focus")&&(i.addEvent(this._node,"focus.ui.popover",t=>{this.show()}),i.addEvent(this._node,"blur.ui.popover",t=>{this.hide()})),this._triggers.includes("click")&&i.addEvent(this._node,"click.ui.popover",t=>{t.preventDefault(),this.toggle()}),this._modal&&i.addEvent(this._modal,"hide.ui.modal",t=>{this.hide()})}}),Object.assign(_.prototype,{_render(){this._popover=i.parseHTML(this._settings.template).shift(),this._settings.customClass&&i.addClass(this._popover,this._settings.customClass),this._arrow=i.find(".popover-arrow",this._popover),this._popoverHeader=i.find(".popover-header",this._popover),this._popoverBody=i.find(".popover-body",this._popover)},_show(){this._settings.appendTo?i.append(this._settings.appendTo,this._popover):i.after(this._node,this._popover),this._popper=new m(this._popover,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),_.defaults={template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',customClass:null,duration:100,enable:!0,html:!1,appendTo:null,sanitize:t=>i.sanitize(t),trigger:"click",placement:"auto",position:"center",fixed:!1,spacing:3,minContact:!1},n.initComponent("popover",_),n.Popover=_;class m extends a{constructor(e,s){super(e,s),i.setStyle(this._node,{margin:0,position:"absolute",top:0,right:"initial",bottom:"initial",left:0}),this._resetStyle={},this._settings.useGpu?this._resetStyle.transform="":(this._resetStyle.marginLeft="",this._resetStyle.marginTop=""),g.add(this),this._scrollParent=this.constructor._getScrollParent(this._node),this._scrollParent&&g.addOverflow(this._scrollParent,this),t.requestAnimationFrame(t=>{this.update()}),this.update()}dispose(){g.remove(this),this._scrollParent&&g.removeOverflow(this._scrollParent,this),this._resetStyle=null,this._scrollParent=null,super.dispose()}update(){if(!i.isConnected(this._node))return this;i.setStyle(this._node,this._resetStyle),this._settings.beforeUpdate&&this._settings.beforeUpdate(this._node,this._settings.reference);const t=i.rect(this._node,!0),e=i.rect(this._settings.reference,!0),s=this.constructor._windowContainer();if(this.constructor._isNodeHidden(t,e,s,this._settings.spacing))return this;const o=this._scrollParent?i.rect(this._scrollParent,!0):null,r=this._settings.container?i.rect(this._settings.container,!0):null,n={...s};o&&(n.top=Math.max(n.top,o.top),n.right=Math.min(n.right,o.right),n.bottom=Math.min(n.bottom,o.bottom),n.left=Math.max(n.left,o.left)),r&&(n.top=Math.max(n.top,r.top),n.right=Math.min(n.right,r.right),n.bottom=Math.min(n.bottom,r.bottom),n.left=Math.max(n.left,r.left)),(o||r)&&(n.x=n.left,n.y=n.top,n.width=n.right-n.left,n.height=n.bottom-n.top);const a=this._settings.fixed?this._settings.placement:this.constructor._getPopperPlacement(t,e,n,this._settings.placement,this._settings.spacing+2);i.setDataset(this._settings.reference,"uiPlacement",a),i.setDataset(this._node,"uiPlacement",a);const h="auto"!==this._settings.position?this._settings.position:this.constructor._getPopperPosition(t,e,n,a,this._settings.position),d={x:Math.round(e.x),y:Math.round(e.y)},l=this.constructor._getRelativeParent(this._node),c=l?i.rect(l,!0):null;c&&(d.x-=Math.round(c.x),d.y-=Math.round(c.y)),this.constructor._adjustPlacement(d,t,e,a,this._settings.spacing),this.constructor._adjustPosition(d,t,e,a,h),d.x-=parseInt(i.css(this._node,"margin-left")),d.y-=parseInt(i.css(this._node,"margin-top")),this.constructor._adjustConstrain(d,t,e,n,c,a,this._settings.minContact),this._scrollParent&&(d.x+=i.getScrollX(this._scrollParent),d.y+=i.getScrollY(this._scrollParent));const u={};if(this._settings.useGpu?u.transform="translate3d("+d.x+"px , "+d.y+"px , 0)":(u.marginLeft=d.x,u.marginTop=d.y),i.setStyle(this._node,u),this._settings.arrow){const t=i.rect(this._node,!0);this._updateArrow(t,e,a,h)}return this._settings.afterUpdate&&this._settings.afterUpdate(this._node,this._settings.reference,a,h),this}}class g{static add(e){this._poppers.push(e),this._running||(i.addEvent(t,"resize.ui.popper scroll.ui.popper",s.debounce(t=>{for(const t of this._poppers)t.update()})),this._running=!0)}static addOverflow(t,e){this._popperOverflows.has(t)||(this._popperOverflows.set(t,[]),i.addEvent(t,"scroll.ui.popper",s.debounce(e=>{for(const e of this._popperOverflows.get(t))e.update()}))),this._popperOverflows.get(t).push(e)}static remove(e){this._poppers=this._poppers.filter(t=>t!==e),this._poppers.length||(i.removeEvent(t,"resize.ui.popper scroll.ui.popper"),this._running=!1)}static removeOverflow(t,e){if(!this._popperOverflows.has(t))return;const s=this._popperOverflows.get(t).filter(t=>t!==e);s.length?this._popperOverflows.set(t,s):(this._popperOverflows.delete(t),i.removeEvent(t,"scroll.ui.popper"))}}Object.assign(m.prototype,{_updateArrow(t,s,o,r){const n={position:"absolute",top:"",right:"",bottom:"",left:""};i.setStyle(this._settings.arrow,n);const a=i.rect(this._settings.arrow,!0);if(["top","bottom"].includes(o)){n["top"===o?"bottom":"top"]=-a.height;const i=(s.width-t.width)/2;let h=t.width/2-a.width/2;"start"===r?h+=i:"end"===r&&(h-=i);let d=Math.max(s.left,t.left)-a.left,l=Math.min(s.right,t.right)-a.left-a.width;s.width<a.width&&(d-=a.width/2-s.width/2,l-=a.width/2-s.width/2),n.left=e.clamp(h,d,l)}else{n["right"===o?"left":"right"]=-a.width;const i=(s.height-t.height)/2;let h=t.height/2-a.height;"start"===r?h+=i:"end"===r&&(h-=i);let d=Math.max(s.top,t.top)-a.top,l=Math.min(s.bottom,t.bottom)-a.top-a.height;s.height<2*a.height&&(d-=a.height-s.height/2,l-=a.height-s.height/2),n.top=e.clamp(h,d,l)}i.setStyle(this._settings.arrow,n)}}),Object.assign(m,{_adjustConstrain(t,e,s,i,o,r,n){if(["left","right"].includes(r)){let r=t.y,a=s.top;o&&(r+=o.top,a-=o.top);const h=!1!==n?n:s.height;if(r+e.height>i.bottom){const s=r+e.height-i.bottom;t.y=Math.max(a-e.height+h,t.y-s)}else if(r<i.top){const e=r-i.top;t.y=Math.min(a+s.height-h,t.y-e)}}else{let r=t.x,a=s.left;o&&(r+=o.left,a-=o.left);const h=!1!==n?n:s.width;if(r+e.width>i.right){const s=r+e.width-i.right;t.x=Math.max(a-e.width+h,t.x-s)}else if(r<i.left){const e=r-i.left;t.x=Math.min(a+s.width-h,t.x-e)}}},_adjustPlacement(t,e,s,i,o){"top"===i?t.y-=Math.round(e.height)+o:"right"===i?t.x+=Math.round(s.width)+o:"bottom"===i?t.y+=Math.round(s.height)+o:"left"===i&&(t.x-=Math.round(e.width)+o)},_adjustPosition(t,e,s,i,o){if("start"!==o)if(["top","bottom"].includes(i)){const i=Math.round(e.width)-Math.round(s.width);"center"===o?t.x-=Math.round(i/2):"end"===o&&(t.x-=i)}else{const i=Math.round(e.height)-Math.round(s.height);"center"===o?t.y-=Math.round(i/2):"end"===o&&(t.y-=i)}},_getPopperPlacement(t,e,s,i,o){const r=e.top-s.top,n=s.right-e.right,a=s.bottom-e.bottom,h=e.left-s.left;if("top"===i){if(r<t.height+o&&a>r)return"bottom"}else if("right"===i){if(n<t.width+o&&h>n)return"left"}else if("bottom"===i){if(a<t.height+o&&r>a)return"top"}else if("left"===i){if(h<t.width+o&&n>h)return"right"}else if("auto"===i){const s=Math.max(r,a),i=Math.max(n,h),d=Math.min(r,a);if(i>s&&i>=t.width+o&&d+e.height>=t.height+o-Math.max(0,t.height-e.height))return h>n?"left":"right";const l=Math.min(n,h);if(s>=t.height+o&&l+e.width>=t.width+o-Math.max(0,t.width-e.width))return a>r?"bottom":"top";const c=Math.max(s,i);return a===c&&a>=t.height+o?"bottom":r===c&&r>=t.height+o?"top":n===c&&n>=t.width+o?"right":h===c&&h>=t.width+o?"left":"bottom"}return i},_getPopperPosition(t,e,s,i,o){const r=t.width-e.width,n=t.height-e.height;if(["bottom","top"].includes(i)){const t=e.left-s.left,i=s.right-e.right;if("start"===o){if(i<r){if(t>=r/2&&i>=r/2)return"center";if(t>=r)return"end"}}else if("center"===o){if(t<r/2||i<r/2){if(i>=r)return"start";if(t>=r)return"end"}}else if("end"===o&&t<r){if(t>=r/2&&i>=r/2)return"center";if(i>=r)return"start"}}else{const t=e.top-s.top,i=s.bottom-e.bottom;if("start"===o){if(i<n){if(i>=n/2&&t>=n/2)return"center";if(t>=n)return"end"}}else if("center"===o){if(t<n/2||i<n/2){if(i>=n)return"start";if(t>=n)return"end"}}else if("end"===o&&t<n){if(t>=n/2&&i>=n/2)return"center";if(i>=n)return"start"}}return o},_getRelativeParent:t=>i.closest(t,t=>"relative"===i.css(t,"position"),r.body).shift(),_getScrollParent:t=>i.closest(t,t=>!!["overflow","overflowX","overflowY"].find(e=>!!["auto","scroll"].find(s=>new RegExp(s).test(i.css(t,e)))),r.body).shift(),_isNodeHidden:(t,e,s,i)=>s.top>e.bottom+t.height+i||s.left>e.right+t.width+i||s.bottom<e.top-t.height-i||s.right<e.left-t.width-i,_windowContainer(){const e=i.getScrollX(t),s=i.getScrollY(t),o=i.width(r),n=i.height(r);return{x:e,y:s,width:o,height:n,top:s,right:e+o,bottom:s+n,left:e}}}),m.defaults={reference:null,container:null,arrow:null,afterUpdate:null,beforeUpdate:null,placement:"bottom",position:"center",fixed:!1,spacing:0,minContact:null,useGpu:!0},g._poppers=[],g._popperOverflows=new Map,n.initComponent("popper",m),n.Popper=m,n.PopperSet=g;class f extends a{constructor(t,e){super(t,e);const s=n.getTargetSelector(this._node);this._target=i.findOne(s),this._siblings=i.siblings(this._node)}dispose(){this._target=null,this._siblings=null,super.dispose()}hide(){return!this._animating&&i.hasClass(this._target,"active")&&i.triggerOne(this._node,"hide.ui.tab")?(this._animating=!0,i.fadeOut(this._target,{duration:this._settings.duration}).then(t=>{i.removeClass(this._target,"active"),i.removeClass(this._node,"active"),i.setAttribute(this._node,"aria-selected",!1),i.triggerEvent(this._node,"hidden.ui.tab")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this}show(){if(this._animating||i.hasClass(this._target,"active")||!i.triggerOne(this._node,"show.ui.tab"))return this;const t=this._siblings.find(t=>i.hasClass(t,"active"));let e;if(t&&(e=this.constructor.init(t),e._animating))return this;if(!i.triggerOne(this._node,"show.ui.tab"))return this;const s=t=>{this._animating=!0,i.addClass(this._target,"active"),i.addClass(this._node,"active"),i.fadeIn(this._target,{duration:this._settings.duration}).then(t=>{i.setAttribute(this._node,"aria-selected",!0),i.triggerEvent(this._node,"shown.ui.tab")}).catch(t=>{}).finally(t=>{this._animating=!1})};return e?i.triggerOne(t,"hide.ui.tab")?(i.addEventOnce(t,"hidden.ui.tab",t=>{s()}),e.hide(),this):this:(s(),this)}}i.addEventDelegate(r,"click.ui.tab",'[data-ui-toggle="tab"]',t=>{t.preventDefault();f.init(t.currentTarget).show()}),f.defaults={duration:100},n.initComponent("tab",f),n.Tab=f;class w extends a{constructor(t,e){super(t,e),this._settings.autohide&&setTimeout(t=>this.hide(),this._settings.delay)}hide(){return!this._animating&&i.isVisible(this._node)&&i.triggerOne(this._node,"hide.ui.toast")?(this._animating=!0,i.fadeOut(this._node,{duration:this._settings.duration}).then(t=>{i.setStyle(this._node,"display","none",!0),i.removeClass(this._node,"show"),i.triggerEvent(this._node,"hidden.ui.toast")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this}show(){return this._animating||i.isVisible(this._node)||!i.triggerOne(this._node,"show.ui.toast")||(this._animating=!0,i.setStyle(this._node,"display",""),i.addClass(this._node,"show"),i.fadeIn(this._node,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"shown.ui.toast")}).catch(t=>{}).finally(t=>{this._animating=!1})),this}}i.addEventDelegate(r,"click.ui.toast",'[data-ui-dismiss="toast"]',t=>{t.preventDefault();const e=n.getTarget(t.currentTarget,".toast");w.init(e,{autohide:!1}).hide()}),w.defaults={autohide:!0,delay:5e3,duration:100},n.initComponent("toast",w),n.Toast=w;class y extends a{constructor(t,e){super(t,e),this._modal=i.closest(this._node,".modal").shift(),this._triggers=this._settings.trigger.split(" "),this._render(),this._events(),this._settings.enable&&this.enable(),this.refresh()}dispose(){if(i.hasDataset(this._node,"uiOriginalTitle")){const t=i.getDataset(this._node,"uiOriginalTitle");i.setAttribute(this._node,"title",t),i.removeDataset(this._node,"uiOriginalTitle")}this._popper&&(this._popper.dispose(),this._popper=null),i.remove(this._tooltip),this._triggers.includes("hover")&&(i.removeEvent(this._node,"mouseover.ui.tooltip"),i.removeEvent(this._node,"mouseout.ui.tooltip")),this._triggers.includes("focus")&&(i.removeEvent(this._node,"focus.ui.tooltip"),i.removeEvent(this._node,"blur.ui.tooltip")),this._triggers.includes("click")&&i.removeEvent(this._node,"click.ui.tooltip"),this._modal&&i.removeEvent(this._modal,"hide.ui.modal"),this._modal=null,this._triggers=null,this._tooltip=null,this._tooltipInner=null,this._arrow=null,super.dispose()}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}hide(){return this._enabled?(this._animating&&i.stop(this._tooltip),i.isConnected(this._tooltip)&&i.triggerOne(this._node,"hide.ui.tooltip")?(this._animating=!0,i.fadeOut(this._tooltip,{duration:this._settings.duration}).then(t=>{this._popper.dispose(),this._popper=null,i.removeClass(this._tooltip,"show"),i.detach(this._tooltip),i.triggerEvent(this._node,"hidden.ui.tooltip")}).catch(t=>{}).finally(t=>{this._animating=!1}),this):this):this}refresh(){if(i.hasAttribute(this._node,"title")){const t=i.getAttribute(this._node,"title");i.setDataset(this._node,"uiOriginalTitle",t),i.removeAttribute(this._node,"title")}let t="";i.hasDataset(this._node,"uiTitle")?t=i.getDataset(this._node,"uiTitle"):this._settings.title?t=this._settings.title:i.hasDataset(this._node,"uiOriginalTitle")&&(t=i.getDataset(this._node,"uiOriginalTitle",t));const e=this._settings.html?"setHTML":"setText";return i[e](this._tooltipInner,this._settings.html&&this._settings.sanitize?this._settings.sanitize(t):t),this.update()}show(){return this._enabled?(this._animating&&i.stop(this._tooltip),i.isConnected(this._tooltip)||!i.triggerOne(this._node,"show.ui.tooltip")||(this._animating=!0,i.addClass(this._tooltip,"show"),this.refresh(),this._show(),i.fadeIn(this._tooltip,{duration:this._settings.duration}).then(t=>{i.triggerEvent(this._node,"shown.ui.tooltip")}).catch(t=>{}).finally(t=>{this._animating=!1})),this):this}toggle(){return i.isConnected(this._tooltip)?this.hide():this.show()}update(){return this._popper&&this._popper.update(),this}}return Object.assign(y.prototype,{_events(){this._triggers.includes("hover")&&(i.addEvent(this._node,"mouseover.ui.tooltip",t=>{this.show()}),i.addEvent(this._node,"mouseout.ui.tooltip",t=>{this.hide()})),this._triggers.includes("focus")&&(i.addEvent(this._node,"focus.ui.tooltip",t=>{this.show()}),i.addEvent(this._node,"blur.ui.tooltip",t=>{this.hide()})),this._triggers.includes("click")&&i.addEvent(this._node,"click.ui.tooltip",t=>{t.preventDefault(),this.toggle()}),this._modal&&i.addEvent(this._modal,"hide.ui.modal",t=>{this.hide()})}}),Object.assign(y.prototype,{_render(){this._tooltip=i.parseHTML(this._settings.template).shift(),this._settings.customClass&&i.addClass(this._tooltip,this._settings.customClass),this._arrow=i.find(".tooltip-arrow",this._tooltip),this._tooltipInner=i.find(".tooltip-inner",this._tooltip)},_show(){this._settings.appendTo?i.append(this._settings.appendTo,this._tooltip):i.after(this._node,this._tooltip),this._popper=new m(this._tooltip,{reference:this._node,arrow:this._arrow,placement:this._settings.placement,position:this._settings.position,fixed:this._settings.fixed,spacing:this._settings.spacing,minContact:this._settings.minContact})}}),y.defaults={template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',customClass:null,duration:100,enable:!0,html:!1,trigger:"hover focus",appendTo:null,sanitize:t=>i.sanitize(t),placement:"auto",position:"center",fixed:!1,spacing:2,minContact:!1},n.initComponent("tooltip",y),n.Tooltip=y,i.addEventDelegate(r,"click",'[data-ui-toggle="clipboard"]',t=>{t.preventDefault();const s=t.currentTarget,o=e.extend({action:"copy",text:!1},n.getDataset(s));if(!["copy","cut"].includes(o.action))throw new Error("Invalid clipboard action");let a,h;if(o.text)a=o.text;else{const t=n.getTarget(s);i.is(t,"input, textarea")?h=t:a=i.getText(t)}const d=!h;d&&(h=i.create("textarea",{class:"visually-hidden position-fixed",value:a}),i.append(r.body,h)),i.select(h),i.exec(o.action)&&i.triggerEvent(s,"copied.ui.clipboard",{detail:{action:o.action,text:i.getValue(h)}}),d&&i.remove(h)}),i.addEventDelegate(r,"mousedown.ui.ripple",".ripple",t=>{const e=i.position(t.currentTarget,!0);n.ripple(t.currentTarget,t.pageX-e.x,t.pageY-e.y)}),n.ripple=(t,e,s,o=500)=>{const r=i.width(t),n=i.height(t),a=3*Math.max(r,n),h=i.create("span",{class:"ripple-effect",style:{left:e,top:s}});i.append(t,h),i.animate(h,(t,e)=>{i.setStyle(t,{transform:"scale("+Math.floor(e*a)+")",opacity:1-Math.pow(e,2)})},{duration:o}).finally(t=>{i.remove(h)})},i.addEventDelegate(r,"input.ui.text-expand",".text-expand",t=>{const e=t.currentTarget;i.setStyle(e,"height","inherit");const s=i.css(e,"borderTop"),o=i.css(e,"borderBottom"),r=i.scrollHeight(e)+parseInt(s)+parseInt(o);i.setStyle(e,"height",r)}),{UI:n}})),{AjaxRequest:t.AjaxRequest,Animation:t.Animation,AnimationSet:t.AnimationSet,Core:t.Core,DOM:t.DOM,dom:t.dom,QuerySet,QuerySetImmutable,UI}}));
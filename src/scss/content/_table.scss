.table {
    --ui-table-border: #{$table-border-color};
    width: 100%;
    margin-bottom: $table-margin-bottom;

    > :not(caption) > * > * {
        padding: $table-cell-padding-y $table-cell-padding-x;
        color: var(--ui-table-color, #{$text-color});
        background-color: var(--ui-table-bg);
        border-bottom: $table-border-size $border-style var(--ui-table-border);
        box-shadow: inset 0 0 0 9999px var(--ui-table-accent-bg, transparent);
    }

    > :not(:last-child) > :last-child > * {
        border-bottom-width: $table-border-size * 2;
    }

    .thead-dark th {
        --ui-table-bg: #{$thead-dark-background-color};
        --ui-table-color: #{$thead-dark-color};
    }

    .thead-light th {
        --ui-table-bg: #{$thead-light-background-color};
        --ui-table-color: #{$thead-light-color};
    }
}

.table-bordered > :not(caption) > * > * {
    border: $table-border-size $border-style var(--ui-table-border);
}

.table-borderless > :not(caption) > * > * {
    border: 0;
}

.table-striped > tbody > tr:nth-child(odd) {
    --ui-table-accent-bg: var(--ui-table-striped-bg, #{$table-striped-background-color});
}

.table-hover > tbody > tr:hover {
    --ui-table-color: var(--ui-table-hover-color, #{$table-hover-color});
    --ui-table-accent-bg: var(--ui-table-hover-bg, #{$table-hover-background-color});
}

.table-sm > :not(caption) > * > * {
    padding: $table-sm-cell-padding-y $table-sm-cell-padding-x;
}

.table-dark {
    --ui-table-bg: #{$table-dark-background-color};
    --ui-table-color: #{$table-dark-color};
    --ui-table-striped-bg: #{$table-dark-striped-background-color};
    --ui-table-hover-bg: #{$table-dark-hover-background-color};
    --ui-table-hover-color: #{$table-dark-color};
    --ui-table-border: #{$table-dark-border-color};
}

@each $name, $color in $table-variants {
    .table-#{$name} {
        $background-color: tint($color, $table-background-color-tint);
        $text-color: text-color-contrast($background-color, $color);
        $hover-color: shade($text-color, $table-hover-color-shade);
        $border-color: tint($color, $table-border-color-tint);

        --ui-table-bg: #{$background-color};
        --ui-table-color: #{$text-color};
        --ui-table-hover-color: #{$hover-color};
        --ui-table-border: #{$border-color};
    }
}

@each $breakpoint in map-keys($breakpoints) {
    $infix: breakpoint-infix($breakpoint);

    @include media-breakpoint-down($breakpoint) {
        .table-responsive#{$infix} {
            overflow-x: auto;
        }
    }
}

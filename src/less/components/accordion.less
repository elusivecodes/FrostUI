.accordion-button {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
    padding: @spacing (@spacing * 1.25);
    font-size: @font-size;
    background-color: transparent;
    border: @border-size @border-style @border-color;
    border-radius: 0;
    overflow-anchor: none;
    transition: all @transition-time @transition-type;
    transition-property: color, background-color, border-color, border-radius;

    &,
    &:hover,
    &:focus {
        color: @text;
        text-decoration: none;
    }

    &.collapsed {
        border-bottom-width: 0;

        &:focus {
            background-color: @shadow-color;
        }    
    }

    &:not(.collapsed) {
        color: shade(@primary, @text-darker);
        background-color: fade(@primary, @bg-fade);

        &:focus {
            background-color: fade(@primary, @bg-fade * 2);
        }
    
        &::after {
            transform: rotate(180deg);
        }
    }

    &::after {
        flex-shrink: 0;
        width: 1.25rem;
        height: 1.25rem;
        margin-left: auto;
        content: @arrow-down;
        transition: transform @transition-time @transition-type;
    }

    &:hover {
        z-index: 2;
    }

    &:focus {
        z-index: 3;
        outline: 0;
    }
}

.accordion-header {
    margin-bottom: 0;
}

.accordion-item {
    &:first-of-type .accordion-button {
        border-top-left-radius: @border-radius;
        border-top-right-radius: @border-radius;
    }

    &:last-of-type {
        .accordion-button.collapsed,
        .accordion-collapse {
                border-bottom-width: @border-size;
                border-bottom-left-radius: @border-radius;
                border-bottom-right-radius: @border-radius;
        }
    }
}

.accordion-collapse {
    border: @border-style @border-color;
    border-width: 0 @border-size;
}

.accordion-body {
    padding: @spacing (@spacing * 1.25);
}

.accordion-flush {
    .accordion-button {
        border-right-width: 0;
        border-left-width: 0;
        border-radius: 0;
    }

    .accordion-collapse {
        border-width: 0;
    }

    .accordion-item {
        &:first-of-type .accordion-button {
            border-top-width: 0;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }

        &:last-of-type .accordion-button.collapsed {
            border-bottom-width: 0;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }
    }
}